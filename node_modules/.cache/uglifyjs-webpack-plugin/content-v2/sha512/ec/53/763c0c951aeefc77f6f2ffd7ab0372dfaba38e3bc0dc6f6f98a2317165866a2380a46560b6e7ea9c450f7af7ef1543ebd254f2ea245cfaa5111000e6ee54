{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{165:function(t,s,a){\"use strict\";a.r(s);var n=a(0),e=Object(n.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a(\"div\",{staticClass:\"content\"},[t._m(0),a(\"p\",[t._v(\"在 Node.js 模块系统中，每个文件都被视为独立的模块。这个文件可能是 JavaScript 代码、JSON 或者编译过的 C/C++ 扩展\")]),t._m(1),a(\"p\",[t._v(\"通过使用模块机制, 我们可以把一个复杂程序各个功能拆分, 分别封装到不同的文件. 在需要的时候引入相关的模块.\\n这样做可以让代码的可读性, 复用性, 和易维护性够变得更高.\")]),a(\"p\",[t._v(\"Node.js 的模块机制实现参照了 CommonJS 标准.\")]),t._m(2),a(\"p\",[t._v(\"Node.js 使用 exports 对象 和 require 方法来管理模块依赖.\")]),t._m(3),t._m(4),t._m(5),a(\"p\",[t._v(\"在以上示例中，myModule.js 通过在 exports 对象指定 setName 和 getName 这两个方法, 两个匿名函数被\\b导出了\\b.\")]),t._m(6),t._m(7),t._m(8),t._m(9),t._m(10),t._m(11),t._m(12),a(\"p\",[t._v(\"当它执行的时候, 经历下面五个步骤:\")]),t._m(13),t._m(14),t._m(15),t._m(16),t._m(17),a(\"p\",[t._v(\"每一个模块都有一个唯一的 id 属性来标示它。id 通常是文件的完整绝对路径.\")]),a(\"p\",[t._v(\"Node 模块和文件系统中的文件通常是一一对应的，引入一个模块需要把文件内容加载到内存中。\")]),t._m(18),t._m(19),t._m(20),t._m(21),t._m(22),t._m(23),t._m(24),t._m(25),t._m(26),t._m(27),a(\"p\",[t._v(\"如果指定了模块的绝对路径, 或者相对路径.\")]),a(\"p\",[t._v(\"例如:\")]),t._m(28),t._m(29),a(\"p\",[t._v(\"加载顺序为:\")]),t._m(30),t._m(31),a(\"ul\",[a(\"li\",[a(\"a\",{attrs:{href:\"http://nodejs.cn/api/modules.html#modules_the_module_object\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"Node 官方文档\"),a(\"OutboundLink\")],1)]),a(\"li\",[a(\"a\",{attrs:{href:\"https://github.com/yjhjstz/deep-into-node/blob/master/chapter2/chapter2-2.md\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"深入源码 - Chapter 2\"),a(\"OutboundLink\")],1)])])])},[function(){var t=this.$createElement,s=this._self._c||t;return s(\"h1\",{attrs:{id:\"模块机制\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#模块机制\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" 模块机制:\")])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"blockquote\",[s(\"p\",[this._v(\"比如 http 是 Node.js 的一个核心模块，其内部是用 C++ 实现的，外部用 JavaScript 封装。\")])])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"h2\",{attrs:{id:\"创建-加载模块\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#创建-加载模块\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" 创建 & 加载模块:\")])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"ul\",[s(\"li\",[s(\"p\",[this._v(\"exports 对象 里定义了模块中想要被外界访问的内容.\")])]),s(\"li\",[s(\"p\",[this._v(\"require 方法 引入外界模块到\\b当前文件.\")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a(\"div\",{staticClass:\"language-js line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[a(\"code\",[a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// myModule.js\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" name \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"''\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\nexports\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function-variable function\"}},[t._v(\"setName\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"function\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"setName\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    name \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" setName\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\\nexports\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function-variable function\"}},[t._v(\"getName\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"function\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"return\")]),t._v(\" name\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\")])]),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[t._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[t._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[t._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[t._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[t._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[t._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[t._v(\"7\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[t._v(\"8\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[t._v(\"9\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[t._v(\"10\")]),a(\"br\")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a(\"div\",{staticClass:\"language-js line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[a(\"code\",[a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// getModule.js\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" myModule \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"require\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'./myModule'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\nmyModule\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"setName\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v('\"Garrik\"')]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\nconsole\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"log\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"myModule\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"getName\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\")])]),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[t._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[t._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[t._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[t._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[t._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[t._v(\"6\")]),a(\"br\")])])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"p\",[this._v(\"在 getmodule.js 中通过 \"),s(\"code\",[this._v(\"require('./myModule')\")]),this._v(\"加载这个模块，然后就可以直接访问 myModule.js 中定义在 exports 对象里的函数了。\")])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"h2\",{attrs:{id:\"深入-require-方法\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#深入-require-方法\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" \\b深入 require 方法:\")])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"p\",[s(\"code\",[this._v(\"require\")]),this._v(\" 源码:\")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a(\"div\",{staticClass:\"language-js line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[a(\"code\",[a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// Loads a module at the given file path. Returns that module's\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// `exports` property.\")]),t._v(\"\\nModule\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"prototype\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function-variable function\"}},[t._v(\"require\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"function\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"path\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"assert\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"path\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'missing path'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"assert\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"typeof\")]),t._v(\" path \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"===\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'string'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'path must be a string'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"return\")]),t._v(\" Module\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"_load\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"path\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"this\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\")])]),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[t._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[t._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[t._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[t._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[t._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[t._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[t._v(\"7\")]),a(\"br\")])])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"p\",[s(\"code\",[this._v(\"require()\")]),this._v(\" 函数是 \"),s(\"code\",[this._v(\"Module\\b\")]),this._v(\"对象 原型上的一个方法.\")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a(\"p\",[t._v(\"接收一个路径 (\"),a(\"code\",[t._v(\"path\")]),t._v(\") 作为参数,  \"),a(\"code\",[t._v(\"assert\")]),t._v(\" 模块进行简单的 \"),a(\"code\",[t._v(\"path\")]),t._v(\" 变量的判断，需要传人的 \"),a(\"code\",[t._v(\"path\")]),t._v(\" 是一个 \"),a(\"code\",[t._v(\"string\")]),t._v(\" 类型。\")])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"p\",[this._v(\"模块文件的后缀 ( 例如: \"),s(\"code\",[this._v(\".js\")]),this._v(\", \"),s(\"code\",[this._v(\".json\")]),this._v(\", \"),s(\"code\",[this._v(\".node\")]),this._v(\") 可以省略.\")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a(\"ul\",[a(\"li\",[a(\"p\",[a(\"code\",[t._v(\"Resolving\")]),t._v(\": 找到文件的绝对路径；\")])]),a(\"li\",[a(\"p\",[a(\"code\",[t._v(\"Loading\")]),t._v(\": 判断文件内容类型；\")])]),a(\"li\",[a(\"p\",[a(\"code\",[t._v(\"Wrapping\")]),t._v(\": 打包，给这个文件赋予一个私有作用范围\")])]),a(\"li\",[a(\"p\",[a(\"code\",[t._v(\"Evaluating\")]),t._v(\": VM 对加载的代码进行处理的地方；\")])]),a(\"li\",[a(\"p\",[a(\"code\",[t._v(\"Caching\")]),t._v(\": 缓存, 当再次需要用这个文件的时候，不需要重复一遍上面步骤。\")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"h3\",{attrs:{id:\"resolving-解析路径\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#resolving-解析路径\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" Resolving - 解析路径:\")])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"p\",[this._v(\"在每个模块中都有一个 \"),s(\"code\",[this._v(\"module\")]),this._v(\"对象 (\"),s(\"code\",[this._v(\"Module\")]),this._v(\" 的实例) 作为当前模块的引用.\")])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"p\",[s(\"code\",[this._v(\"module\")]),this._v(\" 对象\\b可能看起来像下面这样:\")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a(\"div\",{staticClass:\"language-js line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[a(\"code\",[t._v(\"Module \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// 模块的标识符。 通常是完全解析后的文件名。\")]),t._v(\"\\n  id\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'.'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// \")]),t._v(\"\\n  exports\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" name\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'Garrik'\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// 最先引用该模块的模块\")]),t._v(\"\\n  parent\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"null\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// 模块的完全解析后的文件名\")]),t._v(\"\\n  filename\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'/Users/xiangliu/Desktop/testNode/myModules/myName.js'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// 模块是否已经加载完成，或正在加载中\")]),t._v(\"\\n  loaded\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token boolean\"}},[t._v(\"false\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// 被该模块引用的模块对象\")]),t._v(\"\\n  children\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// 模块的搜索路径\")]),t._v(\"\\n  paths\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\"\\n   \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'/Users/xiangliu/Desktop/testNode/myModules/node_modules'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n     \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'/Users/xiangliu/Desktop/testNode/node_modules'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n     \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'/Users/xiangliu/Desktop/node_modules'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n     \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'/Users/xiangliu/node_modules'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n     \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'/Users/node_modules'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n     \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'/node_modules'\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\")])]),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[t._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[t._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[t._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[t._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[t._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[t._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[t._v(\"7\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[t._v(\"8\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[t._v(\"9\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[t._v(\"10\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[t._v(\"11\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[t._v(\"12\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[t._v(\"13\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[t._v(\"14\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[t._v(\"15\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[t._v(\"16\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[t._v(\"17\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[t._v(\"18\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[t._v(\"19\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[t._v(\"20\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[t._v(\"21\")]),a(\"br\")])])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"h4\",{attrs:{id:\"路径参数\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#路径参数\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" 路径参数:\")])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"p\",[this._v(\"在用\"),s(\"code\",[this._v(\"require()\")]),this._v(\"引入\\b模块时, 路径参数可能有下面\\b三种形式:\")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a(\"ul\",[a(\"li\",[t._v(\"相对路径: \"),a(\"code\",[t._v(\"./\")]),t._v(\"开头 或 \"),a(\"code\",[t._v(\"../\")]),t._v(\"开头\")]),a(\"li\",[t._v(\"绝对路径\\b: \"),a(\"code\",[t._v(\"/\")]),t._v(\"开头\")]),a(\"li\",[t._v(\"\\b模块名 (例如: \"),a(\"code\",[t._v(\"http\")]),t._v(\", \"),a(\"code\",[t._v(\"fs\")]),t._v(\", \"),a(\"code\",[t._v(\"url\")]),t._v(\")\")])])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"h4\",{attrs:{id:\"无路径-直接模块名\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#无路径-直接模块名\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" 无路径, 直接模块名:\")])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"p\",[this._v(\"如果我引入了一个 \"),s(\"code\",[this._v(\"haha\")]),this._v(\" 模块，并没有指定它的路径的话：\")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a(\"div\",{staticClass:\"language-js line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[a(\"code\",[a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" haha \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"require\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'haha'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\")])]),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[t._v(\"1\")]),a(\"br\")])])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"p\",[this._v(\"Node 会按照 \"),s(\"code\",[this._v(\"module.paths\")]),this._v(\" 所指定的文件目录顺序依次寻找 \"),s(\"code\",[this._v(\"haha\")]),this._v(\" 的所在。若有两个同名文件，则遵循就近原则。优先引入目录顺序靠前的模块.\")])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"p\",[this._v(\"模块不一定非要是文件，也可以是个文件夹。我们可以在 node_modules 中创建一个 haha 文件夹，并且放一个 index.js 文件在其中。那么执行 \"),s(\"code\",[this._v(\"require('haha')\")]),this._v(\" 将会默认使用 index.js 文件.\")])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"p\",[this._v(\"也可以手动控制指定到其他文件，修改 \"),s(\"code\",[this._v(\"package.json\")]),this._v(\" 的 \"),s(\"code\",[this._v(\"main\")]),this._v(\" 属性就可以。\")])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"h4\",{attrs:{id:\"有路径\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#有路径\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" 有路径:\")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a(\"div\",{staticClass:\"language-js line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[a(\"code\",[a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" haha \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"require\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'./lib/haha'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\")])]),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[t._v(\"1\")]),a(\"br\")])])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"p\",[this._v(\"因为用 \"),s(\"code\",[this._v(\"require\")]),this._v(\" 来加载文件时可以省略扩展名, 所以在加载的时候, Node 会猜测文件的类型.\")])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"ul\",[s(\"li\",[this._v(\"按 js 文件来执行（先找对应路径当中是否有 haha.js 文件\\b, 有就加载）\")]),s(\"li\",[this._v(\"按 json 文件来解析（若上面的 js 文件找不到时，则找对应路径当中的 haha.json 文件来加载）\")]),s(\"li\",[this._v(\"按照预编译好的 c++模块 来执行（还没有, 寻找对应路径当中的 haha.node 文件来加载）\")]),s(\"li\",[this._v(\"若参数字符串为一个目录（文件夹）的路径, 则自动先查找该文件夹下的 package.json 文件，然后再加载该文件当中 main字段 所指定的入口文件。（若 package.json 文件当中没有 main字段，或者根本没有 package.json 文件，则再默认查找该文件夹下的 index.js 文件, 并作为模块来载入。）\")]),s(\"li\",[this._v(\"要是还没有就玩蛋去吧!\")])])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"h2\",{attrs:{id:\"参考\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#参考\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" 参考:\")])}],!1,null,null,null);s.default=e.exports}}]);","extractedComments":[]}
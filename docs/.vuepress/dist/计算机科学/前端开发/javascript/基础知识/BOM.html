<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>BOM | Garrik 的笔记</title>
    <meta name="description" content="这里是 Garrik 的前端笔记本">
    
    
    <link rel="preload" href="/my-notebook/assets/css/0.styles.24c4c005.css" as="style"><link rel="preload" href="/my-notebook/assets/js/app.cff76409.js" as="script"><link rel="preload" href="/my-notebook/assets/js/2.4605f295.js" as="script"><link rel="preload" href="/my-notebook/assets/js/92.2ae9a280.js" as="script"><link rel="prefetch" href="/my-notebook/assets/js/10.c92468d0.js"><link rel="prefetch" href="/my-notebook/assets/js/100.a4656f12.js"><link rel="prefetch" href="/my-notebook/assets/js/101.8a942a72.js"><link rel="prefetch" href="/my-notebook/assets/js/102.732bfc9f.js"><link rel="prefetch" href="/my-notebook/assets/js/103.198000e2.js"><link rel="prefetch" href="/my-notebook/assets/js/104.9324e4da.js"><link rel="prefetch" href="/my-notebook/assets/js/105.a8870bdc.js"><link rel="prefetch" href="/my-notebook/assets/js/106.5b211bb4.js"><link rel="prefetch" href="/my-notebook/assets/js/107.a4280f73.js"><link rel="prefetch" href="/my-notebook/assets/js/108.4b5ee88d.js"><link rel="prefetch" href="/my-notebook/assets/js/109.ad3b304f.js"><link rel="prefetch" href="/my-notebook/assets/js/11.7ffae4c3.js"><link rel="prefetch" href="/my-notebook/assets/js/110.6851e19d.js"><link rel="prefetch" href="/my-notebook/assets/js/111.32499c84.js"><link rel="prefetch" href="/my-notebook/assets/js/112.c1fa9327.js"><link rel="prefetch" href="/my-notebook/assets/js/113.911ef945.js"><link rel="prefetch" href="/my-notebook/assets/js/114.6c792dd4.js"><link rel="prefetch" href="/my-notebook/assets/js/115.197354d2.js"><link rel="prefetch" href="/my-notebook/assets/js/116.c91d6e7c.js"><link rel="prefetch" href="/my-notebook/assets/js/117.b24c25da.js"><link rel="prefetch" href="/my-notebook/assets/js/118.335a5e67.js"><link rel="prefetch" href="/my-notebook/assets/js/119.cd73d303.js"><link rel="prefetch" href="/my-notebook/assets/js/12.7fafefb4.js"><link rel="prefetch" href="/my-notebook/assets/js/120.3b3ea757.js"><link rel="prefetch" href="/my-notebook/assets/js/121.9803017e.js"><link rel="prefetch" href="/my-notebook/assets/js/122.ccae5352.js"><link rel="prefetch" href="/my-notebook/assets/js/123.193740fe.js"><link rel="prefetch" href="/my-notebook/assets/js/124.ee30ccc2.js"><link rel="prefetch" href="/my-notebook/assets/js/125.d7cf022c.js"><link rel="prefetch" href="/my-notebook/assets/js/126.65e5bbcb.js"><link rel="prefetch" href="/my-notebook/assets/js/127.d2839c88.js"><link rel="prefetch" href="/my-notebook/assets/js/128.d1ba9d3b.js"><link rel="prefetch" href="/my-notebook/assets/js/129.1c1ab4fd.js"><link rel="prefetch" href="/my-notebook/assets/js/13.b4cd748a.js"><link rel="prefetch" href="/my-notebook/assets/js/130.434751c0.js"><link rel="prefetch" href="/my-notebook/assets/js/131.e35a2604.js"><link rel="prefetch" href="/my-notebook/assets/js/132.a0a436dc.js"><link rel="prefetch" href="/my-notebook/assets/js/133.e4550dbc.js"><link rel="prefetch" href="/my-notebook/assets/js/134.31522476.js"><link rel="prefetch" href="/my-notebook/assets/js/135.925af2e9.js"><link rel="prefetch" href="/my-notebook/assets/js/136.8dedad39.js"><link rel="prefetch" href="/my-notebook/assets/js/137.c4df71a4.js"><link rel="prefetch" href="/my-notebook/assets/js/138.0f015a30.js"><link rel="prefetch" href="/my-notebook/assets/js/139.4e7dd6bb.js"><link rel="prefetch" href="/my-notebook/assets/js/14.90797933.js"><link rel="prefetch" href="/my-notebook/assets/js/140.f5b170f3.js"><link rel="prefetch" href="/my-notebook/assets/js/141.ebd9c281.js"><link rel="prefetch" href="/my-notebook/assets/js/142.755f15b5.js"><link rel="prefetch" href="/my-notebook/assets/js/143.e21dd752.js"><link rel="prefetch" href="/my-notebook/assets/js/144.4301a71c.js"><link rel="prefetch" href="/my-notebook/assets/js/145.66a324fc.js"><link rel="prefetch" href="/my-notebook/assets/js/146.eb2e6113.js"><link rel="prefetch" href="/my-notebook/assets/js/147.61e40392.js"><link rel="prefetch" href="/my-notebook/assets/js/148.805fb824.js"><link rel="prefetch" href="/my-notebook/assets/js/149.f0903956.js"><link rel="prefetch" href="/my-notebook/assets/js/15.99ceae3a.js"><link rel="prefetch" href="/my-notebook/assets/js/150.0c93eb0a.js"><link rel="prefetch" href="/my-notebook/assets/js/151.7cba0a1b.js"><link rel="prefetch" href="/my-notebook/assets/js/152.ff9338fa.js"><link rel="prefetch" href="/my-notebook/assets/js/153.a2196ceb.js"><link rel="prefetch" href="/my-notebook/assets/js/154.f0306781.js"><link rel="prefetch" href="/my-notebook/assets/js/155.5af0c067.js"><link rel="prefetch" href="/my-notebook/assets/js/156.56b1d7e9.js"><link rel="prefetch" href="/my-notebook/assets/js/157.cd5ee590.js"><link rel="prefetch" href="/my-notebook/assets/js/158.ab191f87.js"><link rel="prefetch" href="/my-notebook/assets/js/159.8cbaaa8a.js"><link rel="prefetch" href="/my-notebook/assets/js/16.b54b076e.js"><link rel="prefetch" href="/my-notebook/assets/js/160.3a3f6302.js"><link rel="prefetch" href="/my-notebook/assets/js/161.a7c38594.js"><link rel="prefetch" href="/my-notebook/assets/js/162.37612518.js"><link rel="prefetch" href="/my-notebook/assets/js/163.a4a5cb7c.js"><link rel="prefetch" href="/my-notebook/assets/js/164.0b3af6aa.js"><link rel="prefetch" href="/my-notebook/assets/js/165.433954d5.js"><link rel="prefetch" href="/my-notebook/assets/js/166.08a9caea.js"><link rel="prefetch" href="/my-notebook/assets/js/167.041e0e26.js"><link rel="prefetch" href="/my-notebook/assets/js/168.fe8d8447.js"><link rel="prefetch" href="/my-notebook/assets/js/169.52998058.js"><link rel="prefetch" href="/my-notebook/assets/js/17.1577fe8b.js"><link rel="prefetch" href="/my-notebook/assets/js/170.5cd5ffba.js"><link rel="prefetch" href="/my-notebook/assets/js/171.6b863fbd.js"><link rel="prefetch" href="/my-notebook/assets/js/172.7ddb4f83.js"><link rel="prefetch" href="/my-notebook/assets/js/173.ab736830.js"><link rel="prefetch" href="/my-notebook/assets/js/174.6d476c25.js"><link rel="prefetch" href="/my-notebook/assets/js/175.d349a03a.js"><link rel="prefetch" href="/my-notebook/assets/js/176.de1d76a6.js"><link rel="prefetch" href="/my-notebook/assets/js/177.32f19546.js"><link rel="prefetch" href="/my-notebook/assets/js/178.12e68a2f.js"><link rel="prefetch" href="/my-notebook/assets/js/179.3c3aa44f.js"><link rel="prefetch" href="/my-notebook/assets/js/18.0cb76649.js"><link rel="prefetch" href="/my-notebook/assets/js/180.5f24b943.js"><link rel="prefetch" href="/my-notebook/assets/js/181.88651877.js"><link rel="prefetch" href="/my-notebook/assets/js/182.cea7b3b8.js"><link rel="prefetch" href="/my-notebook/assets/js/183.e8fdb657.js"><link rel="prefetch" href="/my-notebook/assets/js/184.c2a40dd4.js"><link rel="prefetch" href="/my-notebook/assets/js/185.c7b31a41.js"><link rel="prefetch" href="/my-notebook/assets/js/186.6fbfd454.js"><link rel="prefetch" href="/my-notebook/assets/js/187.af57d2c1.js"><link rel="prefetch" href="/my-notebook/assets/js/188.b446104f.js"><link rel="prefetch" href="/my-notebook/assets/js/189.83b20dfd.js"><link rel="prefetch" href="/my-notebook/assets/js/19.9bf51549.js"><link rel="prefetch" href="/my-notebook/assets/js/190.b0f52131.js"><link rel="prefetch" href="/my-notebook/assets/js/191.be6a1fe0.js"><link rel="prefetch" href="/my-notebook/assets/js/192.494df820.js"><link rel="prefetch" href="/my-notebook/assets/js/193.c39e76aa.js"><link rel="prefetch" href="/my-notebook/assets/js/194.3e9ddb2b.js"><link rel="prefetch" href="/my-notebook/assets/js/195.10c0d649.js"><link rel="prefetch" href="/my-notebook/assets/js/196.47bff69d.js"><link rel="prefetch" href="/my-notebook/assets/js/197.57df68cb.js"><link rel="prefetch" href="/my-notebook/assets/js/198.510eb802.js"><link rel="prefetch" href="/my-notebook/assets/js/199.f04de605.js"><link rel="prefetch" href="/my-notebook/assets/js/20.05ad6b9e.js"><link rel="prefetch" href="/my-notebook/assets/js/200.4cdc1131.js"><link rel="prefetch" href="/my-notebook/assets/js/201.0a5152e9.js"><link rel="prefetch" href="/my-notebook/assets/js/202.dd7d21b5.js"><link rel="prefetch" href="/my-notebook/assets/js/203.2a900f33.js"><link rel="prefetch" href="/my-notebook/assets/js/204.f4776500.js"><link rel="prefetch" href="/my-notebook/assets/js/205.d83a736d.js"><link rel="prefetch" href="/my-notebook/assets/js/206.4a6a02c2.js"><link rel="prefetch" href="/my-notebook/assets/js/207.3ff41ba0.js"><link rel="prefetch" href="/my-notebook/assets/js/208.0f2e1657.js"><link rel="prefetch" href="/my-notebook/assets/js/209.9d7c9e8c.js"><link rel="prefetch" href="/my-notebook/assets/js/21.2e4841d0.js"><link rel="prefetch" href="/my-notebook/assets/js/210.940464bd.js"><link rel="prefetch" href="/my-notebook/assets/js/211.88a646c8.js"><link rel="prefetch" href="/my-notebook/assets/js/212.4650a1dd.js"><link rel="prefetch" href="/my-notebook/assets/js/213.d565d985.js"><link rel="prefetch" href="/my-notebook/assets/js/214.1bf0f0f7.js"><link rel="prefetch" href="/my-notebook/assets/js/215.8e63dba9.js"><link rel="prefetch" href="/my-notebook/assets/js/216.ae2639e4.js"><link rel="prefetch" href="/my-notebook/assets/js/217.1d52ae85.js"><link rel="prefetch" href="/my-notebook/assets/js/218.8b1cef21.js"><link rel="prefetch" href="/my-notebook/assets/js/219.83bd890a.js"><link rel="prefetch" href="/my-notebook/assets/js/22.b836927b.js"><link rel="prefetch" href="/my-notebook/assets/js/220.047594aa.js"><link rel="prefetch" href="/my-notebook/assets/js/221.4a93cf71.js"><link rel="prefetch" href="/my-notebook/assets/js/222.f2984691.js"><link rel="prefetch" href="/my-notebook/assets/js/223.11bd8dcc.js"><link rel="prefetch" href="/my-notebook/assets/js/224.825a7642.js"><link rel="prefetch" href="/my-notebook/assets/js/225.a70c7570.js"><link rel="prefetch" href="/my-notebook/assets/js/226.7364fc42.js"><link rel="prefetch" href="/my-notebook/assets/js/227.9ec88f80.js"><link rel="prefetch" href="/my-notebook/assets/js/228.85e5444f.js"><link rel="prefetch" href="/my-notebook/assets/js/229.9b1d5dc5.js"><link rel="prefetch" href="/my-notebook/assets/js/23.acddffbd.js"><link rel="prefetch" href="/my-notebook/assets/js/230.c7140aff.js"><link rel="prefetch" href="/my-notebook/assets/js/231.0fa44956.js"><link rel="prefetch" href="/my-notebook/assets/js/232.24d43f76.js"><link rel="prefetch" href="/my-notebook/assets/js/233.72b550c4.js"><link rel="prefetch" href="/my-notebook/assets/js/234.7f8e5f46.js"><link rel="prefetch" href="/my-notebook/assets/js/235.809970ce.js"><link rel="prefetch" href="/my-notebook/assets/js/236.ad58e94a.js"><link rel="prefetch" href="/my-notebook/assets/js/237.55549672.js"><link rel="prefetch" href="/my-notebook/assets/js/238.dc79f213.js"><link rel="prefetch" href="/my-notebook/assets/js/239.e1247314.js"><link rel="prefetch" href="/my-notebook/assets/js/24.864e53ab.js"><link rel="prefetch" href="/my-notebook/assets/js/240.6c092c7a.js"><link rel="prefetch" href="/my-notebook/assets/js/241.071838e1.js"><link rel="prefetch" href="/my-notebook/assets/js/242.ef188f87.js"><link rel="prefetch" href="/my-notebook/assets/js/243.c0fd8ab7.js"><link rel="prefetch" href="/my-notebook/assets/js/244.e668b9f7.js"><link rel="prefetch" href="/my-notebook/assets/js/245.4c198d18.js"><link rel="prefetch" href="/my-notebook/assets/js/246.d8fd0590.js"><link rel="prefetch" href="/my-notebook/assets/js/247.a877d301.js"><link rel="prefetch" href="/my-notebook/assets/js/248.0ff8fcf3.js"><link rel="prefetch" href="/my-notebook/assets/js/249.3df96cd2.js"><link rel="prefetch" href="/my-notebook/assets/js/25.95cfee45.js"><link rel="prefetch" href="/my-notebook/assets/js/250.0d3c62a8.js"><link rel="prefetch" href="/my-notebook/assets/js/251.868fca7d.js"><link rel="prefetch" href="/my-notebook/assets/js/252.7d6eaed6.js"><link rel="prefetch" href="/my-notebook/assets/js/253.3bafe437.js"><link rel="prefetch" href="/my-notebook/assets/js/254.0e4fde70.js"><link rel="prefetch" href="/my-notebook/assets/js/255.9b1e0545.js"><link rel="prefetch" href="/my-notebook/assets/js/256.186bf814.js"><link rel="prefetch" href="/my-notebook/assets/js/257.f721b07d.js"><link rel="prefetch" href="/my-notebook/assets/js/258.aff45d84.js"><link rel="prefetch" href="/my-notebook/assets/js/259.59468791.js"><link rel="prefetch" href="/my-notebook/assets/js/26.97b73810.js"><link rel="prefetch" href="/my-notebook/assets/js/260.0883e89d.js"><link rel="prefetch" href="/my-notebook/assets/js/261.6d782b33.js"><link rel="prefetch" href="/my-notebook/assets/js/262.e4a44c82.js"><link rel="prefetch" href="/my-notebook/assets/js/263.4e398c9f.js"><link rel="prefetch" href="/my-notebook/assets/js/264.6c6b0b8e.js"><link rel="prefetch" href="/my-notebook/assets/js/265.6f76ba1e.js"><link rel="prefetch" href="/my-notebook/assets/js/266.b1b5a0fc.js"><link rel="prefetch" href="/my-notebook/assets/js/267.07aa7ac3.js"><link rel="prefetch" href="/my-notebook/assets/js/268.d45af05c.js"><link rel="prefetch" href="/my-notebook/assets/js/269.3150aec1.js"><link rel="prefetch" href="/my-notebook/assets/js/27.1abba98c.js"><link rel="prefetch" href="/my-notebook/assets/js/270.0eece0b4.js"><link rel="prefetch" href="/my-notebook/assets/js/271.a027e0dd.js"><link rel="prefetch" href="/my-notebook/assets/js/272.0e0fa72d.js"><link rel="prefetch" href="/my-notebook/assets/js/273.ae91420c.js"><link rel="prefetch" href="/my-notebook/assets/js/274.892271fb.js"><link rel="prefetch" href="/my-notebook/assets/js/275.e5d8263a.js"><link rel="prefetch" href="/my-notebook/assets/js/276.44811d7c.js"><link rel="prefetch" href="/my-notebook/assets/js/277.ece872a5.js"><link rel="prefetch" href="/my-notebook/assets/js/278.eefb814a.js"><link rel="prefetch" href="/my-notebook/assets/js/279.470f0ed5.js"><link rel="prefetch" href="/my-notebook/assets/js/28.5e2ee635.js"><link rel="prefetch" href="/my-notebook/assets/js/280.97a63ea3.js"><link rel="prefetch" href="/my-notebook/assets/js/281.cb0e6143.js"><link rel="prefetch" href="/my-notebook/assets/js/282.0281707f.js"><link rel="prefetch" href="/my-notebook/assets/js/283.e6949e32.js"><link rel="prefetch" href="/my-notebook/assets/js/284.c58eb595.js"><link rel="prefetch" href="/my-notebook/assets/js/285.7366b8ff.js"><link rel="prefetch" href="/my-notebook/assets/js/286.882f84d7.js"><link rel="prefetch" href="/my-notebook/assets/js/287.4209a09e.js"><link rel="prefetch" href="/my-notebook/assets/js/29.7e5db0c3.js"><link rel="prefetch" href="/my-notebook/assets/js/3.92185172.js"><link rel="prefetch" href="/my-notebook/assets/js/30.34239146.js"><link rel="prefetch" href="/my-notebook/assets/js/31.52844c62.js"><link rel="prefetch" href="/my-notebook/assets/js/32.8f98d966.js"><link rel="prefetch" href="/my-notebook/assets/js/33.c27691e3.js"><link rel="prefetch" href="/my-notebook/assets/js/34.f0c4f09d.js"><link rel="prefetch" href="/my-notebook/assets/js/35.03fa61ff.js"><link rel="prefetch" href="/my-notebook/assets/js/36.eb712d0b.js"><link rel="prefetch" href="/my-notebook/assets/js/37.d04c7a00.js"><link rel="prefetch" href="/my-notebook/assets/js/38.ac775662.js"><link rel="prefetch" href="/my-notebook/assets/js/39.95ddb68f.js"><link rel="prefetch" href="/my-notebook/assets/js/4.00c6a434.js"><link rel="prefetch" href="/my-notebook/assets/js/40.fe73582f.js"><link rel="prefetch" href="/my-notebook/assets/js/41.bd16ab72.js"><link rel="prefetch" href="/my-notebook/assets/js/42.7c760c49.js"><link rel="prefetch" href="/my-notebook/assets/js/43.e574f540.js"><link rel="prefetch" href="/my-notebook/assets/js/44.9fb98d24.js"><link rel="prefetch" href="/my-notebook/assets/js/45.6cba4b7e.js"><link rel="prefetch" href="/my-notebook/assets/js/46.c8cd2d2b.js"><link rel="prefetch" href="/my-notebook/assets/js/47.30aa9db1.js"><link rel="prefetch" href="/my-notebook/assets/js/48.e7269f72.js"><link rel="prefetch" href="/my-notebook/assets/js/49.53d84265.js"><link rel="prefetch" href="/my-notebook/assets/js/5.64aac286.js"><link rel="prefetch" href="/my-notebook/assets/js/50.6632ca89.js"><link rel="prefetch" href="/my-notebook/assets/js/51.0321fe04.js"><link rel="prefetch" href="/my-notebook/assets/js/52.2bf298ce.js"><link rel="prefetch" href="/my-notebook/assets/js/53.61f99656.js"><link rel="prefetch" href="/my-notebook/assets/js/54.76472331.js"><link rel="prefetch" href="/my-notebook/assets/js/55.f80559c1.js"><link rel="prefetch" href="/my-notebook/assets/js/56.6314ddf0.js"><link rel="prefetch" href="/my-notebook/assets/js/57.f38c8651.js"><link rel="prefetch" href="/my-notebook/assets/js/58.0d20263e.js"><link rel="prefetch" href="/my-notebook/assets/js/59.feb58686.js"><link rel="prefetch" href="/my-notebook/assets/js/6.a9d5cd87.js"><link rel="prefetch" href="/my-notebook/assets/js/60.5b1f1301.js"><link rel="prefetch" href="/my-notebook/assets/js/61.ae029517.js"><link rel="prefetch" href="/my-notebook/assets/js/62.12da8ee5.js"><link rel="prefetch" href="/my-notebook/assets/js/63.822e670a.js"><link rel="prefetch" href="/my-notebook/assets/js/64.5386367c.js"><link rel="prefetch" href="/my-notebook/assets/js/65.80158559.js"><link rel="prefetch" href="/my-notebook/assets/js/66.e8775ff4.js"><link rel="prefetch" href="/my-notebook/assets/js/67.dc3ebb6e.js"><link rel="prefetch" href="/my-notebook/assets/js/68.03f6c7ea.js"><link rel="prefetch" href="/my-notebook/assets/js/69.1da8c87e.js"><link rel="prefetch" href="/my-notebook/assets/js/7.2aae3e83.js"><link rel="prefetch" href="/my-notebook/assets/js/70.dd76aa05.js"><link rel="prefetch" href="/my-notebook/assets/js/71.e867f041.js"><link rel="prefetch" href="/my-notebook/assets/js/72.005f4aa0.js"><link rel="prefetch" href="/my-notebook/assets/js/73.12b328c9.js"><link rel="prefetch" href="/my-notebook/assets/js/74.63d564f2.js"><link rel="prefetch" href="/my-notebook/assets/js/75.792d3651.js"><link rel="prefetch" href="/my-notebook/assets/js/76.b5ea18de.js"><link rel="prefetch" href="/my-notebook/assets/js/77.f0bdf5b6.js"><link rel="prefetch" href="/my-notebook/assets/js/78.b9af0b62.js"><link rel="prefetch" href="/my-notebook/assets/js/79.725766b0.js"><link rel="prefetch" href="/my-notebook/assets/js/8.605cb61a.js"><link rel="prefetch" href="/my-notebook/assets/js/80.bd9c4c1e.js"><link rel="prefetch" href="/my-notebook/assets/js/81.e8ee99e3.js"><link rel="prefetch" href="/my-notebook/assets/js/82.8ba3b0fe.js"><link rel="prefetch" href="/my-notebook/assets/js/83.ce40455a.js"><link rel="prefetch" href="/my-notebook/assets/js/84.491056ed.js"><link rel="prefetch" href="/my-notebook/assets/js/85.2ac9132c.js"><link rel="prefetch" href="/my-notebook/assets/js/86.9b4f6b96.js"><link rel="prefetch" href="/my-notebook/assets/js/87.0648ece1.js"><link rel="prefetch" href="/my-notebook/assets/js/88.7add409d.js"><link rel="prefetch" href="/my-notebook/assets/js/89.65edd711.js"><link rel="prefetch" href="/my-notebook/assets/js/9.a7a8f074.js"><link rel="prefetch" href="/my-notebook/assets/js/90.be00a06f.js"><link rel="prefetch" href="/my-notebook/assets/js/91.4cbfac90.js"><link rel="prefetch" href="/my-notebook/assets/js/93.d99738e2.js"><link rel="prefetch" href="/my-notebook/assets/js/94.07d03859.js"><link rel="prefetch" href="/my-notebook/assets/js/95.e3086e45.js"><link rel="prefetch" href="/my-notebook/assets/js/96.ba9fce1f.js"><link rel="prefetch" href="/my-notebook/assets/js/97.f6901634.js"><link rel="prefetch" href="/my-notebook/assets/js/98.f9a6260d.js"><link rel="prefetch" href="/my-notebook/assets/js/99.b2e17d12.js">
    <link rel="stylesheet" href="/my-notebook/assets/css/0.styles.24c4c005.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/my-notebook/" class="home-link router-link-active"><!----> <span class="site-name">Garrik 的笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/my-notebook/" class="nav-link">主页</a></div><div class="nav-item"><a href="https://github.com/Garrik-Liu/my-notebook" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/my-notebook/" class="nav-link">主页</a></div><div class="nav-item"><a href="https://github.com/Garrik-Liu/my-notebook" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>BOM</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/my-notebook/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/javascript/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/BOM.html#window-对象" class="sidebar-link">window 对象</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/my-notebook/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/javascript/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/BOM.html#窗口关系" class="sidebar-link">窗口关系</a></li><li class="sidebar-sub-header"><a href="/my-notebook/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/javascript/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/BOM.html#窗口位置-像素比" class="sidebar-link">窗口位置 &amp; 像素比</a></li><li class="sidebar-sub-header"><a href="/my-notebook/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/javascript/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/BOM.html#窗口大小" class="sidebar-link">窗口大小</a></li><li class="sidebar-sub-header"><a href="/my-notebook/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/javascript/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/BOM.html#视口位置" class="sidebar-link">视口位置</a></li><li class="sidebar-sub-header"><a href="/my-notebook/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/javascript/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/BOM.html#导航-打开新窗口" class="sidebar-link">导航 &amp; 打开新窗口</a></li><li class="sidebar-sub-header"><a href="/my-notebook/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/javascript/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/BOM.html#定时器" class="sidebar-link">定时器</a></li><li class="sidebar-sub-header"><a href="/my-notebook/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/javascript/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/BOM.html#系统对话框" class="sidebar-link">系统对话框</a></li></ul></li><li><a href="/my-notebook/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/javascript/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/BOM.html#location-对象" class="sidebar-link">location 对象</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/my-notebook/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/javascript/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/BOM.html#常用属性" class="sidebar-link">常用属性</a></li><li class="sidebar-sub-header"><a href="/my-notebook/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/javascript/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/BOM.html#解析-url-查询字符串" class="sidebar-link">解析 URL 查询字符串</a></li><li class="sidebar-sub-header"><a href="/my-notebook/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/javascript/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/BOM.html#操作地址" class="sidebar-link">操作地址</a></li></ul></li><li><a href="/my-notebook/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/javascript/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/BOM.html#screen-对象" class="sidebar-link">screen 对象</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/my-notebook/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/javascript/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/BOM.html#history-对象" class="sidebar-link">history 对象</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/my-notebook/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/javascript/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/BOM.html#前进-后退" class="sidebar-link">前进 &amp; 后退</a></li><li class="sidebar-sub-header"><a href="/my-notebook/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/javascript/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/BOM.html#历史状态管理" class="sidebar-link">历史状态管理</a></li></ul></li><li><a href="/my-notebook/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/javascript/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/BOM.html#navigator-对象" class="sidebar-link">navigator 对象</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="bom"><a href="#bom" class="header-anchor">#</a> BOM</h1> <p>BOM ( Browser Object Model ) 是指浏览器对象模型, BOM 提供了与网页内容无关的，可以与浏览器窗口进行互动的对象结构。</p> <h2 id="window-对象"><a href="#window-对象" class="header-anchor">#</a> <code>window</code> 对象</h2> <ul><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Window" target="_blank" rel="noopener noreferrer">MDN 文档<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://docs.w3cub.com/dom/window/" target="_blank" rel="noopener noreferrer">W3cubDocs 文档<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <p>window 是 BOM 的核心对象, 表示浏览器的一个实例. 在浏览器中，window 对象有双重角色，它既是通过 JavaScript 访问浏览器窗口的一个接口，又是 ECMAScript 规定的 Global 对象。</p> <p>在标签浏览器（比如 Firefox）中，每个标签具有自己的 window 对象, 同一个窗口的标签之间不会共享一个 window 对象. 有一些方法，如 window.resizeTo 和 window.resizeBy 之类的方法会作用于整个窗口而不是 window 对象所属的那个标签。一般而言，如果无法恰当地作用于标签，则会将其作用于窗口。</p> <h3 id="窗口关系"><a href="#窗口关系" class="header-anchor">#</a> 窗口关系</h3> <ul><li><code>window.top</code> 对象始终指向最上层（最外层）窗口。</li> <li><code>window.parent</code> 对象则始终指向当前窗口的父窗口。如果当前窗口是最上层窗口，则 <code>parent</code> 等于 <code>top</code></li> <li><code>window.self</code> 对象，始终会指向 <code>window</code></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>window<span class="token punctuation">.</span>top <span class="token operator">===</span> window<span class="token punctuation">;</span> <span class="token comment">// true</span>
window<span class="token punctuation">.</span>parent <span class="token operator">===</span> window<span class="token punctuation">.</span>top<span class="token punctuation">;</span> <span class="token comment">// true</span>
window<span class="token punctuation">.</span>self <span class="token operator">===</span> window<span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre></div><h3 id="窗口位置-像素比"><a href="#窗口位置-像素比" class="header-anchor">#</a> 窗口位置 &amp; 像素比</h3> <p>在 Firefox 中 <code>screenX</code> 和 <code>screenY</code> 属性分别用于表示窗口相对于屏幕左边和上边的距离。</p> <p>IE、Safari、Opera 和 Chrome 也都提供了 <code>screenLeft</code> 和 <code>screenTop</code> 属性来表示相同的位置信息。</p> <p>跨浏览器取得距离值：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> leftPos <span class="token operator">=</span>
  <span class="token keyword">typeof</span> window<span class="token punctuation">.</span>screenLeft <span class="token operator">==</span> <span class="token string">&quot;number&quot;</span> <span class="token operator">?</span> window<span class="token punctuation">.</span>screenLeft <span class="token punctuation">:</span> window<span class="token punctuation">.</span>screenX<span class="token punctuation">;</span>
<span class="token keyword">var</span> topPos <span class="token operator">=</span>
  <span class="token keyword">typeof</span> window<span class="token punctuation">.</span>screenTop <span class="token operator">==</span> <span class="token string">&quot;number&quot;</span> <span class="token operator">?</span> window<span class="token punctuation">.</span>screenTop <span class="token punctuation">:</span> window<span class="token punctuation">.</span>screenY<span class="token punctuation">;</span>
</code></pre></div><p>可以使用 <code>moveTo()</code> 和 <code>moveBy()</code> 方法移动窗口 ( 依浏览器而定，以上方法可能会被部分或全部禁用 ) 这两个方法都接收两个参数：</p> <ul><li><code>moveTo()</code> 接收要移动到的新位置的绝对坐标 <code>x</code> 和 <code>y</code>。</li> <li><code>moveBy()</code> 则接收相对当前位置在两个方向上移动的像素数。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 把窗口移动到左上角</span>
window<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 把窗口向下移动100像素</span>
window<span class="token punctuation">.</span><span class="token function">moveBy</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 把窗口移动到坐标位置(200, 300)</span>
window<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 把窗口向左移动50像素</span>
window<span class="token punctuation">.</span><span class="token function">moveBy</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><hr> <p>『 <strong>CSS 像素</strong> 』是 Web 开发中使用的统一像素单位，是一个逻辑单位，大小固定为 1/96 英寸。这样在不同设备上，1 个 CSS 像素的大小都是一样的。</p> <ul><li>🌰 低分辨率平板设备上 12 CSS 像素的文字，应该与高清 4K 屏幕下 12 CSS 像素的文字具有相同大小。</li></ul> <p>但是不同设备具有不同的物理像素数量，即屏幕实际的分辨率。所以需要把物理像素数转换为转换为 CSS 像素数。不同像素密度的屏幕下就会有不同的「 <strong>缩放系数</strong> 」</p> <p><img src="https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-09-16-15-03-05.png" alt="2020-09-16-15-03-05"></p> <p>物理像素与 CSS 像素之间的转换比率由 <code>window.devicePixelRatio</code> 属性提供。</p> <ul><li>🌰 如果 <code>window.devicePixelRatio</code> 的值是 <code>3</code>，则 12 CSS 像素的文字，实际上就会用 36 像素的物理像素来显示。</li></ul> <h3 id="窗口大小"><a href="#窗口大小" class="header-anchor">#</a> 窗口大小</h3> <p>提供了 4 个属性确定一个窗口的大小:</p> <ul><li><code>innerWidth</code>: 浏览器视口（ viewport ）宽度, 包括垂直滚动条</li> <li><code>innerHeight</code>: 浏览器窗口的视口（ viewport ）高度，包括水平滚动条。</li> <li><code>outerWidth</code>: 整个浏览器窗口的宽度。</li> <li><code>outerHeight</code>: 整个浏览器窗口的高度。</li></ul> <p><img src="https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-09-16-08-11-21.png" alt="2020-09-16-08-11-21"></p> <p>可以使用 <code>resizeTo()</code> 和 <code>resizeBy()</code> 方法调整窗口大小 ( 可能被浏览器禁用 )</p> <ul><li><code>resizeTo()</code> 接收新的宽度和高度值。</li> <li><code>resizeBy()</code> 接收宽度和高度各要缩放多少。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 缩放到100×100</span>
window<span class="token punctuation">.</span><span class="token function">resizeTo</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 缩放到200×150</span>
window<span class="token punctuation">.</span><span class="token function">resizeBy</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 缩放到300×300</span>
window<span class="token punctuation">.</span><span class="token function">resizeTo</span><span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="视口位置"><a href="#视口位置" class="header-anchor">#</a> 视口位置</h3> <p>浏览器窗口尺寸通常无法满足完整显示整个页面，为此用户可以通过滚动在有限的视口中查看文档。</p> <ul><li><code>window.scrollX</code> 页面水平方向滚动的像素值。等同于 <code>window.pageXoffset</code>。</li> <li><code>window.scrollY</code> 页面垂直方向滚动的像素值。等同于 <code>window.pageYoffset</code>。</li></ul> <p><img src="https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-09-16-09-37-15.png" alt="2020-09-16-09-37-15"></p> <p>可以使用 <code>scroll()</code>、<code>scrollTo()</code> 和 <code>scrollBy()</code> 方法滚动页面。这 3 个方法都接收表示相对视口距离的 <code>x</code> 和 <code>y</code> 坐标，这两个参数在前两个方法中表示要滚动到的坐标，在最后一个方法中表示滚动的距离。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 相对于当前视口向下滚动100像素</span>
window<span class="token punctuation">.</span><span class="token function">scrollBy</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 相对于当前视口向右滚动40像素</span>
window<span class="token punctuation">.</span><span class="token function">scrollBy</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 滚动到页面左上角</span>
window<span class="token punctuation">.</span><span class="token function">scroll</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 滚动到距离屏幕左边及顶边各100像素的位置</span>
window<span class="token punctuation">.</span><span class="token function">scrollTo</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="导航-打开新窗口"><a href="#导航-打开新窗口" class="header-anchor">#</a> 导航 &amp; 打开新窗口</h3> <p><code>window.open()</code> 方法可以用于导航到指定 URL，也可以用于打开新浏览器窗口。接收 4 个参数：</p> <ul><li><strong>目标 URL</strong>。</li> <li><strong>目标窗口名</strong>，如果是一个已经存在的窗口或 Frame 的名字，则会在对应的窗口或 Frame 中打开 URL。否则就会打开一个新窗口并将其命名为指定值。除此之外，也可以是一个特殊的窗口名。</li> <li><strong>特性字符串</strong>，用于指定新窗口的配置。是一个逗号分隔的设置字符串，用于指定新窗口包含的特性。
<ul><li>如果打开的不是新窗口，则忽略第三个参数。</li> <li>如果没有传第三个参数，则新窗口会带有所有默认的浏览器特性。</li></ul></li> <li><strong>布尔值</strong>，表示新窗口在浏览器历史记录中，是否替代当前加载页面。</li></ul> <p>第二个参数「 目标窗口名 」的取值可以是一些特殊的窗口名：</p> <ul><li><code>_self</code>: 当前页面。</li> <li><code>_blank</code>: 新窗口打开。</li> <li><code>_parent</code>: 当前窗口的父窗口。如果没有 <code>parent</code> 窗口，此选项与 <code>_self</code> 相同。</li> <li><code>_top</code>: 最外层窗口，如果当前窗口就是最上层，此选项与 <code>_self</code> 相同。</li></ul> <p>第三个参数「 特性字符串 」，用于指定新窗口的配置。下表列出了一些选项：</p> <p><img src="https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-09-16-09-56-25.png" alt="2020-09-16-09-56-25"></p> <p><img src="https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-09-16-09-57-06.png" alt="2020-09-16-09-57-06"></p> <div class="language-js extra-class"><pre class="language-js"><code>window<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>
  <span class="token string">&quot;http://www.wrox.com/&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;wroxWindow&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;height=400,width=400,top=10,left=10,resizable=yes&quot;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>这行代码会打开一个可缩放的新窗口，大小为 400 像素 ×400 像素，位于离屏幕左边及顶边各 10 像素的位置。</li></ul> <p><code>window.open()</code> 方法返回一个对新建窗口的引用。与普通 <code>window</code> 对象没有区别。</p> <p>可以使用 <code>close()</code> 方法关闭新打开的窗口。</p> <p>新创建窗口的 <code>window</code> 对象有一个属性 <code>opener</code>，指向打开它的窗口。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> wroxWin <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>
  <span class="token string">&quot;http://www.wrox.com/&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;wroxWindow&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;height=400,width=400,top=10,left=10,resizable=yes&quot;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
wroxWin<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">alert</span><span class="token punctuation">(</span>wroxWin<span class="token punctuation">.</span>opener <span class="token operator">===</span> window<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre></div><h4 id="弹窗屏蔽程序"><a href="#弹窗屏蔽程序" class="header-anchor">#</a> 弹窗屏蔽程序</h4> <p>如果浏览器内置的弹窗屏蔽程序阻止了弹窗，那么 <code>window.open()</code> 很可能会返回 <code>null</code>。此时，只要检查这个方法的返回值就可以知道弹窗是否被屏蔽了。</p> <p>除此之外，弹窗也可能被浏览器扩展或其他程序屏蔽，此时 <code>window.open()</code> 通常会抛出错误。</p> <p>因此要准确检测弹窗是否被屏蔽，除了检测 <code>window.open()</code> 的返回值，还要把它用 <code>try/catch</code> 包装起来。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> blocked <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

<span class="token keyword">try</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> wroxWin <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">&quot;http://www.wrox.com&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;_blank&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>wroxWin <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    blocked <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  blocked <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>blocked<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;The popup was blocked!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="定时器"><a href="#定时器" class="header-anchor">#</a> 定时器</h3> <ul><li><code>setTimeout()</code> 指定在一段时间后执行某些代码。</li> <li><code>setInterval()</code> 指定每隔一段时间执行某些代码。</li></ul> <p><code>setTimeout()</code> 方法接收两个参数：</p> <ul><li>要执行的代码</li> <li>等待的时间（毫秒）告诉 JavaScript 引擎在指定的毫秒数过后把任务添加到宏任务队列。</li></ul> <p>调用 <code>setTimeout()</code> 时，会返回一个表示该超时排期任务的数值 ID。调用 <code>clearTimeout()</code> 方法并传入超时 ID 可以取消等待中的排期任务。</p> <ul><li>只要是在指定时间到达之前调用 <code>clearTimeout()</code>，就可以取消超时任务。在任务执行后再调用 <code>clearTimeout()</code> 没有效果。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 设置超时任务</span>
<span class="token keyword">let</span> timeoutId <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;Hello world!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 取消超时任务</span>
<span class="token function">clearTimeout</span><span class="token punctuation">(</span>timeoutId<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><code>setInterval()</code> 与 <code>setTimeout()</code> 的使用方法类似。但要注意。第二个参数，指的是每隔指定时间，就会向队列再添加一次任务。不管上一个任务是否执行完毕，以及执行要花多长时间。</p> <p><code>setInterval()</code> 方法也会返回一个循环定时任务 ID，可以调用 <code>clearInterval()</code> 并传入定时 ID，来取消循环定时。如果一直不管它，那么定时任务会一直执行，直到关闭页面。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> num <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
  intervalId <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> max <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> <span class="token function-variable function">incrementNumber</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  num<span class="token operator">++</span><span class="token punctuation">;</span>

  <span class="token comment">// 如果达到最大值，则取消所有未执行的任务</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>num <span class="token operator">==</span> max<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">clearInterval</span><span class="token punctuation">(</span>intervalId<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;Done&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

intervalId <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span>incrementNumber<span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>👆 上面这个模式也可以使用 <code>setTimeout()</code> 来实现：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> num <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> max <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token function-variable function">incrementNumber</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  num<span class="token operator">++</span><span class="token punctuation">;</span>

  <span class="token comment">// 如果还没有达到最大值，再设置一个超时任务</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>num <span class="token operator">&lt;</span> max<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span>incrementNumber<span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;Done&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">setTimeout</span><span class="token punctuation">(</span>incrementNumber<span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>上面这种写法，不需要手动取消循环定时任务。而且可以保证上一次任务执行完毕之后，才会开始执行下一次任务。</p> <h3 id="系统对话框"><a href="#系统对话框" class="header-anchor">#</a> 系统对话框</h3> <p>使用 <code>alert()</code>、<code>confirm()</code> 和 <code>promt()</code> 方法，可以让浏览器调用系统对话框向用户显示消息。</p> <ul><li>它们的外观由操作系统或者浏览器决定，无法使用 CSS 设置。</li> <li>都是同步的模态对话框，即在它们显示的时候，代码会停止执行。</li></ul> <p>通过 <code>alert()</code> 显示「 <strong>警示框</strong> 」，只有一个 OK 按钮。通常用于向用户显示一些他们无法控制的消息，比如报错。</p> <ul><li>方法只接收一个参数。传入字符串会显示在弹框中。如果不是一个原始字符串，则会调用这个值的 <code>toString()</code> 方法将其转换为字符串。</li></ul> <p><img src="https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-09-16-13-46-08.png" alt="2020-09-16-13-46-08"></p> <p>通过调用 <code>confirm()</code> 来显示「 <strong>确认框</strong> 」。有两个按钮：Cancel 和 OK。用户通过单击不同的按钮表明希望接下来执行什么操作。</p> <ul><li>方法的返回值，<code>true</code> 表示单击了 OK 按钮，<code>false</code> 表示单击了 Cancel 按钮，或者单击 X 图标关闭了确认框。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">confirm</span><span class="token punctuation">(</span><span class="token string">&quot;Are you sure?&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;I'm so glad you're sure!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;I'm sorry to hear you're not sure.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><img src="https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-09-16-13-47-35.png" alt="2020-09-16-13-47-35"></p> <p>通过调用 <code>prompt()</code> 方法显示「 <strong>提示框</strong> 」。用途是提示用户输入消息。除了 OK 和 Cancel 按钮，提示框还会显示一个文本框，让用户输入内容。</p> <ul><li>方法接收两个参数：要显示给用户的文本，和文本框的默认值。</li> <li>如果用户单击了 OK 按钮，则 <code>prompt()</code> 会返回文本框中的值。如果用户单击了 Cancel 按钮，或者对话框被关闭，则 <code>prompt()</code> 会返回 <code>null</code>。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token function">prompt</span><span class="token punctuation">(</span><span class="token string">&quot;What is your name? &quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>result <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;Welcome, &quot;</span> <span class="token operator">+</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><img src="https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-09-16-13-50-56.png" alt="2020-09-16-13-50-56"></p> <h2 id="location-对象"><a href="#location-对象" class="header-anchor">#</a> <code>location</code> 对象</h2> <ul><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Location" target="_blank" rel="noopener noreferrer">MDN 文档<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://docs.w3cub.com/dom/location/" target="_blank" rel="noopener noreferrer">W3cubDocs 文档<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <p><code>location</code> 是最有用的 BOM 对象之一，提供了当前窗口中加载文档的信息，以及通常的导航功能。</p> <p>它既是 <code>window</code> 的属性，也是 <code>document</code> 的属性。也就是说，<code>window.location</code> 和 <code>document.location</code> 指向同一个对象。</p> <h3 id="常用属性"><a href="#常用属性" class="header-anchor">#</a> 常用属性</h3> <p>location 对象上保存着当前窗口所加载的文档的 URL 地址信息：</p> <p>假设浏览器当前加载的 URL 是 <code>http://foouser:barpassword@www.wrox.com:80/WileyCDA/?q=javascript#contents</code></p> <table><thead><tr><th style="text-align:center;">属性</th> <th style="text-align:center;">值</th> <th style="text-align:center;">说明</th></tr></thead> <tbody><tr><td style="text-align:center;"><code>location.hash</code></td> <td style="text-align:center;"><code>&quot;#contents&quot;</code></td> <td style="text-align:center;">URL 散列值，如果没有则为空字符串</td></tr> <tr><td style="text-align:center;"><code>location.host</code></td> <td style="text-align:center;"><code>&quot;www.wrox.com:80&quot;</code></td> <td style="text-align:center;">服务器名及端口号</td></tr> <tr><td style="text-align:center;"><code>location.hostname</code></td> <td style="text-align:center;"><code>&quot;www.wrox.com&quot;</code></td> <td style="text-align:center;">服务器名</td></tr> <tr><td style="text-align:center;"><code>location.href</code></td> <td style="text-align:center;"><code>&quot;http://www.wrox.com:80/WileyCDA/?q=javascript#contents&quot;</code></td> <td style="text-align:center;">当前加载页面的完整 URL。<code>location</code> 的 <code>toString()</code> 方法返回这个值</td></tr> <tr><td style="text-align:center;"><code>location.pathname</code></td> <td style="text-align:center;"><code>&quot;/WileyCDA/&quot;</code></td> <td style="text-align:center;">URL 中的路径和（或）文件名</td></tr> <tr><td style="text-align:center;"><code>location.port</code></td> <td style="text-align:center;"><code>&quot;80&quot;</code></td> <td style="text-align:center;">请求的端口。如果 URL 中没有端口，则返回空字符串</td></tr> <tr><td style="text-align:center;"><code>location.protocol</code></td> <td style="text-align:center;"><code>&quot;http:&quot;</code></td> <td style="text-align:center;">页面使用的协议。通常是 &quot;http:&quot; 或 &quot;https:&quot;</td></tr> <tr><td style="text-align:center;"><code>location.search</code></td> <td style="text-align:center;"><code>&quot;?q=javascript&quot;</code></td> <td style="text-align:center;">URL 的查询字符串。这个字符串以问号开头</td></tr> <tr><td style="text-align:center;"><code>location.username</code></td> <td style="text-align:center;"><code>&quot;foouser&quot;</code></td> <td style="text-align:center;">域名前指定的用户名</td></tr> <tr><td style="text-align:center;"><code>location.password</code></td> <td style="text-align:center;"><code>&quot;barpassword&quot;</code></td> <td style="text-align:center;">域名前指定的密码</td></tr> <tr><td style="text-align:center;"><code>location.origin</code></td> <td style="text-align:center;"><code>&quot;http://www.wrox.com&quot;</code></td> <td style="text-align:center;">URL 的源地址。只读</td></tr></tbody></table> <h3 id="解析-url-查询字符串"><a href="#解析-url-查询字符串" class="header-anchor">#</a> 解析 URL 查询字符串</h3> <p><code>location.search</code> 返回了从问号开始直到 URL 末尾的所有内容，但没有办法逐个访问每个查询参数。</p> <p>下面的函数解析了查询字符串，并返回一个以每个查询参数为属性的对象。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> <span class="token function-variable function">getQueryStringArgs</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 取得没有开头问号的查询字符串</span>
  <span class="token keyword">let</span> qs <span class="token operator">=</span> location<span class="token punctuation">.</span>search<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">?</span> location<span class="token punctuation">.</span>search<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
    <span class="token comment">// 保存数据的对象</span>
    args <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token comment">// 把每个参数添加到 args 对象</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> item <span class="token keyword">of</span> qs<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">kv</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> kv<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 因为查询字符串通常是被编码后的格式</span>
    <span class="token comment">// 所以需要使用 decodeURIComponent() 解码</span>
    <span class="token keyword">let</span> name <span class="token operator">=</span> <span class="token function">decodeURIComponent</span><span class="token punctuation">(</span>item<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      value <span class="token operator">=</span> <span class="token function">decodeURIComponent</span><span class="token punctuation">(</span>item<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>name<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      args<span class="token punctuation">[</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> args<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="操作地址"><a href="#操作地址" class="header-anchor">#</a> 操作地址</h3> <p>通过给 <code>location.assign()</code> 方法传入一个 URL 字符串，可以加载给定 URL 的内容资源到当前窗口。</p> <p>执行下面这行代码，会立即导航到 URL 指定的页面上。同时在浏览器历史记录中增加一条记录。</p> <div class="language-js extra-class"><pre class="language-js"><code>location<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token string">&quot;https://www.baidu.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>如果给 <code>location.href</code> 或 <code>window.location</code> 设置一个 URL，也会有同样的效果。</p> <div class="language-js extra-class"><pre class="language-js"><code>location<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token string">&quot;https://www.baidu.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 等价于</span>
window<span class="token punctuation">.</span>location <span class="token operator">=</span> <span class="token string">&quot;https://www.baidu.com&quot;</span><span class="token punctuation">;</span>
location<span class="token punctuation">.</span>href <span class="token operator">=</span> <span class="token string">&quot;https://www.baidu.com&quot;</span><span class="token punctuation">;</span>
</code></pre></div><p>修改 <code>location</code> 对象的属性也会修改当前加载的页面。</p> <ul><li>除了 <code>hash</code> 之外，只要修改 <code>location</code> 的一个属性，就会导致页面重新加载新 URL。</li> <li>修改 <code>hash</code> 的值会在浏览器历史中增加一条新记录。可以前进后退。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 假设当前 URL 为http://www.wrox.com/WileyCDA/</span>

<span class="token comment">// 把 URL 修改为http://www.wrox.com/WileyCDA/#section1</span>
location<span class="token punctuation">.</span>hash <span class="token operator">=</span> <span class="token string">&quot;#section1&quot;</span><span class="token punctuation">;</span>

<span class="token comment">// 把 URL 修改为http://www.wrox.com/WileyCDA/?q=javascript</span>
location<span class="token punctuation">.</span>search <span class="token operator">=</span> <span class="token string">&quot;?q=javascript&quot;</span><span class="token punctuation">;</span>

<span class="token comment">// 把 URL 修改为http://www.somewhere.com/WileyCDA/</span>
location<span class="token punctuation">.</span>hostname <span class="token operator">=</span> <span class="token string">&quot;www.somewhere.com&quot;</span><span class="token punctuation">;</span>

<span class="token comment">// 把 URL 修改为http://www.somewhere.com/mydir/</span>
location<span class="token punctuation">.</span>pathname <span class="token operator">=</span> <span class="token string">&quot;mydir&quot;</span><span class="token punctuation">;</span>

<span class="token comment">// 把 URL 修改为http://www.somewhere.com:8080/WileyCDA/</span>
Location<span class="token punctuation">.</span>port <span class="token operator">=</span> <span class="token number">8080</span><span class="token punctuation">;</span>
</code></pre></div><hr> <p>使用 <code>replace()</code> 方法可以让当前窗口重新加载到指定的 URL，且不会增加历史记录。也就是说，用户不能 &quot;后退&quot; 到前一个页面了。</p> <div class="language-js extra-class"><pre class="language-js"><code>location<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">&quot;https://www.baidu.com/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><hr> <p><code>reload()</code> 能重新加载当前显示的页面。</p> <ul><li>如果不传参数，页面会以最有效的方式重新加载。会尽可能从缓存中加载页面。</li> <li>如果想强制从服务器重新加载，则将 <code>true</code> 作为参数传入。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>location<span class="token punctuation">.</span><span class="token function">reload</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 重新加载，可能是从缓存加载</span>
location<span class="token punctuation">.</span><span class="token function">reload</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 重新加载，从服务器加载</span>
</code></pre></div><h2 id="screen-对象"><a href="#screen-对象" class="header-anchor">#</a> <code>screen</code> 对象</h2> <ul><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Screen" target="_blank" rel="noopener noreferrer">MDN 文档<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://docs.w3cub.com/dom/screen/" target="_blank" rel="noopener noreferrer">W3cubDocs 文档<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <p><code>window.screen</code> 对象提供显示器相关信息。</p> <table><thead><tr><th style="text-align:center;">属性</th> <th style="text-align:center;">说明</th></tr></thead> <tbody><tr><td style="text-align:center;"><code>availHeight</code></td> <td style="text-align:center;">屏幕像素高度减去系统组件高度（只读）</td></tr> <tr><td style="text-align:center;"><code>availLeft</code></td> <td style="text-align:center;">没有被系统组件占用的屏幕的最左侧像素（只读）</td></tr> <tr><td style="text-align:center;"><code>availTop</code></td> <td style="text-align:center;">没有被系统组件占用的屏幕的最顶端像素（只读）</td></tr> <tr><td style="text-align:center;"><code>availWidth</code></td> <td style="text-align:center;">屏幕像素宽度减去系统组件宽度（只读）</td></tr> <tr><td style="text-align:center;"><code>colorDepth</code></td> <td style="text-align:center;">表示屏幕颜色的位数；多数系统是 32（只读）</td></tr> <tr><td style="text-align:center;"><code>height</code></td> <td style="text-align:center;">屏幕像素高度</td></tr> <tr><td style="text-align:center;"><code>left</code></td> <td style="text-align:center;">当前屏幕左边的像素距离</td></tr> <tr><td style="text-align:center;"><code>pixelDepth</code></td> <td style="text-align:center;">屏幕的位深（只读）</td></tr> <tr><td style="text-align:center;"><code>top</code></td> <td style="text-align:center;">当前屏幕顶端的像素距离</td></tr> <tr><td style="text-align:center;"><code>width</code></td> <td style="text-align:center;">屏幕像素宽度</td></tr> <tr><td style="text-align:center;"><code>orientation</code></td> <td style="text-align:center;">返回 Screen Orientation API 中屏幕的朝向</td></tr></tbody></table> <p><img src="https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-09-16-14-44-43.png" alt="2020-09-16-14-44-43"></p> <h2 id="history-对象"><a href="#history-对象" class="header-anchor">#</a> <code>history</code> 对象</h2> <ul><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/History" target="_blank" rel="noopener noreferrer">MDN 文档<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://docs.w3cub.com/dom/history/" target="_blank" rel="noopener noreferrer">W3cubDocs 文档<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <p><code>window.history</code> 对象表示当前窗口使用以来用户的导航历史记录。于安全考虑，这个对象不会暴露用户访问过的 URL，但是可以控制页面的前进和后退。</p> <p><code>go()</code> 方法可以在用户历史记录中沿任何方向导航。只接收一个参数：</p> <ul><li>可以是整数，表示前进或后退多少步。</li> <li>可以是字符串，浏览器会导航到历史中包含该字符串的第一个位置。可能前进，也可能是后退。</li></ul> <h3 id="前进-后退"><a href="#前进-后退" class="header-anchor">#</a> 前进 &amp; 后退</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 后退一页</span>
history<span class="token punctuation">.</span><span class="token function">go</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 前进一页</span>
history<span class="token punctuation">.</span><span class="token function">go</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 前进两页</span>
history<span class="token punctuation">.</span><span class="token function">go</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 导航到最近的 wrox.com 页面</span>
history<span class="token punctuation">.</span><span class="token function">go</span><span class="token punctuation">(</span><span class="token string">&quot;wrox.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 导航到最近的 nczonline.net 页面</span>
history<span class="token punctuation">.</span><span class="token function">go</span><span class="token punctuation">(</span><span class="token string">&quot;nczonline.net&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><code>back()</code> 和 <code>forward()</code> 方法可以直接控制前进一步和后退一步。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 后退一页</span>
history<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 前进一页</span>
history<span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><code>length</code> 属性反映了历史记录的数量。对于窗口中加载的第一个页面，<code>history.length</code> 等于 <code>1</code>。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>history<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 这是用户窗口中的第一个页面</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="历史状态管理"><a href="#历史状态管理" class="header-anchor">#</a> 历史状态管理</h3> <p>用户每次点击都会触发页面刷新的时代早已过去，单页面应用里的很多操作不会产生新的历史记录，而用户却习惯于用「 后退 」和「 前进 」来切换至自己上一步，或后一步操作。如何合理地进行历史记录管理，就变成了现代 Web 开发的一个难题。</p> <p><code>hashchange</code> 事件会在页面 URL 的 <code>hash</code> 变化时被触发，开发者可以在此时执行某些操作。具体细节我们在「 事件 」那一章再讲。</p> <p>HTML5 为 history 对象增加了方便的状态管理特性。使用 <code>history.pushState()</code> 方法可以向当前浏览器会话的历史堆栈添加一个新纪录，并且该记录与一个状态对象关联。</p> <p>方法接收 3 个参数：</p> <ul><li><strong><code>state</code> 对象</strong>：与新历史记录相关联，可以是任何可以序列化的对象。应该包含正确初始化页面所必需的状态信息。</li> <li><strong>新状态的标题</strong>：当前大多数浏览器都忽略此参数，尽管将来可能会使用它。可以传一个空字符串，也可以传一个短标题。</li> <li><strong>相对 URL</strong>（ 可选的 ）：浏览器不会加载此 URL。 如果未指定此参数，则将其设置为文档的当前 URL。</li></ul> <p>⚠️ 注意，要确保通过 <code>pushState()</code> 设置的每个 URL 都对应着服务器上一个真实的物理 URL。否则，单击「 刷新 」按钮会导致 404 错误。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> stateObject <span class="token operator">=</span> <span class="token punctuation">{</span> foo<span class="token punctuation">:</span> <span class="token string">&quot;bar&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

history<span class="token punctuation">.</span><span class="token function">pushState</span><span class="token punctuation">(</span>stateObject<span class="token punctuation">,</span> <span class="token string">&quot;My title&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;baz.html&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>当 pushState() 执行后，一个新的历史记录被创建。如果用户执行「 后退 」操作。就会触发 <code>window</code> 对象上的 <code>popstate</code> 事件。</p> <p>事件处理函数接收一个 <code>event</code> 事件对象作为参数，事件对象有一个 <code>state</code> 属性，其中包含对应历史记录的 <code>state</code> 对象。如果历史记录并不是通过 <code>pushState()</code> 方法添加的，则 <code>event.state</code> 值为 <code>null</code>。</p> <p>基于这个状态，你可以把页面重置为对应的状态。</p> <div class="language-js extra-class"><pre class="language-js"><code>window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;popstate&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> state <span class="token operator">=</span> event<span class="token punctuation">.</span>state<span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>state<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">processState</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 根据该状态，处理页面。</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>具体操作展示：</p> <div class="language-js extra-class"><pre class="language-js"><code>window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;popstate&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>state<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

history<span class="token punctuation">.</span><span class="token function">pushState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> number<span class="token punctuation">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">&quot;state_1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
history<span class="token punctuation">.</span><span class="token function">pushState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> number<span class="token punctuation">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">&quot;state_2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
history<span class="token punctuation">.</span><span class="token function">pushState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> number<span class="token punctuation">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">&quot;state_3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>上述代码执行完毕后，三条历史记录被添加进浏览器。页面此时的状态为 <code>{ number: 3 }</code>。也就是说，用户最多可以「 后退 」三次：</p> <ul><li>第 1 次后退，打印状态 <code>{number: 2}</code></li> <li>第 2 次后退，打印状态 <code>{number: 1}</code></li> <li>第 3 次后退，打印状态 <code>null</code> 也就是最开始的状态。</li></ul> <p>可以使用 <code>history.state</code> 获取当前的状态对象。</p> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>history<span class="token punctuation">.</span>state<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// { number: 1 }</span>
</code></pre></div><p>可以使用 <code>replaceState()</code> 来更新当前记录的状态。更新状态不会创建新历史记录，只会覆盖当前状态。方法接收与 <code>pushState()</code> 同样的前两个参数。</p> <ul><li>继续拿上面 👆 的代码举例，假设我现在的页面状态为 <code>{number: 2}</code>。然后我执行下面 👇 这条语句。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>history<span class="token punctuation">.</span><span class="token function">replaceState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> number<span class="token punctuation">:</span> <span class="token number">222</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">&quot;state_2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>之后，我点击「 前进 」按钮，页面状态变为 <code>{number: 3}</code>，然后我再点击「 后退 」，此时页面状态变为 <code>{number: 222}</code></li></ul> <h2 id="navigator-对象"><a href="#navigator-对象" class="header-anchor">#</a> <code>navigator</code> 对象</h2> <ul><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Navigator" target="_blank" rel="noopener noreferrer">MDN 文档<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://docs.w3cub.com/dom/window/navigator/" target="_blank" rel="noopener noreferrer">W3cubDocs 文档<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">9/16/2020, 8:19:03 PM</span></div></footer> <!----> </main></div><div class="global-ui"><!----><div class="vuepress-eqn"></div><span class="vuepress-eq"></span></div></div>
    <script src="/my-notebook/assets/js/app.cff76409.js" defer></script><script src="/my-notebook/assets/js/2.4605f295.js" defer></script><script src="/my-notebook/assets/js/92.2ae9a280.js" defer></script>
  </body>
</html>

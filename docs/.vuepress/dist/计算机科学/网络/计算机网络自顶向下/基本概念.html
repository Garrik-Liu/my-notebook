<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>基本概念 | Garrik 的笔记</title>
    <meta name="description" content="这里是 Garrik 的前端笔记本">
    
    
    <link rel="preload" href="/my-notebook/assets/css/0.styles.64328b17.css" as="style"><link rel="preload" href="/my-notebook/assets/js/app.7f26aa6e.js" as="script"><link rel="preload" href="/my-notebook/assets/js/2.86213550.js" as="script"><link rel="preload" href="/my-notebook/assets/js/252.aadf6170.js" as="script"><link rel="prefetch" href="/my-notebook/assets/js/10.df4856a5.js"><link rel="prefetch" href="/my-notebook/assets/js/100.7e1906c6.js"><link rel="prefetch" href="/my-notebook/assets/js/101.bc5505db.js"><link rel="prefetch" href="/my-notebook/assets/js/102.cc1253aa.js"><link rel="prefetch" href="/my-notebook/assets/js/103.3a0520df.js"><link rel="prefetch" href="/my-notebook/assets/js/104.1e088300.js"><link rel="prefetch" href="/my-notebook/assets/js/105.104c3128.js"><link rel="prefetch" href="/my-notebook/assets/js/106.0d31ba0b.js"><link rel="prefetch" href="/my-notebook/assets/js/107.58db8c9b.js"><link rel="prefetch" href="/my-notebook/assets/js/108.edfbbe17.js"><link rel="prefetch" href="/my-notebook/assets/js/109.4c75dd85.js"><link rel="prefetch" href="/my-notebook/assets/js/11.0e5e26e5.js"><link rel="prefetch" href="/my-notebook/assets/js/110.2adbabc6.js"><link rel="prefetch" href="/my-notebook/assets/js/111.1fa23082.js"><link rel="prefetch" href="/my-notebook/assets/js/112.65ab5887.js"><link rel="prefetch" href="/my-notebook/assets/js/113.ae99e6c1.js"><link rel="prefetch" href="/my-notebook/assets/js/114.73e5932f.js"><link rel="prefetch" href="/my-notebook/assets/js/115.c017351c.js"><link rel="prefetch" href="/my-notebook/assets/js/116.f5710556.js"><link rel="prefetch" href="/my-notebook/assets/js/117.8867f4fe.js"><link rel="prefetch" href="/my-notebook/assets/js/118.9f5a86d2.js"><link rel="prefetch" href="/my-notebook/assets/js/119.17ccc38b.js"><link rel="prefetch" href="/my-notebook/assets/js/12.3df40df2.js"><link rel="prefetch" href="/my-notebook/assets/js/120.75435583.js"><link rel="prefetch" href="/my-notebook/assets/js/121.99c5fda3.js"><link rel="prefetch" href="/my-notebook/assets/js/122.71802328.js"><link rel="prefetch" href="/my-notebook/assets/js/123.d1c3b463.js"><link rel="prefetch" href="/my-notebook/assets/js/124.903f8d24.js"><link rel="prefetch" href="/my-notebook/assets/js/125.85556abc.js"><link rel="prefetch" href="/my-notebook/assets/js/126.fce78e7f.js"><link rel="prefetch" href="/my-notebook/assets/js/127.3199cbe9.js"><link rel="prefetch" href="/my-notebook/assets/js/128.9cb97a8e.js"><link rel="prefetch" href="/my-notebook/assets/js/129.115cd2da.js"><link rel="prefetch" href="/my-notebook/assets/js/13.251aaeb6.js"><link rel="prefetch" href="/my-notebook/assets/js/130.dedaa428.js"><link rel="prefetch" href="/my-notebook/assets/js/131.9ab23ba4.js"><link rel="prefetch" href="/my-notebook/assets/js/132.15a5e931.js"><link rel="prefetch" href="/my-notebook/assets/js/133.075fb266.js"><link rel="prefetch" href="/my-notebook/assets/js/134.885bb9d5.js"><link rel="prefetch" href="/my-notebook/assets/js/135.fd8c8ee6.js"><link rel="prefetch" href="/my-notebook/assets/js/136.ebfdcb4b.js"><link rel="prefetch" href="/my-notebook/assets/js/137.01c4045a.js"><link rel="prefetch" href="/my-notebook/assets/js/138.acd5bc92.js"><link rel="prefetch" href="/my-notebook/assets/js/139.7207c024.js"><link rel="prefetch" href="/my-notebook/assets/js/14.399b1b5c.js"><link rel="prefetch" href="/my-notebook/assets/js/140.f7e7679a.js"><link rel="prefetch" href="/my-notebook/assets/js/141.f4a5ea7f.js"><link rel="prefetch" href="/my-notebook/assets/js/142.e172141c.js"><link rel="prefetch" href="/my-notebook/assets/js/143.54580a22.js"><link rel="prefetch" href="/my-notebook/assets/js/144.654d4d9b.js"><link rel="prefetch" href="/my-notebook/assets/js/145.28d06ba7.js"><link rel="prefetch" href="/my-notebook/assets/js/146.15e89968.js"><link rel="prefetch" href="/my-notebook/assets/js/147.7c135d35.js"><link rel="prefetch" href="/my-notebook/assets/js/148.c180a541.js"><link rel="prefetch" href="/my-notebook/assets/js/149.ed6a3916.js"><link rel="prefetch" href="/my-notebook/assets/js/15.f080837b.js"><link rel="prefetch" href="/my-notebook/assets/js/150.4a9fabf0.js"><link rel="prefetch" href="/my-notebook/assets/js/151.d28091a5.js"><link rel="prefetch" href="/my-notebook/assets/js/152.ebe9ae9f.js"><link rel="prefetch" href="/my-notebook/assets/js/153.e8e716c6.js"><link rel="prefetch" href="/my-notebook/assets/js/154.c632e9a7.js"><link rel="prefetch" href="/my-notebook/assets/js/155.9e1d450b.js"><link rel="prefetch" href="/my-notebook/assets/js/156.cf2fe75c.js"><link rel="prefetch" href="/my-notebook/assets/js/157.d8b3790c.js"><link rel="prefetch" href="/my-notebook/assets/js/158.ec3d51b2.js"><link rel="prefetch" href="/my-notebook/assets/js/159.2bbbf599.js"><link rel="prefetch" href="/my-notebook/assets/js/16.a0b73a29.js"><link rel="prefetch" href="/my-notebook/assets/js/160.092110db.js"><link rel="prefetch" href="/my-notebook/assets/js/161.06b9137a.js"><link rel="prefetch" href="/my-notebook/assets/js/162.1ec83cf6.js"><link rel="prefetch" href="/my-notebook/assets/js/163.dbbc5871.js"><link rel="prefetch" href="/my-notebook/assets/js/164.79efacb3.js"><link rel="prefetch" href="/my-notebook/assets/js/165.314727d3.js"><link rel="prefetch" href="/my-notebook/assets/js/166.4534521f.js"><link rel="prefetch" href="/my-notebook/assets/js/167.4ae62ae8.js"><link rel="prefetch" href="/my-notebook/assets/js/168.4bbd7caf.js"><link rel="prefetch" href="/my-notebook/assets/js/169.f3e00020.js"><link rel="prefetch" href="/my-notebook/assets/js/17.69be7c6d.js"><link rel="prefetch" href="/my-notebook/assets/js/170.168ce036.js"><link rel="prefetch" href="/my-notebook/assets/js/171.cd3242f5.js"><link rel="prefetch" href="/my-notebook/assets/js/172.f2990025.js"><link rel="prefetch" href="/my-notebook/assets/js/173.e229b87c.js"><link rel="prefetch" href="/my-notebook/assets/js/174.eb3f5547.js"><link rel="prefetch" href="/my-notebook/assets/js/175.f0184520.js"><link rel="prefetch" href="/my-notebook/assets/js/176.d0ccb9cd.js"><link rel="prefetch" href="/my-notebook/assets/js/177.0bf31cc8.js"><link rel="prefetch" href="/my-notebook/assets/js/178.0306744f.js"><link rel="prefetch" href="/my-notebook/assets/js/179.592d5b5b.js"><link rel="prefetch" href="/my-notebook/assets/js/18.7fdd2f7b.js"><link rel="prefetch" href="/my-notebook/assets/js/180.72279cd0.js"><link rel="prefetch" href="/my-notebook/assets/js/181.875c893a.js"><link rel="prefetch" href="/my-notebook/assets/js/182.0ead1ff5.js"><link rel="prefetch" href="/my-notebook/assets/js/183.4635938d.js"><link rel="prefetch" href="/my-notebook/assets/js/184.0f220ac2.js"><link rel="prefetch" href="/my-notebook/assets/js/185.40fe7e2a.js"><link rel="prefetch" href="/my-notebook/assets/js/186.2d28d6e0.js"><link rel="prefetch" href="/my-notebook/assets/js/187.819987c4.js"><link rel="prefetch" href="/my-notebook/assets/js/188.6ff89e65.js"><link rel="prefetch" href="/my-notebook/assets/js/189.48c27b94.js"><link rel="prefetch" href="/my-notebook/assets/js/19.143c985a.js"><link rel="prefetch" href="/my-notebook/assets/js/190.eef35f40.js"><link rel="prefetch" href="/my-notebook/assets/js/191.d2c7b19a.js"><link rel="prefetch" href="/my-notebook/assets/js/192.16598296.js"><link rel="prefetch" href="/my-notebook/assets/js/193.b3443de2.js"><link rel="prefetch" href="/my-notebook/assets/js/194.4fa032cc.js"><link rel="prefetch" href="/my-notebook/assets/js/195.0f9b9af1.js"><link rel="prefetch" href="/my-notebook/assets/js/196.9dac2d14.js"><link rel="prefetch" href="/my-notebook/assets/js/197.fa052acc.js"><link rel="prefetch" href="/my-notebook/assets/js/198.4335052c.js"><link rel="prefetch" href="/my-notebook/assets/js/199.200ede16.js"><link rel="prefetch" href="/my-notebook/assets/js/20.b612a13c.js"><link rel="prefetch" href="/my-notebook/assets/js/200.fcbb8335.js"><link rel="prefetch" href="/my-notebook/assets/js/201.7664747e.js"><link rel="prefetch" href="/my-notebook/assets/js/202.0936a6cd.js"><link rel="prefetch" href="/my-notebook/assets/js/203.daa474d6.js"><link rel="prefetch" href="/my-notebook/assets/js/204.13989955.js"><link rel="prefetch" href="/my-notebook/assets/js/205.08ea6933.js"><link rel="prefetch" href="/my-notebook/assets/js/206.8bacb8f9.js"><link rel="prefetch" href="/my-notebook/assets/js/207.3ebfced9.js"><link rel="prefetch" href="/my-notebook/assets/js/208.dea47bc0.js"><link rel="prefetch" href="/my-notebook/assets/js/209.9a750a5e.js"><link rel="prefetch" href="/my-notebook/assets/js/21.93e71dc9.js"><link rel="prefetch" href="/my-notebook/assets/js/210.c11a3d1c.js"><link rel="prefetch" href="/my-notebook/assets/js/211.5ef45d05.js"><link rel="prefetch" href="/my-notebook/assets/js/212.545887ea.js"><link rel="prefetch" href="/my-notebook/assets/js/213.0ca39fdf.js"><link rel="prefetch" href="/my-notebook/assets/js/214.eedac85a.js"><link rel="prefetch" href="/my-notebook/assets/js/215.51495814.js"><link rel="prefetch" href="/my-notebook/assets/js/216.bdf36690.js"><link rel="prefetch" href="/my-notebook/assets/js/217.b855e7ce.js"><link rel="prefetch" href="/my-notebook/assets/js/218.8aa4405b.js"><link rel="prefetch" href="/my-notebook/assets/js/219.3eacb724.js"><link rel="prefetch" href="/my-notebook/assets/js/22.18bacb7f.js"><link rel="prefetch" href="/my-notebook/assets/js/220.6c3d5ea4.js"><link rel="prefetch" href="/my-notebook/assets/js/221.6ed68fd0.js"><link rel="prefetch" href="/my-notebook/assets/js/222.f8209cd0.js"><link rel="prefetch" href="/my-notebook/assets/js/223.18ce0d2f.js"><link rel="prefetch" href="/my-notebook/assets/js/224.9825fe7b.js"><link rel="prefetch" href="/my-notebook/assets/js/225.6f3ea3d4.js"><link rel="prefetch" href="/my-notebook/assets/js/226.747bcd4c.js"><link rel="prefetch" href="/my-notebook/assets/js/227.e9a5c0b2.js"><link rel="prefetch" href="/my-notebook/assets/js/228.d59a5c1d.js"><link rel="prefetch" href="/my-notebook/assets/js/229.e5c8c0e2.js"><link rel="prefetch" href="/my-notebook/assets/js/23.44259601.js"><link rel="prefetch" href="/my-notebook/assets/js/230.3938e9d7.js"><link rel="prefetch" href="/my-notebook/assets/js/231.0b5f408b.js"><link rel="prefetch" href="/my-notebook/assets/js/232.65ddadac.js"><link rel="prefetch" href="/my-notebook/assets/js/233.494bbfe6.js"><link rel="prefetch" href="/my-notebook/assets/js/234.14316bca.js"><link rel="prefetch" href="/my-notebook/assets/js/235.0891ee70.js"><link rel="prefetch" href="/my-notebook/assets/js/236.50654cce.js"><link rel="prefetch" href="/my-notebook/assets/js/237.5fa22eba.js"><link rel="prefetch" href="/my-notebook/assets/js/238.c3a00ea1.js"><link rel="prefetch" href="/my-notebook/assets/js/239.2c3102af.js"><link rel="prefetch" href="/my-notebook/assets/js/24.2be5c0c5.js"><link rel="prefetch" href="/my-notebook/assets/js/240.66aed83e.js"><link rel="prefetch" href="/my-notebook/assets/js/241.c8cab28b.js"><link rel="prefetch" href="/my-notebook/assets/js/242.12d61add.js"><link rel="prefetch" href="/my-notebook/assets/js/243.5f95be96.js"><link rel="prefetch" href="/my-notebook/assets/js/244.1d3f31c2.js"><link rel="prefetch" href="/my-notebook/assets/js/245.1c6790f0.js"><link rel="prefetch" href="/my-notebook/assets/js/246.3a7d93bd.js"><link rel="prefetch" href="/my-notebook/assets/js/247.bf0f8a28.js"><link rel="prefetch" href="/my-notebook/assets/js/248.23fb8208.js"><link rel="prefetch" href="/my-notebook/assets/js/249.59e3d733.js"><link rel="prefetch" href="/my-notebook/assets/js/25.e449644a.js"><link rel="prefetch" href="/my-notebook/assets/js/250.67f08a5c.js"><link rel="prefetch" href="/my-notebook/assets/js/251.b8d14692.js"><link rel="prefetch" href="/my-notebook/assets/js/253.30f1dd88.js"><link rel="prefetch" href="/my-notebook/assets/js/254.ce1629f6.js"><link rel="prefetch" href="/my-notebook/assets/js/255.31be4cbf.js"><link rel="prefetch" href="/my-notebook/assets/js/256.59900637.js"><link rel="prefetch" href="/my-notebook/assets/js/257.26f22e10.js"><link rel="prefetch" href="/my-notebook/assets/js/258.bf144e87.js"><link rel="prefetch" href="/my-notebook/assets/js/259.247dcb47.js"><link rel="prefetch" href="/my-notebook/assets/js/26.744497b1.js"><link rel="prefetch" href="/my-notebook/assets/js/260.82c916e6.js"><link rel="prefetch" href="/my-notebook/assets/js/261.d0eaeb0c.js"><link rel="prefetch" href="/my-notebook/assets/js/262.6edc2bbc.js"><link rel="prefetch" href="/my-notebook/assets/js/263.0c206edd.js"><link rel="prefetch" href="/my-notebook/assets/js/264.ef10c942.js"><link rel="prefetch" href="/my-notebook/assets/js/265.30593aea.js"><link rel="prefetch" href="/my-notebook/assets/js/266.431ad91b.js"><link rel="prefetch" href="/my-notebook/assets/js/267.cce5023b.js"><link rel="prefetch" href="/my-notebook/assets/js/268.91112b5f.js"><link rel="prefetch" href="/my-notebook/assets/js/269.28d10833.js"><link rel="prefetch" href="/my-notebook/assets/js/27.54073d49.js"><link rel="prefetch" href="/my-notebook/assets/js/270.6224ce90.js"><link rel="prefetch" href="/my-notebook/assets/js/271.079bba2b.js"><link rel="prefetch" href="/my-notebook/assets/js/272.357c5d0b.js"><link rel="prefetch" href="/my-notebook/assets/js/273.24d789fe.js"><link rel="prefetch" href="/my-notebook/assets/js/28.dd98fea3.js"><link rel="prefetch" href="/my-notebook/assets/js/29.cb5b6492.js"><link rel="prefetch" href="/my-notebook/assets/js/3.b7f0189a.js"><link rel="prefetch" href="/my-notebook/assets/js/30.7b08b66a.js"><link rel="prefetch" href="/my-notebook/assets/js/31.47dafcd7.js"><link rel="prefetch" href="/my-notebook/assets/js/32.8af803fa.js"><link rel="prefetch" href="/my-notebook/assets/js/33.964a4d8b.js"><link rel="prefetch" href="/my-notebook/assets/js/34.f55769fd.js"><link rel="prefetch" href="/my-notebook/assets/js/35.28df7202.js"><link rel="prefetch" href="/my-notebook/assets/js/36.88757be8.js"><link rel="prefetch" href="/my-notebook/assets/js/37.63e53797.js"><link rel="prefetch" href="/my-notebook/assets/js/38.b48aa0ec.js"><link rel="prefetch" href="/my-notebook/assets/js/39.7c770186.js"><link rel="prefetch" href="/my-notebook/assets/js/4.4969c76a.js"><link rel="prefetch" href="/my-notebook/assets/js/40.f72c291c.js"><link rel="prefetch" href="/my-notebook/assets/js/41.d199e776.js"><link rel="prefetch" href="/my-notebook/assets/js/42.58cad14e.js"><link rel="prefetch" href="/my-notebook/assets/js/43.aa1d6921.js"><link rel="prefetch" href="/my-notebook/assets/js/44.39ae7302.js"><link rel="prefetch" href="/my-notebook/assets/js/45.65b986bf.js"><link rel="prefetch" href="/my-notebook/assets/js/46.d871d141.js"><link rel="prefetch" href="/my-notebook/assets/js/47.c231ee60.js"><link rel="prefetch" href="/my-notebook/assets/js/48.f7500c2e.js"><link rel="prefetch" href="/my-notebook/assets/js/49.f26a97d8.js"><link rel="prefetch" href="/my-notebook/assets/js/5.bc8714e6.js"><link rel="prefetch" href="/my-notebook/assets/js/50.270ca7ef.js"><link rel="prefetch" href="/my-notebook/assets/js/51.ff0c8753.js"><link rel="prefetch" href="/my-notebook/assets/js/52.8479bb15.js"><link rel="prefetch" href="/my-notebook/assets/js/53.00e2aab7.js"><link rel="prefetch" href="/my-notebook/assets/js/54.05a2c4e2.js"><link rel="prefetch" href="/my-notebook/assets/js/55.c6181d0c.js"><link rel="prefetch" href="/my-notebook/assets/js/56.60f96851.js"><link rel="prefetch" href="/my-notebook/assets/js/57.1a3b8be3.js"><link rel="prefetch" href="/my-notebook/assets/js/58.9ded4010.js"><link rel="prefetch" href="/my-notebook/assets/js/59.492ffe13.js"><link rel="prefetch" href="/my-notebook/assets/js/6.81d4bdf1.js"><link rel="prefetch" href="/my-notebook/assets/js/60.d35bde25.js"><link rel="prefetch" href="/my-notebook/assets/js/61.2dbe74ef.js"><link rel="prefetch" href="/my-notebook/assets/js/62.e160c68d.js"><link rel="prefetch" href="/my-notebook/assets/js/63.478ec9e0.js"><link rel="prefetch" href="/my-notebook/assets/js/64.e4b1a72b.js"><link rel="prefetch" href="/my-notebook/assets/js/65.b02d472d.js"><link rel="prefetch" href="/my-notebook/assets/js/66.d151151e.js"><link rel="prefetch" href="/my-notebook/assets/js/67.e87a888c.js"><link rel="prefetch" href="/my-notebook/assets/js/68.d653dd54.js"><link rel="prefetch" href="/my-notebook/assets/js/69.81e97d9d.js"><link rel="prefetch" href="/my-notebook/assets/js/7.d6ae00cd.js"><link rel="prefetch" href="/my-notebook/assets/js/70.e8a39caf.js"><link rel="prefetch" href="/my-notebook/assets/js/71.1db70f58.js"><link rel="prefetch" href="/my-notebook/assets/js/72.d9277d17.js"><link rel="prefetch" href="/my-notebook/assets/js/73.208925c7.js"><link rel="prefetch" href="/my-notebook/assets/js/74.4eb82c8c.js"><link rel="prefetch" href="/my-notebook/assets/js/75.ea7361e7.js"><link rel="prefetch" href="/my-notebook/assets/js/76.16ab58a7.js"><link rel="prefetch" href="/my-notebook/assets/js/77.0ea64496.js"><link rel="prefetch" href="/my-notebook/assets/js/78.92401eed.js"><link rel="prefetch" href="/my-notebook/assets/js/79.d54da862.js"><link rel="prefetch" href="/my-notebook/assets/js/8.f246902d.js"><link rel="prefetch" href="/my-notebook/assets/js/80.9c71d74f.js"><link rel="prefetch" href="/my-notebook/assets/js/81.966e68b5.js"><link rel="prefetch" href="/my-notebook/assets/js/82.93bb3599.js"><link rel="prefetch" href="/my-notebook/assets/js/83.9bec1369.js"><link rel="prefetch" href="/my-notebook/assets/js/84.c36482b7.js"><link rel="prefetch" href="/my-notebook/assets/js/85.87b742b9.js"><link rel="prefetch" href="/my-notebook/assets/js/86.588ec8e0.js"><link rel="prefetch" href="/my-notebook/assets/js/87.45b49c3f.js"><link rel="prefetch" href="/my-notebook/assets/js/88.7222fe38.js"><link rel="prefetch" href="/my-notebook/assets/js/89.1c39b0cf.js"><link rel="prefetch" href="/my-notebook/assets/js/9.f46cb34b.js"><link rel="prefetch" href="/my-notebook/assets/js/90.89912eb7.js"><link rel="prefetch" href="/my-notebook/assets/js/91.df0373ee.js"><link rel="prefetch" href="/my-notebook/assets/js/92.86b972d6.js"><link rel="prefetch" href="/my-notebook/assets/js/93.bfe7ae60.js"><link rel="prefetch" href="/my-notebook/assets/js/94.c375dbd7.js"><link rel="prefetch" href="/my-notebook/assets/js/95.79165826.js"><link rel="prefetch" href="/my-notebook/assets/js/96.3dbad1a6.js"><link rel="prefetch" href="/my-notebook/assets/js/97.3095ad22.js"><link rel="prefetch" href="/my-notebook/assets/js/98.c69b4f33.js"><link rel="prefetch" href="/my-notebook/assets/js/99.79a5656c.js">
    <link rel="stylesheet" href="/my-notebook/assets/css/0.styles.64328b17.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/my-notebook/" class="home-link router-link-active"><!----> <span class="site-name">Garrik 的笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/my-notebook/" class="nav-link">主页</a></div><div class="nav-item"><a href="https://github.com/Garrik-Liu/my-notebook" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/my-notebook/" class="nav-link">主页</a></div><div class="nav-item"><a href="https://github.com/Garrik-Liu/my-notebook" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>基本概念</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/my-notebook/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B/%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5.html#什么是因特网" class="sidebar-link">什么是因特网</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/my-notebook/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B/%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5.html#因特网具体构成" class="sidebar-link">因特网具体构成</a></li><li class="sidebar-sub-header"><a href="/my-notebook/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B/%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5.html#因特网提供服务" class="sidebar-link">因特网提供服务</a></li><li class="sidebar-sub-header"><a href="/my-notebook/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B/%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5.html#网络协议" class="sidebar-link">网络协议</a></li></ul></li><li><a href="/my-notebook/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B/%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5.html#网络边缘" class="sidebar-link">网络边缘</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/my-notebook/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B/%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5.html#接入网" class="sidebar-link">接入网</a></li><li class="sidebar-sub-header"><a href="/my-notebook/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B/%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5.html#物理媒体" class="sidebar-link">物理媒体</a></li></ul></li><li><a href="/my-notebook/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B/%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5.html#网络核心" class="sidebar-link">网络核心</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/my-notebook/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B/%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5.html#分组交换" class="sidebar-link">分组交换</a></li><li class="sidebar-sub-header"><a href="/my-notebook/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B/%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5.html#电路交换" class="sidebar-link">电路交换</a></li><li class="sidebar-sub-header"><a href="/my-notebook/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B/%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5.html#网络的网络" class="sidebar-link">网络的网络</a></li></ul></li><li><a href="/my-notebook/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B/%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5.html#分组交换网中的时延-丢包-吞吐量" class="sidebar-link">分组交换网中的时延, 丢包, 吞吐量</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/my-notebook/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B/%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5.html#时延的类型" class="sidebar-link">时延的类型</a></li><li class="sidebar-sub-header"><a href="/my-notebook/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B/%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5.html#排队时延-丢包" class="sidebar-link">排队时延 &amp; 丢包</a></li><li class="sidebar-sub-header"><a href="/my-notebook/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B/%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5.html#吞吐量" class="sidebar-link">吞吐量</a></li></ul></li><li><a href="/my-notebook/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B/%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5.html#协议层次及其服务模型" class="sidebar-link">协议层次及其服务模型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/my-notebook/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B/%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5.html#协议分层" class="sidebar-link">协议分层</a></li><li class="sidebar-sub-header"><a href="/my-notebook/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B/%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5.html#osi-模型" class="sidebar-link">OSI 模型</a></li><li class="sidebar-sub-header"><a href="/my-notebook/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B/%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5.html#封装" class="sidebar-link">封装</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="基本概念"><a href="#基本概念" class="header-anchor">#</a> 基本概念</h1> <p>在这一章从整体上介绍计算机网络的概况, 为后续的学习搭建起整体的框架;</p> <p>介绍计算机网络中的基础术语和概念;</p> <h2 id="什么是因特网"><a href="#什么是因特网" class="header-anchor">#</a> 什么是因特网</h2> <p>『 <strong>因特网</strong> 』是一个世界范围内互联了数以亿计的计算设备的计算机网络;</p> <h3 id="因特网具体构成"><a href="#因特网具体构成" class="header-anchor">#</a> 因特网具体构成</h3> <p>因特网互联了数以亿计的计算设备, 这些设备被称为『 <strong>主机</strong> host 』或『 <strong>端系统</strong> end system 』</p> <ul><li>🌰 例如, PC 电脑, 手机, 游戏机, 汽车, 等;</li></ul> <p>端系统通过『 <strong>通信链路</strong> Communication Link 』和 『 <strong>分组交换机</strong> Packet Switch 』连接到一起;</p> <ul><li>通信链路由不同类型的物理媒体组成;
<ul><li>🌰 例如, 同轴电缆, 铜线, 光纤, 无线电频谱, 等;</li></ul></li> <li>不同的链路能以不同的传输速率以『 <strong>比特/秒</strong> bit/s 』为单位传输数据;</li></ul> <p>当一个端系统要向另外一个端系统传输数据时, 发送端系统将数据分成几段, 并在每段上加上一些相关信息, 由此形成的信息包被称为『 <strong>分组</strong> Packet 』这些分组最终通过网络发送到了目的端系统;</p> <p>&quot;分组交换机&quot; 从它的一条入通线链路接收到达的分组，并从它的一条出通信链路转发该分组;</p> <ul><li>最著名的两种分组交换机是『 <strong>路由器</strong> Router 』和『 <strong>链路层交换机</strong> Link - Layer Switch 』:</li></ul> <p>从发送端到接收端系统，一个分组所经历的一系列 &quot;通信链路&quot; 和 &quot;分组交换机&quot; 称为通过该网络的『 <strong>路径</strong> Route / Path 』;</p> <p>端系统通过『 <strong>因特网服务提供商</strong> Internet Service Provider, ISP 』接入英特网;</p> <ul><li>每个 ISP 是一个由多个分组交换器和多个通信链路组成的网络，各个 ISP 为端系统提供了各种不同类型的网络接入;</li> <li>端系统连接入低层的 ISP，而低层的 ISP 通过国家的，国际的高层 ISP 互联起来，高层的 ISP 是由通过高速光纤链路互联的高速路由器组成的;</li></ul> <p>端系统, 分组交换机和其他英特网部件都要遵循一系列的『 <strong>协议</strong> Protocol 』。这些协议控制着英特网中信息的接收和发送;</p> <p><img src="https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-26-10-14-43.png" alt="2020-05-26-10-14-43"></p> <h3 id="因特网提供服务"><a href="#因特网提供服务" class="header-anchor">#</a> 因特网提供服务</h3> <p>在日常生活中, 我们通过网络可以使用到各种应用程序. 🌰 例如, 通讯软件, 社交网络, 在线视频, 网络游戏, 等;</p> <p>这些依靠于网络的应用程序被称为『 <strong>分布式应用程序</strong> Distributed Application 』因为它们涉及多台互相交换数据的端系统;</p> <p>为了能够让应用程序在一个端系统上向另外一个端系统发送数据。端系统自身提供了一堆用于网络通信的 API.</p> <h3 id="网络协议"><a href="#网络协议" class="header-anchor">#</a> 网络协议</h3> <p>拿人类活动进行类比。两个人为了完成一项工作，必须遵守相同的通信协议。比如交流的语言，语法，统一遵守的社交规则;</p> <ul><li>如果一个人说英语，另外一个人说日语，两个人都互相听不懂对方的话，这两个人很难进行合作;</li></ul> <p>在互联网中为了能够让各种网络设备互相交流，必须遵守遵守统一的<strong>协议</strong> Protocal;</p> <ul><li><strong>一个协议定义了两个或多个通信实体之间交换的报文格式, 各部分含义。以及发送报文 / 接收报文，或其他事件时所采取的动作与次序</strong>;</li></ul> <p><img src="https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-26-10-10-26.png" alt="2020-05-26-10-10-26"></p> <h2 id="网络边缘"><a href="#网络边缘" class="header-anchor">#</a> 网络边缘</h2> <p>被因特网相连起来的『 端系统 』处于网络的边缘;</p> <p>端系统也称为『 主机 』, 因为他们可以容纳各种应用程序;</p> <h3 id="接入网"><a href="#接入网" class="header-anchor">#</a> 接入网</h3> <p>『 <strong>接入网</strong> Access Network 』指将 &quot;端系统&quot; 连接到其『 <strong>边缘路由器</strong> Edge Route 』的物理链路;</p> <ul><li><strong>边缘路由器</strong>: 是一个端系统到任何其他远程端系统的 &quot;路径&quot; 上的 &quot;第一台路由器&quot;;</li></ul> <p>生活中通常有如下几种接入网的使用环境:</p> <ul><li>家庭接入;</li> <li>公司接入;</li> <li>广域移动无线接入;</li></ul> <h4 id="家庭接入"><a href="#家庭接入" class="header-anchor">#</a> 家庭接入</h4> <p>家庭接入互联网有如下几种方式:</p> <p><strong>数字用户线</strong> (Digital Subscriber Line, DSL) :</p> <ul><li>住户通常从提供本地电话接入的电话公司处获得 DSL 因特网接入, 因此本地电话公司也是它的 ISP;</li> <li>每个用户的 『 <strong>DSL 调制解调器</strong> 』使用电话线与位于本地电话公司的本地中心局 CO 中的『 <strong>数字用户线接入复用器 DSLAM</strong> 』 来交换数据;
<ul><li>家庭的 DSL 调制解调器将数字数据转换成高频音;</li> <li>数字用户线接入复用器 DSLAM 将来自家庭的模型信号转换成数字信号;</li></ul></li> <li>电话线能同时承载网络信号和电话信号, 是因为他它们采用了不同的信号频率;</li></ul> <p><img src="https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-26-10-25-35.png" alt="2020-05-26-10-25-35"></p> <p><strong>电缆因特网接入</strong> (Cable Internet Access) :</p> <ul><li>利用了有线电视的基础设施;</li> <li>通过光缆将电缆头端连接到地区枢纽, 然后再从这里使用传统的同轴电缆连接到各个家庭;</li> <li>因为在这个系统中同时使用了光缆和同轴电缆, 所以也称为『 混合光纤同轴 Hybrid Fiber Coax, HFC 』</li> <li>家庭需要使用『 <strong>电缆调制解调器</strong> Cable Modem 』来将家庭的端系统发送出的数字信号转换成模拟信号;</li> <li>在电缆头端, 使用『 <strong>电缆调制解调器端接系统</strong> Cable Modem Termination System, CMTS 』来讲模拟信号转换成数字信号;</li></ul> <p><img src="https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-26-10-35-58.png" alt="2020-05-26-10-35-58"></p> <p><strong>光纤到户</strong> (Fiber To The Home, FTTH) :</p> <ul><li>光纤接入很简单, 从本地中心局直接连一条到家庭的光纤, 这被称为『 直接光纤 』</li> <li>也有很多家庭共享一根光纤接入的方式;</li> <li>家庭端使用『 <strong>光纤网络端接器</strong> Optical Network Terminator, ONT 』它将数字信号转换成光信号;</li> <li>中心局使用『 <strong>光纤线路端接器</strong> Optical Line Terminator, OLT 』将光信号转换成数字信号;</li></ul> <p><img src="https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-26-10-36-11.png" alt="2020-05-26-10-36-11"></p> <h4 id="企业接入"><a href="#企业接入" class="header-anchor">#</a> 企业接入</h4> <p>在公司和大学这种环境中, 通常端系统先接入一个由『 <strong>以太网交换机</strong> 』组成的『 <strong>局域网</strong> LAN 』, 然后再由与以太网交换机相连的『 <strong>边缘路由器</strong> 』连接到因特网中;</p> <p><img src="https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-26-10-43-11.png" alt="2020-05-26-10-43-11"></p> <h3 id="物理媒体"><a href="#物理媒体" class="header-anchor">#</a> 物理媒体</h3> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>🚧 <strong>施工中...</strong></p></div> <h2 id="网络核心"><a href="#网络核心" class="header-anchor">#</a> 网络核心</h2> <p>『 <strong>网络核心</strong> 』即由互联端系统的『 <strong>分组交换机</strong> 』和『 <strong>通信链路</strong> 』构成的网状网络;</p> <p><img src="https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-26-10-49-32.png" alt="2020-05-26-10-49-32"></p> <p>网络链路和交换机移动数据有两种基本方法:</p> <ul><li><strong>电路交换</strong> circuit switching;</li> <li><strong>分组交换</strong> packet switching;</li></ul> <h3 id="分组交换"><a href="#分组交换" class="header-anchor">#</a> 分组交换</h3> <ul><li>在各种网络应用中, 端系统彼此交换『 <strong>报文</strong> message 』</li> <li>报文里可以包含数据, 也可以执行一种控制功能;</li> <li>为了传输报文, 源端系统将报文拆分成较小的数据块, 称为『 <strong>分组</strong> Packet 』</li> <li>在源端系统和目的端系统之间, 每个分组都通过『 通信链路 』和『 分组交换机 』传送;</li> <li>分组以等于该链路最大传输速率进行传输, 如果要经过链路发送一个 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>L</mi></mrow><annotation encoding="application/x-tex">L</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.68333em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">L</span></span></span></span> 比特的分组, 链路的传输速率为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>R</mi></mrow><annotation encoding="application/x-tex">R</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.68333em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.00773em;">R</span></span></span></span> 比特/秒, 则传输完该分组所需的时间为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>L</mi><mi mathvariant="normal">/</mi><mi>R</mi></mrow><annotation encoding="application/x-tex">L/R</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mord mathit">L</span><span class="mord mathrm">/</span><span class="mord mathit" style="margin-right:0.00773em;">R</span></span></span></span> 秒;</li></ul> <h4 id="存储转发传输"><a href="#存储转发传输" class="header-anchor">#</a> 存储转发传输</h4> <ul><li>多数分组交换机在链路的输入端使用『 <strong>存储转发传输</strong> store and forward transmission 』机制</li> <li>它是指在交换机能够开始向输出链路传输该分组的第一个比特之前, 必须接收到整个分组;</li> <li>如果源端系统从 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.64444em;"></span><span class="strut bottom" style="height:0.64444em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathrm">0</span></span></span></span> 时刻开始传输分组, 在 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>L</mi><mi mathvariant="normal">/</mi><mi>R</mi></mrow><annotation encoding="application/x-tex">L/R</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mord mathit">L</span><span class="mord mathrm">/</span><span class="mord mathit" style="margin-right:0.00773em;">R</span></span></span></span> 时刻路由器接收到整个分组, 之后路由器开始向目的端系统传输分组, 在时刻 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>2</mn><mi>L</mi><mi mathvariant="normal">/</mi><mi>R</mi></mrow><annotation encoding="application/x-tex">2L/R</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mord mathrm">2</span><span class="mord mathit">L</span><span class="mord mathrm">/</span><span class="mord mathit" style="margin-right:0.00773em;">R</span></span></span></span> 目的端接收到整个分组.
<ul><li>总时延: <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>2</mn><mi>L</mi><mi mathvariant="normal">/</mi><mi>R</mi></mrow><annotation encoding="application/x-tex">2L/R</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mord mathrm">2</span><span class="mord mathit">L</span><span class="mord mathrm">/</span><span class="mord mathit" style="margin-right:0.00773em;">R</span></span></span></span></li> <li>这是在只有一台路由器, 两条链路的情况下;</li></ul></li> <li>可以推导, 如果有源端到目的端之间有 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">N - 1</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.10903em;">N</span><span class="mbin">−</span><span class="mord mathrm">1</span></span></span></span> 个路由器, <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.68333em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.10903em;">N</span></span></span></span> 条速率为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>R</mi></mrow><annotation encoding="application/x-tex">R</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.68333em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.00773em;">R</span></span></span></span> 链路, 则总时延为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi><mo>×</mo><mi>L</mi><mi mathvariant="normal">/</mi><mi>R</mi></mrow><annotation encoding="application/x-tex">N \times L/R</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.10903em;">N</span><span class="mbin">×</span><span class="mord mathit">L</span><span class="mord mathrm">/</span><span class="mord mathit" style="margin-right:0.00773em;">R</span></span></span></span></li></ul> <p><img src="https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-26-14-12-25.png" alt="2020-05-26-14-12-25"></p> <h4 id="排队时延-分组丢失"><a href="#排队时延-分组丢失" class="header-anchor">#</a> 排队时延 &amp; 分组丢失</h4> <ul><li>每个分组交换机有多条链路与之相连，对于每条相连的链路，该分组交换机具有一个『 <strong>输出缓存</strong> output buffer 』也称为『 <strong>输出队列</strong> output queue 』</li> <li>它用于储存路由器，准备发往那条链路的分组。需要缓存的原因是如果到达的分组需要传输到某条链路，但发现此链路正忙于传输其他分组则该分组必须在缓存中进行等待;</li> <li>所以除了储存转发时延之外分组还要承受输出缓存的『 <strong>排队时延</strong> queue delay 』</li> <li>如果分组到达路由器之后，发现输出缓存已满。则这个分组就无法被接收，就会出现『 <strong>分组丢失/丢包</strong> packet lost 』的情况。</li></ul> <h4 id="转发表-路由选择协议"><a href="#转发表-路由选择协议" class="header-anchor">#</a> 转发表 &amp; 路由选择协议</h4> <ul><li>在因特网中，每个端系统都具备一个 IP 地址，当原主机要向目的端系统发送一个分组时。源端系统在该分组的首部包含了目的地的 IP 地址;</li> <li>每个路由器都具备一个『 <strong>转发表</strong> forwarding table 』，它会将接收到的分组中首部带的目的地址映射为对应的输出链路;</li> <li>通过一些『 <strong>路由选择协议</strong> routing protocol 』分组交换机可以自动地设置转发表;</li></ul> <h3 id="电路交换"><a href="#电路交换" class="header-anchor">#</a> 电路交换</h3> <p><strong>电路交换网络</strong> 中，在端系统建通信会话期间，预留了端系统间通信需要的资源 (缓存，链路传输速率)</p> <ul><li>🌰 传统的电话网络就是电路交换网络的例子;
<ul><li>发送方和接收方之间是一条他们 &quot;专属的&quot; 连接，这被称为『 <strong>电路</strong> circuit 』这保证了可以以恒定的速率向接收方传送数据;</li></ul></li></ul> <p><img src="https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-26-14-41-50.png" alt="2020-05-26-14-41-50"></p> <ul><li>上图是一个电路交换网络;</li> <li>在这个网络中, 用 4 条链路互联了 4 台电路交换机;</li> <li>每条链路中都有 4 个电路;</li> <li>因此每条链路同时支持 4 个并行的连接;</li> <li>每个端系统间都建立起了『 <strong>端到端连接</strong> end-to-end connection 』</li> <li>对于本例的一个端到端连接来说, 它使用链路的 1/4 带宽, 哪怕其他三条电路不被使用, 也要为将来的连接进行预留;</li></ul> <h4 id="电路交换网络中的复用"><a href="#电路交换网络中的复用" class="header-anchor">#</a> 电路交换网络中的复用</h4> <p>链路中的电路是通过『 <strong>频分复用</strong> Frequency Division Multiplexing, FDM 』或『 <strong>时分复用</strong> 』来实现的;</p> <ul><li>对于 <strong>FDM</strong> 链路, 链路的频谱由跨越链路创建的所有连接所共享。而每个连接专用一个频段;
<ul><li>🌰 调频无线电台也使用频分复用来共享 88~108 MHz 的频谱，其中每个电台分配一个特定的频段;</li></ul></li> <li>对于一条 <strong>TDM</strong> 链路, 时间被划分为固定区间的帧, 而每帧又被划分为固定数量的时隙. 每个连接被分配了指定的时隙;</li></ul> <p><img src="https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-26-14-51-56.png" alt="2020-05-26-14-51-56"></p> <h4 id="分组交换-vs-电路交换"><a href="#分组交换-vs-电路交换" class="header-anchor">#</a> 分组交换 vs 电路交换</h4> <p>因为电路交换网络中, 在连接没有被使用时, 称为『 <strong>静默期</strong> silent period 』其依旧占用着资源, 这导致它的传输效率比较低;</p> <p>总体来讲, <strong>&quot;分组交换&quot; 性能优于 &quot;电路交换&quot;</strong>.</p> <h3 id="网络的网络"><a href="#网络的网络" class="header-anchor">#</a> 网络的网络</h3> <p>端系统经过一个『 <strong>接入 ISP</strong> 』与因特网相连;</p> <p>而接入 ISP 自身也必须相连, 才能保证所有端系统都可以相连;</p> <p>ISP 之间的连接被称作『 <strong>网络的网络</strong> 』</p> <hr> <p>现如今的因特网网络结构非常复杂, 为了帮助理解, 下面 👇 我们从最基础的网络结构一步步地讲解:</p> <p><strong>最简单的结构</strong>:</p> <ul><li>最简单的方法就是将每个接入 ISP 都直接与其他所有的接入 ISP 单独连一条通信链路;</li> <li>但很显然, 这种实现成本太高, 也很难实现;</li></ul> <p><strong>网络结构 1</strong>:</p> <ul><li>创建一个单一的『 <strong>全球承载 ISP</strong> 』负责互联所有的接入 ISP;</li> <li>因为承载全球的接入 ISP 连接成本很高, 所以全球承载 ISP 要进行收费;</li> <li>接入 ISP 被称为『 客户 Customer 』;</li> <li>全球承载 ISP 被称为『 提供商 Provider 』</li></ul> <p><strong>网络结构 2</strong>:</p> <ul><li>如果精英全球承载 ISP 是有利可图的, 自由市场中就会涌入很多其他的公司;</li> <li>这时就会有多个全球承载 ISP;</li> <li>接入 ISP 可以在多个提供商之间进行选择;</li> <li>全球承载 ISP 之间是必须互联的, 这样才能让连接到不同全球承载 ISP 的接入 ISP 之间互联;</li> <li>这是一种两层的网络等级结构:
<ul><li>全球承载服务商位于顶层, 其也称为『 <strong>第一层 ISP</strong> ( tier-1 ISP ) 』</li> <li>接入 ISP 位于底层;</li></ul></li></ul> <p><strong>网络结构 3</strong>:</p> <ul><li>这个世界很大, 有很多地方离全球承载 ISP 都很远, 接入 ISP 很难与它们连接;</li> <li>这时出现了, 在给定区域提供连接的『 <strong>区域 ISP</strong> 』;</li> <li>区域中, 接入 ISP 可以与区域 ISP 连接, 也可以选择接入第一层 ISP;</li> <li>区域 ISP 与第一层 ISP 进行连接;</li></ul> <p><strong>网络结构 4</strong>:</p> <ul><li>为了能够对接收到的连接和数据进行各种操作和控制, 除接入 ISP 之外, 再网络结构的各个等级都添加了『 <strong>入网点/存在点</strong> Point of Presence, PoP』</li> <li>除了第一层 ISP 之外, 任何 ISP 都可以选择『 <strong>多宿</strong> Multi-Home 』即两个或更多供应商 ISP 相互连接;
<ul><li>🌰 一个接入 ISP 可以与多个区域 ISP 或全球承载 ISP 连接;</li> <li>这样如果一个供应商 ISP 出现故障了, 不会影响当前 ISP 的服务;</li></ul></li> <li>位于相同等级层次的临近 ISP 之间还能够进行『 <strong>对等</strong> Peer 』即通过网络连接在一起, 使他们之间的流量不需要上层的 ISP 传输;
<ul><li>因为上层的供应商会对流量收费, 两个平级 ISP 直接相连的话, 就可以省钱了;</li> <li>当两个 ISP 对等时, 它们是不对流量进行结算的, 也就是互相不收钱;</li></ul></li> <li>当对等的需求多了, 就有第三方公司创建『 <strong>因特网交换点</strong> Internet Exchange Point, IXP 』在这里不同等级层次的 ISP 都可以进行对等;</li></ul> <p><strong>网络结构 5</strong>:</p> <ul><li>在网络结构 4 的基础之上添加了『 <strong>内容提供商网络</strong> content provider network 』</li> <li>类似谷歌这样的公司就有自己的 &quot;内容提供商网络&quot;. 它把自己的服务器连接起来, 构成一个独立于公共因特网的专有网络;</li> <li>这个专有网络通过与较低层的 ISP 对等 (无结算) 从而避免与接入 ISP 连接, 省去这部分流量的费用;</li> <li>并且通过自己的专有网络, 内容供应商可以对如何提供服务给端用户有了更多的控制;</li></ul> <p><img src="https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-26-16-23-36.png" alt="2020-05-26-16-23-36"></p> <h2 id="分组交换网中的时延-丢包-吞吐量"><a href="#分组交换网中的时延-丢包-吞吐量" class="header-anchor">#</a> 分组交换网中的时延, 丢包, 吞吐量</h2> <p>在从一个端系统向另一个端系统传递分组的过程中, 会经历各种不同类型的时延:</p> <ul><li><strong>结点处理时延</strong> nodal processing delay;</li> <li><strong>排队时延</strong> queuing delay ;</li> <li><strong>传输时延</strong> transmission delay;</li> <li><strong>传播时延</strong> propagating delay;</li></ul> <p>这些时延总体累加起来是, <strong>结点总时延</strong> total nodal delay;</p> <h3 id="时延的类型"><a href="#时延的类型" class="header-anchor">#</a> 时延的类型</h3> <p>下图 👇 这个模型中展示了端到端传输路径的一部分, 一个分组从上游结点想通过路由器 A 来向路由器 B 发送. 下面我们通过模型来解释各种时延:</p> <p><img src="https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-26-19-42-34.png" alt="2020-05-26-19-42-34"></p> <p><strong>结点处理时延</strong>:</p> <ul><li>指的是分组进入路由器后, 机器会对分组上的信息进行必要的处理.</li> <li>🌰 例如, 通过分组的首部来找到分组的去向, 进行错误检验, 等;</li> <li>在结束完结点处理后, 路由器将分组引向通往路由器 B 链路的队列;</li></ul> <p><strong>排队时延</strong>:</p> <ul><li>指的是分组在队列上等待传输造成的时延;</li> <li>如果链路上没有分组在传播, 则排队时延为 0;</li></ul> <p><strong>传输时延</strong>:</p> <ul><li>由链路传输速率和分组长度造成的时延;</li> <li>假如分组长度为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>L</mi></mrow><annotation encoding="application/x-tex">L</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.68333em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">L</span></span></span></span>, 链路传输速率为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>R</mi><mtext></mtext><mrow><mi>b</mi><mi>p</mi><mi>s</mi><mi mathvariant="normal">/</mi><mi>s</mi></mrow></mrow><annotation encoding="application/x-tex">R \space {bps/s}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.00773em;">R</span><span class="mord mspace"></span><span class="mord textstyle uncramped"><span class="mord mathit">b</span><span class="mord mathit">p</span><span class="mord mathit">s</span><span class="mord mathrm">/</span><span class="mord mathit">s</span></span></span></span></span>, 则传输时延为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>L</mi><mi mathvariant="normal">/</mi><mi>R</mi></mrow><annotation encoding="application/x-tex">L/R</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mord mathit">L</span><span class="mord mathrm">/</span><span class="mord mathit" style="margin-right:0.00773em;">R</span></span></span></span>;</li> <li>这是将所有的分组的比特从路由器推向链路所花的时间;</li></ul> <p><strong>传播时延</strong>:</p> <ul><li>分组在链路上从起点到终点传播所花的时间;</li> <li>链路的传播速率取决于物理媒体, 但基本上略小与光速;</li> <li>传播时延等于链路的长度, 除以传播速度;</li></ul> <p><strong>端到端的总时延</strong>:</p> <ul><li>假定在源主机到目的主机之间有 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">N-1</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.10903em;">N</span><span class="mbin">−</span><span class="mord mathrm">1</span></span></span></span> 台路由器, 每台路由器和源主机上的处理时延是 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>d</mi><mrow><mi>p</mi><mi>r</mi><mi>o</mi><mi>c</mi></mrow></msub></mrow><annotation encoding="application/x-tex">d_{proc}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.69444em;"></span><span class="strut bottom" style="height:0.980548em;vertical-align:-0.286108em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit">d</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">p</span><span class="mord mathit" style="margin-right:0.02778em;">r</span><span class="mord mathit">o</span><span class="mord mathit">c</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span></span></span></span>, 每台路由器和源主机的传输时延是 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>d</mi><mrow><mi>t</mi><mi>r</mi><mi>a</mi><mi>n</mi><mi>s</mi></mrow></msub></mrow><annotation encoding="application/x-tex">d_{trans}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.69444em;"></span><span class="strut bottom" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit">d</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">t</span><span class="mord mathit" style="margin-right:0.02778em;">r</span><span class="mord mathit">a</span><span class="mord mathit">n</span><span class="mord mathit">s</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span></span></span></span>, 每条链路的传播时延是 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mrow><msub><mi>d</mi><mrow><mi>p</mi><mi>r</mi><mi>o</mi><mi>p</mi></mrow></msub></mrow></mrow><annotation encoding="application/x-tex">{d_{prop}}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.69444em;"></span><span class="strut bottom" style="height:0.980548em;vertical-align:-0.286108em;"></span><span class="base textstyle uncramped"><span class="mord textstyle uncramped"><span class="mord"><span class="mord mathit">d</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">p</span><span class="mord mathit" style="margin-right:0.02778em;">r</span><span class="mord mathit">o</span><span class="mord mathit">p</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span></span></span></span></span>;</li> <li>则端到端传输的总时延为: <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>d</mi><mrow><mi>e</mi><mi>n</mi><mi>d</mi><mo>−</mo><mi>e</mi><mi>n</mi><mi>d</mi></mrow></msub><mo>=</mo><mi>N</mi><mo>(</mo><msub><mi>d</mi><mrow><mi>p</mi><mi>r</mi><mi>o</mi><mi>c</mi></mrow></msub><mo>+</mo><msub><mi>d</mi><mrow><mi>t</mi><mi>r</mi><mi>a</mi><mi>n</mi><mi>s</mi></mrow></msub><mo>+</mo><msub><mi>d</mi><mrow><mi>p</mi><mi>r</mi><mi>o</mi><mi>p</mi></mrow></msub><mo>)</mo></mrow><annotation encoding="application/x-tex">d_{end-end} = N(d_{proc} + d_{trans} + d_{prop})</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit">d</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">e</span><span class="mord mathit">n</span><span class="mord mathit">d</span><span class="mbin">−</span><span class="mord mathit">e</span><span class="mord mathit">n</span><span class="mord mathit">d</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mrel">=</span><span class="mord mathit" style="margin-right:0.10903em;">N</span><span class="mopen">(</span><span class="mord"><span class="mord mathit">d</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">p</span><span class="mord mathit" style="margin-right:0.02778em;">r</span><span class="mord mathit">o</span><span class="mord mathit">c</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mbin">+</span><span class="mord"><span class="mord mathit">d</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">t</span><span class="mord mathit" style="margin-right:0.02778em;">r</span><span class="mord mathit">a</span><span class="mord mathit">n</span><span class="mord mathit">s</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mbin">+</span><span class="mord"><span class="mord mathit">d</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">p</span><span class="mord mathit" style="margin-right:0.02778em;">r</span><span class="mord mathit">o</span><span class="mord mathit">p</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mclose">)</span></span></span></span></li></ul> <h3 id="排队时延-丢包"><a href="#排队时延-丢包" class="header-anchor">#</a> 排队时延 &amp; 丢包</h3> <p>排队时延的大小, 很大程度上取决于流量到达该队列的速率, 链路的传输速率, 和到达流量的性质;</p> <ul><li>假如 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.43056em;"></span><span class="strut bottom" style="height:0.43056em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">a</span></span></span></span> 表示分组到达队列的平均速率, 单位为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>p</mi><mi>k</mi><mi>t</mi><mi mathvariant="normal">/</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">pkt/s</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mord mathit">p</span><span class="mord mathit" style="margin-right:0.03148em;">k</span><span class="mord mathit">t</span><span class="mord mathrm">/</span><span class="mord mathit">s</span></span></span></span>;</li> <li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>R</mi></mrow><annotation encoding="application/x-tex">R</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.68333em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.00773em;">R</span></span></span></span> 是路由器的传输速率, 即从队列向链路推出比特的速率;</li> <li>假定每个分组都由 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>L</mi></mrow><annotation encoding="application/x-tex">L</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.68333em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">L</span></span></span></span> 个比特组成, 同时假定队列无限大;</li> <li>则比率 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>L</mi><mi>a</mi><mi mathvariant="normal">/</mi><mi>R</mi></mrow><annotation encoding="application/x-tex">La/R</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mord mathit">L</span><span class="mord mathit">a</span><span class="mord mathrm">/</span><span class="mord mathit" style="margin-right:0.00773em;">R</span></span></span></span> 表达了 &quot;比特到达队列的平均速率, 与队列向外推出的比特速率的比值&quot;, 这被称为『 <strong>流量强度</strong> traffic intensity 』</li> <li>如果 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>L</mi><mi>a</mi><mi mathvariant="normal">/</mi><mi>R</mi><mo>&gt;</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">La/R &gt; 1</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mord mathit">L</span><span class="mord mathit">a</span><span class="mord mathrm">/</span><span class="mord mathit" style="margin-right:0.00773em;">R</span><span class="mrel">&gt;</span><span class="mord mathrm">1</span></span></span></span> 则比特到达队列的速率大于队列向外推出比特的速率, 如果分组无限地以 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.43056em;"></span><span class="strut bottom" style="height:0.43056em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">a</span></span></span></span> 速率传输到向路由器, 则会造成<strong>排队时延的无限增大</strong>;</li></ul> <p><img src="https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-26-20-11-44.png" alt="2020-05-26-20-11-44"></p> <hr> <p>上面我们假设队列能容纳无限多的分组. 但现实中, 队列的容量是有限的:</p> <ul><li>如果队列已满, 新来的分组会被『 <strong>丢弃</strong> drop 』, 即分组遭到『 <strong>丢失</strong> lost 』</li> <li>分组丢失的份额随着 &quot;流量强度&quot; 增加而增加;</li> <li>一个结点的性能不仅根据 &quot;时延&quot; 来衡量, 也根据 &quot;丢包率&quot; 来衡量;</li></ul> <h3 id="吞吐量"><a href="#吞吐量" class="header-anchor">#</a> 吞吐量</h3> <p>从主机 A 向主机 B 传输一个文件, 在任何时间的『 <strong>瞬间吞吐量</strong> instantaneous throughput 』指的是主机 B 接收该文件的瞬间速率;</p> <p>如果文件由 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>F</mi></mrow><annotation encoding="application/x-tex">F</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.68333em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.13889em;">F</span></span></span></span> 个比特组成, 主机 B 接收完 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>F</mi></mrow><annotation encoding="application/x-tex">F</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.68333em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.13889em;">F</span></span></span></span> 比特用了 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>T</mi></mrow><annotation encoding="application/x-tex">T</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.68333em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.13889em;">T</span></span></span></span> 秒, 则文件传输的『 <strong>平均吞吐量</strong> average throughput 』是 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>F</mi><mi mathvariant="normal">/</mi><mi>T</mi><mtext></mtext><mi>b</mi><mi>p</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">F/T \space bps</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.13889em;">F</span><span class="mord mathrm">/</span><span class="mord mathit" style="margin-right:0.13889em;">T</span><span class="mord mspace"></span><span class="mord mathit">b</span><span class="mord mathit">p</span><span class="mord mathit">s</span></span></span></span></p> <p>观察下面 👇 这个模型, 服务器要经过路由器向客户传递数据, 服务器到路由器的链路传输速率为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>R</mi><mi>s</mi></msub></mrow><annotation encoding="application/x-tex">R_s</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit" style="margin-right:0.00773em;">R</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.00773em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit">s</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span></span></span></span>, 路由器到客户链路的传输速率为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>R</mi><mi>c</mi></msub></mrow><annotation encoding="application/x-tex">R_c</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit" style="margin-right:0.00773em;">R</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.00773em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit">c</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span></span></span></span>;</p> <ul><li>很容易想象, 客户接收分组的速率为两个链路传输速率的最小值, 即<strong>吞吐量</strong>为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi><mi>i</mi><mi>n</mi><mo>[</mo><msub><mi>R</mi><mi>s</mi></msub><mo separator="true">,</mo><msub><mi>R</mi><mi>c</mi></msub><mo>]</mo></mrow><annotation encoding="application/x-tex">min[R_s, R_c]</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mord mathit">m</span><span class="mord mathit">i</span><span class="mord mathit">n</span><span class="mopen">[</span><span class="mord"><span class="mord mathit" style="margin-right:0.00773em;">R</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.00773em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit">s</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mpunct">,</span><span class="mord"><span class="mord mathit" style="margin-right:0.00773em;">R</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.00773em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit">c</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mclose">]</span></span></span></span>;</li> <li>传输速率最小的链路也被称为『 <strong>瓶颈链路</strong> bottleneck link 』, 其速率等于吞吐量;</li> <li>传输一个 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>F</mi></mrow><annotation encoding="application/x-tex">F</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.68333em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.13889em;">F</span></span></span></span> 个比特大小的文件, 所花时间为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>F</mi><mi mathvariant="normal">/</mi><mi>m</mi><mi>i</mi><mi>n</mi><mo>[</mo><msub><mi>R</mi><mi>s</mi></msub><mo separator="true">,</mo><msub><mi>R</mi><mi>c</mi></msub><mo>]</mo></mrow><annotation encoding="application/x-tex">F/min[R_s, R_c]</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.13889em;">F</span><span class="mord mathrm">/</span><span class="mord mathit">m</span><span class="mord mathit">i</span><span class="mord mathit">n</span><span class="mopen">[</span><span class="mord"><span class="mord mathit" style="margin-right:0.00773em;">R</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.00773em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit">s</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mpunct">,</span><span class="mord"><span class="mord mathit" style="margin-right:0.00773em;">R</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.00773em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit">c</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mclose">]</span></span></span></span></li> <li>同理, 如果路径中有 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.68333em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.10903em;">N</span></span></span></span> 条链路, 速率分别是 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>R</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>R</mi><mn>2</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>R</mi><mi>n</mi></msub></mrow><annotation encoding="application/x-tex">R_1, R_2, ..., R_n</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit" style="margin-right:0.00773em;">R</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.00773em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathrm">1</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mpunct">,</span><span class="mord"><span class="mord mathit" style="margin-right:0.00773em;">R</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.00773em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathrm">2</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mpunct">,</span><span class="mord mathrm">.</span><span class="mord mathrm">.</span><span class="mord mathrm">.</span><span class="mpunct">,</span><span class="mord"><span class="mord mathit" style="margin-right:0.00773em;">R</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.00773em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit">n</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span></span></span></span>, 则吞吐量是 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi><mi>i</mi><mi>n</mi><mo>[</mo><msub><mi>R</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>R</mi><mn>2</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>R</mi><mi>n</mi></msub><mo>]</mo></mrow><annotation encoding="application/x-tex">min[R_1, R_2, ..., R_n]</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mord mathit">m</span><span class="mord mathit">i</span><span class="mord mathit">n</span><span class="mopen">[</span><span class="mord"><span class="mord mathit" style="margin-right:0.00773em;">R</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.00773em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathrm">1</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mpunct">,</span><span class="mord"><span class="mord mathit" style="margin-right:0.00773em;">R</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.00773em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathrm">2</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mpunct">,</span><span class="mord mathrm">.</span><span class="mord mathrm">.</span><span class="mord mathrm">.</span><span class="mpunct">,</span><span class="mord"><span class="mord mathit" style="margin-right:0.00773em;">R</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.00773em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit">n</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mclose">]</span></span></span></span></li></ul> <p><img src="https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-26-20-36-31.png" alt="2020-05-26-20-36-31"></p> <p>在现实中, 网络核心的所有链路都有非常高的传输速率, 基本上远远高于需求, 所以<strong>限制吞吐量的因素只要是每个主机的接入网</strong>;</p> <h2 id="协议层次及其服务模型"><a href="#协议层次及其服务模型" class="header-anchor">#</a> 协议层次及其服务模型</h2> <p>在现实中, 我为简化一个复杂的系统, 我们通常会将其抽象成分层的体系结构;</p> <ul><li>每个分层各自承载特定的功能, 并与其他层次用定义好的交互方法来进行合作;</li> <li>只要与其他层次交互的方法不变, 层次内部对于功能的具体实现改变, 不会影响到其他层次;</li></ul> <p>🌰 下图展示了民航服务的分层结构:</p> <p><img src="https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-26-22-16-28.png" alt="2020-05-26-22-16-28"></p> <h3 id="协议分层"><a href="#协议分层" class="header-anchor">#</a> 协议分层</h3> <p>计算机网络设计中, 以『 <strong>分层</strong> layer 』的方式组织协议, 以及这些协议的网络硬件和软件;</p> <ul><li>所有层次的协议合起来被称为『 <strong>协议栈</strong> protocal stack 』</li></ul> <p>『 <strong>因特网的协议栈</strong> 』由 5 个层次组成, 自顶向下分别为:</p> <p><strong>应用层</strong>:</p> <ul><li>这个层次存放的协议, 为网络应用程序提供服务;</li> <li>🌰 例如, HTTP, SMTP, FTP, DNS, 等;</li> <li>应用层协议分布在多个端系统上, 一个端系统中的应用程序使用协议向另一个端系统应用程序发送信息;</li> <li>位于应用层的传输的信息称为『 <strong>报文</strong> message 』</li></ul> <p><strong>运输层</strong>:</p> <ul><li>运输车在应用程序两端传送应用层报文;</li> <li>在因特网中, 有两个运输协议, TCP 和 UDP;</li> <li>TCP 为应用程序提供了面向连接的服务;</li> <li>UDP 为应用程序提供了无连接的服务;</li> <li>运输层传输的分组, 称为『 <strong>报文段</strong> segment 』</li></ul> <p><strong>网络层</strong>:</p> <ul><li>网络层负责为传递的分层选择最合适的网络路径;</li> <li>网络层协议有著名的 IP 协议;</li> <li>网络层传输的分组, 称为『 <strong>数据报</strong> datagram 』</li></ul> <p><strong>链路层</strong>:</p> <ul><li>链路层将网络层传输的数据报从一个结点移动到下一个结点;</li> <li>链路层传递的分组, 被称为『 <strong>帧</strong> frame 』</li></ul> <p><strong>物理层</strong>:</p> <ul><li>物理层将链路层传递的帧, 一个比特一个比特地从一个结点移动到下一个结点;</li> <li>这层的协议与链路的实际传输媒体相关;</li> <li>不同的链路媒体, 传输比特的方式也各不相同;</li></ul> <p><img src="https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-26-22-28-40.png" alt="2020-05-26-22-28-40"></p> <h3 id="osi-模型"><a href="#osi-模型" class="header-anchor">#</a> OSI 模型</h3> <p>因特网协议栈不是唯一的协议栈;</p> <p>20 世纪 70 年代, 国际标准化组织 ISO 提出了『 <strong>开发系统互联 OSI</strong> 』模型的 7 层网络协议栈;</p> <p>相比较与 5 层协议栈, 它在应用层和运输层间, 添加了 &quot;表示层&quot; 和 &quot;会话层&quot;;</p> <ul><li><strong>表示层</strong>: 使得通信的应用程序能够明白接收到的数据的含义;
<ul><li>数据可能被压缩, 加密, 或者采用特殊的编码格式;</li></ul></li> <li><strong>会话层</strong>: 提供了数据交换定界和同步功能;
<ul><li>提供了检查点, 数据恢复等功能;</li></ul></li></ul> <p><img src="https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-26-22-28-48.png" alt="2020-05-26-22-28-48"></p> <h3 id="封装"><a href="#封装" class="header-anchor">#</a> 封装</h3> <p>在下图可以看出, 发送端在协议栈中自顶向下地传递分组时, 每一层都会在上一层分组的基础上, 加上自己层次的附加信息 ( 首部字段 ) , 这种行为成为『 <strong>封装</strong> encapsulation 』</p> <ul><li>这些首部字段, 会被接收端的对应层次所使用, 用以传递和层次相关的信息;</li> <li>一个分组具有两种类型的字段: 『 <strong>首部字段</strong> 』 和『 <strong>有效载荷字段</strong> payload field 』</li> <li>有效载荷字段就是来自于上一层的分组;</li></ul> <p><img src="https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-26-23-29-17.png" alt="2020-05-26-23-29-17"></p> <p>从这张图还可以看出, 协议栈不需要在所有的网络设备中得以实现, 只需要各自实现自身所需的即可;</p> <p><strong>越在网络边缘, 所需的网络协议越复杂, 复杂性越高</strong>;</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">7/18/2020, 3:20:01 PM</span></div></footer> <!----> </main></div><div class="global-ui"><!----></div></div>
    <script src="/my-notebook/assets/js/app.7f26aa6e.js" defer></script><script src="/my-notebook/assets/js/2.86213550.js" defer></script><script src="/my-notebook/assets/js/252.aadf6170.js" defer></script>
  </body>
</html>

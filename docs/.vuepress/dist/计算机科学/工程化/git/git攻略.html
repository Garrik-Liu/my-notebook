<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Git 攻略 | Garrik 的笔记</title>
    <meta name="description" content="这里是 Garrik 的前端笔记本">
    
    
    <link rel="preload" href="/my-notebook/assets/css/0.styles.24c4c005.css" as="style"><link rel="preload" href="/my-notebook/assets/js/app.884f9198.js" as="script"><link rel="preload" href="/my-notebook/assets/js/2.4605f295.js" as="script"><link rel="preload" href="/my-notebook/assets/js/192.2e27005a.js" as="script"><link rel="prefetch" href="/my-notebook/assets/js/10.c92468d0.js"><link rel="prefetch" href="/my-notebook/assets/js/100.62c3ce56.js"><link rel="prefetch" href="/my-notebook/assets/js/101.15e9e6a6.js"><link rel="prefetch" href="/my-notebook/assets/js/102.732bfc9f.js"><link rel="prefetch" href="/my-notebook/assets/js/103.2cf67d1e.js"><link rel="prefetch" href="/my-notebook/assets/js/104.f93c9875.js"><link rel="prefetch" href="/my-notebook/assets/js/105.5e76de6c.js"><link rel="prefetch" href="/my-notebook/assets/js/106.2f370ea3.js"><link rel="prefetch" href="/my-notebook/assets/js/107.d5fd0a5a.js"><link rel="prefetch" href="/my-notebook/assets/js/108.6c9d4d7f.js"><link rel="prefetch" href="/my-notebook/assets/js/109.9107bd26.js"><link rel="prefetch" href="/my-notebook/assets/js/11.bdc45de9.js"><link rel="prefetch" href="/my-notebook/assets/js/110.660d2770.js"><link rel="prefetch" href="/my-notebook/assets/js/111.32499c84.js"><link rel="prefetch" href="/my-notebook/assets/js/112.1328e690.js"><link rel="prefetch" href="/my-notebook/assets/js/113.f07ec516.js"><link rel="prefetch" href="/my-notebook/assets/js/114.6c792dd4.js"><link rel="prefetch" href="/my-notebook/assets/js/115.6dfead0d.js"><link rel="prefetch" href="/my-notebook/assets/js/116.b4449457.js"><link rel="prefetch" href="/my-notebook/assets/js/117.bcdaf87e.js"><link rel="prefetch" href="/my-notebook/assets/js/118.a33657d7.js"><link rel="prefetch" href="/my-notebook/assets/js/119.b89bfd90.js"><link rel="prefetch" href="/my-notebook/assets/js/12.11b588bd.js"><link rel="prefetch" href="/my-notebook/assets/js/120.8c69b580.js"><link rel="prefetch" href="/my-notebook/assets/js/121.bcd79504.js"><link rel="prefetch" href="/my-notebook/assets/js/122.e4501180.js"><link rel="prefetch" href="/my-notebook/assets/js/123.d7551197.js"><link rel="prefetch" href="/my-notebook/assets/js/124.ee30ccc2.js"><link rel="prefetch" href="/my-notebook/assets/js/125.d7cf022c.js"><link rel="prefetch" href="/my-notebook/assets/js/126.e0f30920.js"><link rel="prefetch" href="/my-notebook/assets/js/127.d2839c88.js"><link rel="prefetch" href="/my-notebook/assets/js/128.b0799ff0.js"><link rel="prefetch" href="/my-notebook/assets/js/129.1c1ab4fd.js"><link rel="prefetch" href="/my-notebook/assets/js/13.664ab5ad.js"><link rel="prefetch" href="/my-notebook/assets/js/130.58e305c7.js"><link rel="prefetch" href="/my-notebook/assets/js/131.3f83de4a.js"><link rel="prefetch" href="/my-notebook/assets/js/132.ee10834a.js"><link rel="prefetch" href="/my-notebook/assets/js/133.a73620fa.js"><link rel="prefetch" href="/my-notebook/assets/js/134.fbd2faf1.js"><link rel="prefetch" href="/my-notebook/assets/js/135.51c853a9.js"><link rel="prefetch" href="/my-notebook/assets/js/136.8dedad39.js"><link rel="prefetch" href="/my-notebook/assets/js/137.66977d77.js"><link rel="prefetch" href="/my-notebook/assets/js/138.b506648c.js"><link rel="prefetch" href="/my-notebook/assets/js/139.4e7dd6bb.js"><link rel="prefetch" href="/my-notebook/assets/js/14.8a636b6d.js"><link rel="prefetch" href="/my-notebook/assets/js/140.f5b170f3.js"><link rel="prefetch" href="/my-notebook/assets/js/141.49ccb9ff.js"><link rel="prefetch" href="/my-notebook/assets/js/142.39654fd3.js"><link rel="prefetch" href="/my-notebook/assets/js/143.8e457c5d.js"><link rel="prefetch" href="/my-notebook/assets/js/144.d353369d.js"><link rel="prefetch" href="/my-notebook/assets/js/145.52ba7ec1.js"><link rel="prefetch" href="/my-notebook/assets/js/146.18d497a8.js"><link rel="prefetch" href="/my-notebook/assets/js/147.a4553c21.js"><link rel="prefetch" href="/my-notebook/assets/js/148.d5d11aa6.js"><link rel="prefetch" href="/my-notebook/assets/js/149.6d39f0c1.js"><link rel="prefetch" href="/my-notebook/assets/js/15.99ceae3a.js"><link rel="prefetch" href="/my-notebook/assets/js/150.b7bfeb48.js"><link rel="prefetch" href="/my-notebook/assets/js/151.3e17f68d.js"><link rel="prefetch" href="/my-notebook/assets/js/152.0f16b0de.js"><link rel="prefetch" href="/my-notebook/assets/js/153.8f144d6e.js"><link rel="prefetch" href="/my-notebook/assets/js/154.5cf31241.js"><link rel="prefetch" href="/my-notebook/assets/js/155.0d0fc8d0.js"><link rel="prefetch" href="/my-notebook/assets/js/156.56b1d7e9.js"><link rel="prefetch" href="/my-notebook/assets/js/157.cd5ee590.js"><link rel="prefetch" href="/my-notebook/assets/js/158.ab191f87.js"><link rel="prefetch" href="/my-notebook/assets/js/159.e60e3803.js"><link rel="prefetch" href="/my-notebook/assets/js/16.b54b076e.js"><link rel="prefetch" href="/my-notebook/assets/js/160.7de37639.js"><link rel="prefetch" href="/my-notebook/assets/js/161.84b46455.js"><link rel="prefetch" href="/my-notebook/assets/js/162.02721e07.js"><link rel="prefetch" href="/my-notebook/assets/js/163.0d3aa08c.js"><link rel="prefetch" href="/my-notebook/assets/js/164.3844295c.js"><link rel="prefetch" href="/my-notebook/assets/js/165.f4ee8251.js"><link rel="prefetch" href="/my-notebook/assets/js/166.add5480c.js"><link rel="prefetch" href="/my-notebook/assets/js/167.8bf09a0c.js"><link rel="prefetch" href="/my-notebook/assets/js/168.da06e21f.js"><link rel="prefetch" href="/my-notebook/assets/js/169.52998058.js"><link rel="prefetch" href="/my-notebook/assets/js/17.1577fe8b.js"><link rel="prefetch" href="/my-notebook/assets/js/170.e8f7f17f.js"><link rel="prefetch" href="/my-notebook/assets/js/171.5d15c312.js"><link rel="prefetch" href="/my-notebook/assets/js/172.2b639b75.js"><link rel="prefetch" href="/my-notebook/assets/js/173.89ab647a.js"><link rel="prefetch" href="/my-notebook/assets/js/174.70226e54.js"><link rel="prefetch" href="/my-notebook/assets/js/175.d349a03a.js"><link rel="prefetch" href="/my-notebook/assets/js/176.8d6a5dba.js"><link rel="prefetch" href="/my-notebook/assets/js/177.342c1cbe.js"><link rel="prefetch" href="/my-notebook/assets/js/178.6687f669.js"><link rel="prefetch" href="/my-notebook/assets/js/179.db720305.js"><link rel="prefetch" href="/my-notebook/assets/js/18.598e30d4.js"><link rel="prefetch" href="/my-notebook/assets/js/180.06dcc56f.js"><link rel="prefetch" href="/my-notebook/assets/js/181.4fe90d42.js"><link rel="prefetch" href="/my-notebook/assets/js/182.0519ba97.js"><link rel="prefetch" href="/my-notebook/assets/js/183.f8d5c5b9.js"><link rel="prefetch" href="/my-notebook/assets/js/184.c2a40dd4.js"><link rel="prefetch" href="/my-notebook/assets/js/185.3bd4af1c.js"><link rel="prefetch" href="/my-notebook/assets/js/186.5b7e5446.js"><link rel="prefetch" href="/my-notebook/assets/js/187.659147d7.js"><link rel="prefetch" href="/my-notebook/assets/js/188.71f5fd3f.js"><link rel="prefetch" href="/my-notebook/assets/js/189.c256f15b.js"><link rel="prefetch" href="/my-notebook/assets/js/19.0febbcca.js"><link rel="prefetch" href="/my-notebook/assets/js/190.57d2f392.js"><link rel="prefetch" href="/my-notebook/assets/js/191.863b75c8.js"><link rel="prefetch" href="/my-notebook/assets/js/193.facda61f.js"><link rel="prefetch" href="/my-notebook/assets/js/194.9713ddfc.js"><link rel="prefetch" href="/my-notebook/assets/js/195.542f38d8.js"><link rel="prefetch" href="/my-notebook/assets/js/196.433b0506.js"><link rel="prefetch" href="/my-notebook/assets/js/197.acd2fc09.js"><link rel="prefetch" href="/my-notebook/assets/js/198.619eba52.js"><link rel="prefetch" href="/my-notebook/assets/js/199.e9f3f11e.js"><link rel="prefetch" href="/my-notebook/assets/js/20.a7bf7354.js"><link rel="prefetch" href="/my-notebook/assets/js/200.4cdc1131.js"><link rel="prefetch" href="/my-notebook/assets/js/201.e4003241.js"><link rel="prefetch" href="/my-notebook/assets/js/202.dd7d21b5.js"><link rel="prefetch" href="/my-notebook/assets/js/203.4bed3317.js"><link rel="prefetch" href="/my-notebook/assets/js/204.bddb1623.js"><link rel="prefetch" href="/my-notebook/assets/js/205.391c3667.js"><link rel="prefetch" href="/my-notebook/assets/js/206.a7243123.js"><link rel="prefetch" href="/my-notebook/assets/js/207.f5828e89.js"><link rel="prefetch" href="/my-notebook/assets/js/208.80fdfe16.js"><link rel="prefetch" href="/my-notebook/assets/js/209.2a32230e.js"><link rel="prefetch" href="/my-notebook/assets/js/21.4edf875b.js"><link rel="prefetch" href="/my-notebook/assets/js/210.3e5760dd.js"><link rel="prefetch" href="/my-notebook/assets/js/211.c718fbd3.js"><link rel="prefetch" href="/my-notebook/assets/js/212.266e40ab.js"><link rel="prefetch" href="/my-notebook/assets/js/213.102353e9.js"><link rel="prefetch" href="/my-notebook/assets/js/214.806dcb5c.js"><link rel="prefetch" href="/my-notebook/assets/js/215.04c5f8ed.js"><link rel="prefetch" href="/my-notebook/assets/js/216.3794bacd.js"><link rel="prefetch" href="/my-notebook/assets/js/217.03770ba2.js"><link rel="prefetch" href="/my-notebook/assets/js/218.d14913bb.js"><link rel="prefetch" href="/my-notebook/assets/js/219.85cc7327.js"><link rel="prefetch" href="/my-notebook/assets/js/22.b836927b.js"><link rel="prefetch" href="/my-notebook/assets/js/220.1c51e6e7.js"><link rel="prefetch" href="/my-notebook/assets/js/221.13b5e70a.js"><link rel="prefetch" href="/my-notebook/assets/js/222.3d7cc3df.js"><link rel="prefetch" href="/my-notebook/assets/js/223.35af5d53.js"><link rel="prefetch" href="/my-notebook/assets/js/224.825a7642.js"><link rel="prefetch" href="/my-notebook/assets/js/225.a70c7570.js"><link rel="prefetch" href="/my-notebook/assets/js/226.7cedefc0.js"><link rel="prefetch" href="/my-notebook/assets/js/227.cd403e5c.js"><link rel="prefetch" href="/my-notebook/assets/js/228.871db451.js"><link rel="prefetch" href="/my-notebook/assets/js/229.4396cf8b.js"><link rel="prefetch" href="/my-notebook/assets/js/23.50d1fd22.js"><link rel="prefetch" href="/my-notebook/assets/js/230.150e3f23.js"><link rel="prefetch" href="/my-notebook/assets/js/231.56984b08.js"><link rel="prefetch" href="/my-notebook/assets/js/232.0ccd6e9f.js"><link rel="prefetch" href="/my-notebook/assets/js/233.f0b85df4.js"><link rel="prefetch" href="/my-notebook/assets/js/234.4ad34ffa.js"><link rel="prefetch" href="/my-notebook/assets/js/235.47b49f65.js"><link rel="prefetch" href="/my-notebook/assets/js/236.5268db24.js"><link rel="prefetch" href="/my-notebook/assets/js/237.53b79aa5.js"><link rel="prefetch" href="/my-notebook/assets/js/238.02fc6bc3.js"><link rel="prefetch" href="/my-notebook/assets/js/239.749f0d66.js"><link rel="prefetch" href="/my-notebook/assets/js/24.a4f9c50e.js"><link rel="prefetch" href="/my-notebook/assets/js/240.b1f90a3a.js"><link rel="prefetch" href="/my-notebook/assets/js/241.39875f63.js"><link rel="prefetch" href="/my-notebook/assets/js/242.fff1d0ea.js"><link rel="prefetch" href="/my-notebook/assets/js/243.c0fd8ab7.js"><link rel="prefetch" href="/my-notebook/assets/js/244.a0f7655a.js"><link rel="prefetch" href="/my-notebook/assets/js/245.e2789f76.js"><link rel="prefetch" href="/my-notebook/assets/js/246.d6c18f99.js"><link rel="prefetch" href="/my-notebook/assets/js/247.48bf33b6.js"><link rel="prefetch" href="/my-notebook/assets/js/248.3d27833e.js"><link rel="prefetch" href="/my-notebook/assets/js/249.3df96cd2.js"><link rel="prefetch" href="/my-notebook/assets/js/25.5617b7a1.js"><link rel="prefetch" href="/my-notebook/assets/js/250.61eb04c1.js"><link rel="prefetch" href="/my-notebook/assets/js/251.2592463a.js"><link rel="prefetch" href="/my-notebook/assets/js/252.eac9cae2.js"><link rel="prefetch" href="/my-notebook/assets/js/253.4d445f4b.js"><link rel="prefetch" href="/my-notebook/assets/js/254.0e4fde70.js"><link rel="prefetch" href="/my-notebook/assets/js/255.61269959.js"><link rel="prefetch" href="/my-notebook/assets/js/256.3e02ad5b.js"><link rel="prefetch" href="/my-notebook/assets/js/257.f721b07d.js"><link rel="prefetch" href="/my-notebook/assets/js/258.cb130945.js"><link rel="prefetch" href="/my-notebook/assets/js/259.cd5737a8.js"><link rel="prefetch" href="/my-notebook/assets/js/26.455bc9c8.js"><link rel="prefetch" href="/my-notebook/assets/js/260.acd3d3b4.js"><link rel="prefetch" href="/my-notebook/assets/js/261.b678439c.js"><link rel="prefetch" href="/my-notebook/assets/js/262.e4a44c82.js"><link rel="prefetch" href="/my-notebook/assets/js/263.5cbff3b9.js"><link rel="prefetch" href="/my-notebook/assets/js/264.fc29bc84.js"><link rel="prefetch" href="/my-notebook/assets/js/265.7f7f3875.js"><link rel="prefetch" href="/my-notebook/assets/js/266.4da457f4.js"><link rel="prefetch" href="/my-notebook/assets/js/267.a9f2d7c6.js"><link rel="prefetch" href="/my-notebook/assets/js/268.5c3b63ae.js"><link rel="prefetch" href="/my-notebook/assets/js/269.d275ad02.js"><link rel="prefetch" href="/my-notebook/assets/js/27.cb4b139b.js"><link rel="prefetch" href="/my-notebook/assets/js/270.ba64664e.js"><link rel="prefetch" href="/my-notebook/assets/js/271.05698696.js"><link rel="prefetch" href="/my-notebook/assets/js/272.29da4919.js"><link rel="prefetch" href="/my-notebook/assets/js/273.ae91420c.js"><link rel="prefetch" href="/my-notebook/assets/js/274.fdc79e99.js"><link rel="prefetch" href="/my-notebook/assets/js/275.f1553259.js"><link rel="prefetch" href="/my-notebook/assets/js/276.684e364c.js"><link rel="prefetch" href="/my-notebook/assets/js/277.ce416c23.js"><link rel="prefetch" href="/my-notebook/assets/js/278.f064ebb1.js"><link rel="prefetch" href="/my-notebook/assets/js/279.470f0ed5.js"><link rel="prefetch" href="/my-notebook/assets/js/28.5e2ee635.js"><link rel="prefetch" href="/my-notebook/assets/js/280.6280c5f5.js"><link rel="prefetch" href="/my-notebook/assets/js/281.e16f023a.js"><link rel="prefetch" href="/my-notebook/assets/js/282.d6e6c873.js"><link rel="prefetch" href="/my-notebook/assets/js/283.d37bdd14.js"><link rel="prefetch" href="/my-notebook/assets/js/284.dd4ccb7d.js"><link rel="prefetch" href="/my-notebook/assets/js/285.246c7b0c.js"><link rel="prefetch" href="/my-notebook/assets/js/286.882f84d7.js"><link rel="prefetch" href="/my-notebook/assets/js/287.4209a09e.js"><link rel="prefetch" href="/my-notebook/assets/js/29.7e5db0c3.js"><link rel="prefetch" href="/my-notebook/assets/js/3.92185172.js"><link rel="prefetch" href="/my-notebook/assets/js/30.73d4162f.js"><link rel="prefetch" href="/my-notebook/assets/js/31.52844c62.js"><link rel="prefetch" href="/my-notebook/assets/js/32.aad3eac4.js"><link rel="prefetch" href="/my-notebook/assets/js/33.f14d2e70.js"><link rel="prefetch" href="/my-notebook/assets/js/34.f0c4f09d.js"><link rel="prefetch" href="/my-notebook/assets/js/35.d9dd05fc.js"><link rel="prefetch" href="/my-notebook/assets/js/36.eb712d0b.js"><link rel="prefetch" href="/my-notebook/assets/js/37.2754a110.js"><link rel="prefetch" href="/my-notebook/assets/js/38.ac775662.js"><link rel="prefetch" href="/my-notebook/assets/js/39.95ddb68f.js"><link rel="prefetch" href="/my-notebook/assets/js/4.00c6a434.js"><link rel="prefetch" href="/my-notebook/assets/js/40.92a988f4.js"><link rel="prefetch" href="/my-notebook/assets/js/41.79cee6ae.js"><link rel="prefetch" href="/my-notebook/assets/js/42.2962920c.js"><link rel="prefetch" href="/my-notebook/assets/js/43.7f57260f.js"><link rel="prefetch" href="/my-notebook/assets/js/44.9fb98d24.js"><link rel="prefetch" href="/my-notebook/assets/js/45.f58c325b.js"><link rel="prefetch" href="/my-notebook/assets/js/46.c8cd2d2b.js"><link rel="prefetch" href="/my-notebook/assets/js/47.fa0c2dc3.js"><link rel="prefetch" href="/my-notebook/assets/js/48.6724ea2c.js"><link rel="prefetch" href="/my-notebook/assets/js/49.53d84265.js"><link rel="prefetch" href="/my-notebook/assets/js/5.64aac286.js"><link rel="prefetch" href="/my-notebook/assets/js/50.6632ca89.js"><link rel="prefetch" href="/my-notebook/assets/js/51.b84d20cb.js"><link rel="prefetch" href="/my-notebook/assets/js/52.1cc32b90.js"><link rel="prefetch" href="/my-notebook/assets/js/53.61f99656.js"><link rel="prefetch" href="/my-notebook/assets/js/54.3bfefc6d.js"><link rel="prefetch" href="/my-notebook/assets/js/55.b4424637.js"><link rel="prefetch" href="/my-notebook/assets/js/56.6314ddf0.js"><link rel="prefetch" href="/my-notebook/assets/js/57.f15ffbfa.js"><link rel="prefetch" href="/my-notebook/assets/js/58.a26c52f4.js"><link rel="prefetch" href="/my-notebook/assets/js/59.e13c90e7.js"><link rel="prefetch" href="/my-notebook/assets/js/6.22f8667a.js"><link rel="prefetch" href="/my-notebook/assets/js/60.c40bb002.js"><link rel="prefetch" href="/my-notebook/assets/js/61.7ca985e5.js"><link rel="prefetch" href="/my-notebook/assets/js/62.ac447c5f.js"><link rel="prefetch" href="/my-notebook/assets/js/63.616225c6.js"><link rel="prefetch" href="/my-notebook/assets/js/64.89288d5c.js"><link rel="prefetch" href="/my-notebook/assets/js/65.e3658623.js"><link rel="prefetch" href="/my-notebook/assets/js/66.e8775ff4.js"><link rel="prefetch" href="/my-notebook/assets/js/67.806239c7.js"><link rel="prefetch" href="/my-notebook/assets/js/68.3ca2442a.js"><link rel="prefetch" href="/my-notebook/assets/js/69.cc171430.js"><link rel="prefetch" href="/my-notebook/assets/js/7.d7e64a27.js"><link rel="prefetch" href="/my-notebook/assets/js/70.dd76aa05.js"><link rel="prefetch" href="/my-notebook/assets/js/71.82114048.js"><link rel="prefetch" href="/my-notebook/assets/js/72.0f6c697e.js"><link rel="prefetch" href="/my-notebook/assets/js/73.de8cd122.js"><link rel="prefetch" href="/my-notebook/assets/js/74.ff5cce7f.js"><link rel="prefetch" href="/my-notebook/assets/js/75.215244ae.js"><link rel="prefetch" href="/my-notebook/assets/js/76.c2fb98fe.js"><link rel="prefetch" href="/my-notebook/assets/js/77.f0bdf5b6.js"><link rel="prefetch" href="/my-notebook/assets/js/78.97b14a7c.js"><link rel="prefetch" href="/my-notebook/assets/js/79.725766b0.js"><link rel="prefetch" href="/my-notebook/assets/js/8.98e55e69.js"><link rel="prefetch" href="/my-notebook/assets/js/80.bd9c4c1e.js"><link rel="prefetch" href="/my-notebook/assets/js/81.0a7df0cf.js"><link rel="prefetch" href="/my-notebook/assets/js/82.8ba3b0fe.js"><link rel="prefetch" href="/my-notebook/assets/js/83.9c6e26d9.js"><link rel="prefetch" href="/my-notebook/assets/js/84.111d3dcd.js"><link rel="prefetch" href="/my-notebook/assets/js/85.2ac9132c.js"><link rel="prefetch" href="/my-notebook/assets/js/86.56e3e4ab.js"><link rel="prefetch" href="/my-notebook/assets/js/87.0accb25d.js"><link rel="prefetch" href="/my-notebook/assets/js/88.9f52f3b8.js"><link rel="prefetch" href="/my-notebook/assets/js/89.6db7b8e0.js"><link rel="prefetch" href="/my-notebook/assets/js/9.251faafd.js"><link rel="prefetch" href="/my-notebook/assets/js/90.8ceb2090.js"><link rel="prefetch" href="/my-notebook/assets/js/91.cf90231f.js"><link rel="prefetch" href="/my-notebook/assets/js/92.5359db57.js"><link rel="prefetch" href="/my-notebook/assets/js/93.0a28ba93.js"><link rel="prefetch" href="/my-notebook/assets/js/94.dee1bc1f.js"><link rel="prefetch" href="/my-notebook/assets/js/95.08391929.js"><link rel="prefetch" href="/my-notebook/assets/js/96.85131513.js"><link rel="prefetch" href="/my-notebook/assets/js/97.e3e0ad91.js"><link rel="prefetch" href="/my-notebook/assets/js/98.50878526.js"><link rel="prefetch" href="/my-notebook/assets/js/99.dc618c15.js">
    <link rel="stylesheet" href="/my-notebook/assets/css/0.styles.24c4c005.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/my-notebook/" class="home-link router-link-active"><!----> <span class="site-name">Garrik 的笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/my-notebook/" class="nav-link">主页</a></div><div class="nav-item"><a href="https://github.com/Garrik-Liu/my-notebook" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/my-notebook/" class="nav-link">主页</a></div><div class="nav-item"><a href="https://github.com/Garrik-Liu/my-notebook" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Git 攻略</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/my-notebook/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E5%B7%A5%E7%A8%8B%E5%8C%96/git/git%E6%94%BB%E7%95%A5.html#git-干什么的" class="sidebar-link">Git 干什么的?</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/my-notebook/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E5%B7%A5%E7%A8%8B%E5%8C%96/git/git%E6%94%BB%E7%95%A5.html#git-基础" class="sidebar-link">Git 基础</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/my-notebook/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E5%B7%A5%E7%A8%8B%E5%8C%96/git/git%E6%94%BB%E7%95%A5.html#初始化仓库" class="sidebar-link">初始化仓库</a></li><li class="sidebar-sub-header"><a href="/my-notebook/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E5%B7%A5%E7%A8%8B%E5%8C%96/git/git%E6%94%BB%E7%95%A5.html#文件状态-工作区域" class="sidebar-link">文件状态 &amp; 工作区域</a></li><li class="sidebar-sub-header"><a href="/my-notebook/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E5%B7%A5%E7%A8%8B%E5%8C%96/git/git%E6%94%BB%E7%95%A5.html#检查当前文件状态" class="sidebar-link">检查当前文件状态</a></li><li class="sidebar-sub-header"><a href="/my-notebook/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E5%B7%A5%E7%A8%8B%E5%8C%96/git/git%E6%94%BB%E7%95%A5.html#跟踪新文件" class="sidebar-link">跟踪新文件</a></li><li class="sidebar-sub-header"><a href="/my-notebook/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E5%B7%A5%E7%A8%8B%E5%8C%96/git/git%E6%94%BB%E7%95%A5.html#暂存已修改文件" class="sidebar-link">暂存已修改文件</a></li><li class="sidebar-sub-header"><a href="/my-notebook/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E5%B7%A5%E7%A8%8B%E5%8C%96/git/git%E6%94%BB%E7%95%A5.html#提交更新" class="sidebar-link">提交更新</a></li><li class="sidebar-sub-header"><a href="/my-notebook/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E5%B7%A5%E7%A8%8B%E5%8C%96/git/git%E6%94%BB%E7%95%A5.html#校验和" class="sidebar-link">校验和</a></li><li class="sidebar-sub-header"><a href="/my-notebook/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E5%B7%A5%E7%A8%8B%E5%8C%96/git/git%E6%94%BB%E7%95%A5.html#暂存-提交时发生了什么" class="sidebar-link">暂存 &amp; 提交时发生了什么</a></li><li class="sidebar-sub-header"><a href="/my-notebook/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E5%B7%A5%E7%A8%8B%E5%8C%96/git/git%E6%94%BB%E7%95%A5.html#状态简览" class="sidebar-link">状态简览</a></li><li class="sidebar-sub-header"><a href="/my-notebook/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E5%B7%A5%E7%A8%8B%E5%8C%96/git/git%E6%94%BB%E7%95%A5.html#移除文件" class="sidebar-link">移除文件</a></li><li class="sidebar-sub-header"><a href="/my-notebook/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E5%B7%A5%E7%A8%8B%E5%8C%96/git/git%E6%94%BB%E7%95%A5.html#忽略文件" class="sidebar-link">忽略文件</a></li><li class="sidebar-sub-header"><a href="/my-notebook/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E5%B7%A5%E7%A8%8B%E5%8C%96/git/git%E6%94%BB%E7%95%A5.html#重置-撤销-提交" class="sidebar-link">重置 ( 撤销 ) 提交</a></li><li class="sidebar-sub-header"><a href="/my-notebook/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E5%B7%A5%E7%A8%8B%E5%8C%96/git/git%E6%94%BB%E7%95%A5.html#查看提交历史" class="sidebar-link">查看提交历史</a></li><li class="sidebar-sub-header"><a href="/my-notebook/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E5%B7%A5%E7%A8%8B%E5%8C%96/git/git%E6%94%BB%E7%95%A5.html#查看操作历史" class="sidebar-link">查看操作历史</a></li><li class="sidebar-sub-header"><a href="/my-notebook/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E5%B7%A5%E7%A8%8B%E5%8C%96/git/git%E6%94%BB%E7%95%A5.html#打标签" class="sidebar-link">打标签</a></li></ul></li><li><a href="/my-notebook/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E5%B7%A5%E7%A8%8B%E5%8C%96/git/git%E6%94%BB%E7%95%A5.html#使用分支" class="sidebar-link">使用分支</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/my-notebook/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E5%B7%A5%E7%A8%8B%E5%8C%96/git/git%E6%94%BB%E7%95%A5.html#分支简介" class="sidebar-link">分支简介</a></li><li class="sidebar-sub-header"><a href="/my-notebook/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E5%B7%A5%E7%A8%8B%E5%8C%96/git/git%E6%94%BB%E7%95%A5.html#head" class="sidebar-link">HEAD</a></li><li class="sidebar-sub-header"><a href="/my-notebook/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E5%B7%A5%E7%A8%8B%E5%8C%96/git/git%E6%94%BB%E7%95%A5.html#分支创建" class="sidebar-link">分支创建</a></li><li class="sidebar-sub-header"><a href="/my-notebook/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E5%B7%A5%E7%A8%8B%E5%8C%96/git/git%E6%94%BB%E7%95%A5.html#分支切换" class="sidebar-link">分支切换</a></li><li class="sidebar-sub-header"><a href="/my-notebook/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E5%B7%A5%E7%A8%8B%E5%8C%96/git/git%E6%94%BB%E7%95%A5.html#合并分支" class="sidebar-link">合并分支</a></li><li class="sidebar-sub-header"><a href="/my-notebook/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E5%B7%A5%E7%A8%8B%E5%8C%96/git/git%E6%94%BB%E7%95%A5.html#删除分支" class="sidebar-link">删除分支</a></li><li class="sidebar-sub-header"><a href="/my-notebook/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E5%B7%A5%E7%A8%8B%E5%8C%96/git/git%E6%94%BB%E7%95%A5.html#查看分支列表" class="sidebar-link">查看分支列表</a></li><li class="sidebar-sub-header"><a href="/my-notebook/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E5%B7%A5%E7%A8%8B%E5%8C%96/git/git%E6%94%BB%E7%95%A5.html#查看分支最后提交" class="sidebar-link">查看分支最后提交</a></li><li class="sidebar-sub-header"><a href="/my-notebook/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E5%B7%A5%E7%A8%8B%E5%8C%96/git/git%E6%94%BB%E7%95%A5.html#变基" class="sidebar-link">变基</a></li></ul></li><li><a href="/my-notebook/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E5%B7%A5%E7%A8%8B%E5%8C%96/git/git%E6%94%BB%E7%95%A5.html#远程仓库" class="sidebar-link">远程仓库</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/my-notebook/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E5%B7%A5%E7%A8%8B%E5%8C%96/git/git%E6%94%BB%E7%95%A5.html#添加远程仓库" class="sidebar-link">添加远程仓库</a></li><li class="sidebar-sub-header"><a href="/my-notebook/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E5%B7%A5%E7%A8%8B%E5%8C%96/git/git%E6%94%BB%E7%95%A5.html#查看远程仓库" class="sidebar-link">查看远程仓库</a></li><li class="sidebar-sub-header"><a href="/my-notebook/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E5%B7%A5%E7%A8%8B%E5%8C%96/git/git%E6%94%BB%E7%95%A5.html#拉取-fetch-抓取-pull" class="sidebar-link">拉取 fetch &amp; 抓取 pull</a></li><li class="sidebar-sub-header"><a href="/my-notebook/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E5%B7%A5%E7%A8%8B%E5%8C%96/git/git%E6%94%BB%E7%95%A5.html#推送到远程仓库" class="sidebar-link">推送到远程仓库</a></li><li class="sidebar-sub-header"><a href="/my-notebook/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E5%B7%A5%E7%A8%8B%E5%8C%96/git/git%E6%94%BB%E7%95%A5.html#远程仓库的移除与重命名" class="sidebar-link">远程仓库的移除与重命名</a></li></ul></li><li><a href="/my-notebook/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E5%B7%A5%E7%A8%8B%E5%8C%96/git/git%E6%94%BB%E7%95%A5.html#修改历史记录" class="sidebar-link">修改历史记录</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/my-notebook/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E5%B7%A5%E7%A8%8B%E5%8C%96/git/git%E6%94%BB%E7%95%A5.html#修改提交信息" class="sidebar-link">修改提交信息</a></li><li class="sidebar-sub-header"><a href="/my-notebook/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E5%B7%A5%E7%A8%8B%E5%8C%96/git/git%E6%94%BB%E7%95%A5.html#合并多个提交" class="sidebar-link">合并多个提交</a></li><li class="sidebar-sub-header"><a href="/my-notebook/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E5%B7%A5%E7%A8%8B%E5%8C%96/git/git%E6%94%BB%E7%95%A5.html#将一个提交拆成多个" class="sidebar-link">将一个提交拆成多个</a></li></ul></li><li><a href="/my-notebook/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E5%B7%A5%E7%A8%8B%E5%8C%96/git/git%E6%94%BB%E7%95%A5.html#其他" class="sidebar-link">其他</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/my-notebook/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E5%B7%A5%E7%A8%8B%E5%8C%96/git/git%E6%94%BB%E7%95%A5.html#断头-detached-head-是什么" class="sidebar-link">断头 Detached HEAD 是什么?</a></li><li class="sidebar-sub-header"><a href="/my-notebook/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E5%B7%A5%E7%A8%8B%E5%8C%96/git/git%E6%94%BB%E7%95%A5.html#git-flow" class="sidebar-link">Git Flow</a></li><li class="sidebar-sub-header"><a href="/my-notebook/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E5%B7%A5%E7%A8%8B%E5%8C%96/git/git%E6%94%BB%E7%95%A5.html#commit-messgae-模板" class="sidebar-link">Commit Messgae 模板</a></li></ul></li><li><a href="/my-notebook/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E5%B7%A5%E7%A8%8B%E5%8C%96/git/git%E6%94%BB%E7%95%A5.html#参考" class="sidebar-link">参考</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="git-攻略"><a href="#git-攻略" class="header-anchor">#</a> Git 攻略</h1> <blockquote><p><strong>摘要</strong>: 本文讲解 Git 是什么, 有什么用, 如何用 Git 进行版本控制, 以及  大厂的版本管理策略.</p></blockquote> <h2 id="git-干什么的"><a href="#git-干什么的" class="header-anchor">#</a> Git 干什么的?</h2> <p><a href="https://git-scm.com/" target="_blank" rel="noopener noreferrer">Git 官网<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><strong>Git 是一个开源的分布式版本控制系统。</strong></p> <p>版本控制是一种用来 &quot;<strong>记录文件内容变化的系统，允许对指定版本的修订情况进行查阅，追溯</strong>&quot;。Git 是目前业界最流行的版本控制系統.</p> <p>Git 是分布式的, <strong>每一个客户端都是一个独立的节点，在各自的节点上都有独立的一份完整的版本库</strong>。</p> <ul><li>分布式的好处是，即使一个人的电脑出问题了，也可以直接从其他人那里克隆一份版本库。</li> <li>分布式版本控制系统通常也有一台充当“中央服务器”的电脑，但这个服务器的作用仅仅是用来方便 “交换” 大家的修改，没有它大家也一样干活.</li></ul> <h2 id="git-基础"><a href="#git-基础" class="header-anchor">#</a> Git 基础</h2> <h3 id="初始化仓库"><a href="#初始化仓库" class="header-anchor">#</a> 初始化仓库</h3> <p>在一个目录下使用 <code>git init</code> 指令初始化這個目錄，讓 Git 開始對這個目錄進行版本控制。</p> <p>這個指令會在這個目錄裡建立了一個 <code>.git</code> 隐藏目录. 这个目录是 Git 来管理版本库的, 它将默认记录项目目录中任何文件的改动。如果把 <code>.git</code> 目录删除了，版本记录也就都没有了.</p> <h3 id="文件状态-工作区域"><a href="#文件状态-工作区域" class="header-anchor">#</a> 文件状态 &amp; 工作区域</h3> <p>在 Git 中文件有两种状态：<strong>已跟踪（tracked）</strong> 和 <strong>未跟踪（untracked）</strong>。</p> <p><strong>已跟踪（tracked）</strong> 又分为：</p> <ul><li><strong>已修改（modified）</strong></li> <li><strong>已暂存（staged）</strong></li> <li><strong>已提交（committed）</strong></li></ul> <hr> <p>被 Git 管理的项目有三个工作区域：</p> <ul><li><strong>工作区 Working Directory</strong>: 本地的工作目录，属于本地文件系统。</li> <li><strong>暂存区 Staging Area</strong>：暂存本地文件的改动，准备将来进行提交。存放在<code>.git</code>目录下的 <code>index</code> 文件（<code>.git/index</code>）中，所以我们把暂存区有时也叫作索引 Index。</li> <li><strong>版本库 Repository</strong>：储存提交的版本记录。<code>.git</code> 目录就是 Git 的本地版本库，不算是工作区的文件目录。</li></ul> <p><img src="https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-09-19-09-28-21.png" alt="2020-09-19-09-28-21"></p> <h3 id="检查当前文件状态"><a href="#检查当前文件状态" class="header-anchor">#</a> 检查当前文件状态</h3> <p>在一个空目录下执行 <code>git init</code>. 之后使用命令 <code>git status</code> 来查看这个目录的状态.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">git</span> status
On branch master

Initial commit

nothing to commit <span class="token punctuation">(</span>create/copy files and use <span class="token string">&quot;git add&quot;</span> to track<span class="token punctuation">)</span>
</code></pre></div><p>表示目录中没有东西可以提交.</p> <h3 id="跟踪新文件"><a href="#跟踪新文件" class="header-anchor">#</a> 跟踪新文件</h3> <p>在项目下创建一个新的 README 文件。 如果之前并不存在这个文件，使用 <code>git status</code> 命令，你将看到一个新的未跟踪文件：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>On branch master
Untracked files:
  <span class="token punctuation">(</span>use <span class="token string">&quot;git add &lt;file&gt;...&quot;</span> to include <span class="token keyword">in</span> what will be committed<span class="token punctuation">)</span>

    readme.md

nothing added to commit but untracked files present <span class="token punctuation">(</span>use <span class="token string">&quot;git add&quot;</span> to track<span class="token punctuation">)</span>
</code></pre></div><p>在状态报告中可以看到新建的 README 文件出现在 Untracked files 下面。 未跟踪的文件意味着 Git 在之前的快照（提交）中没有这些文件.</p> <hr> <p>现在用 <code>git add</code> 跟踪 <code>readme.md</code> 文件.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>On branch master

No commits yet

Changes to be committed:
  <span class="token punctuation">(</span>use <span class="token string">&quot;git rm --cached &lt;file&gt;...&quot;</span> to unstage<span class="token punctuation">)</span>

	new file:   readme.md
</code></pre></div><p>只要在 Changes to be committed 这行下面的，就说明是已暂存状态。 如果此时提交，那么该文件此时此刻的版本将被留存在历史记录中。</p> <h3 id="暂存已修改文件"><a href="#暂存已修改文件" class="header-anchor">#</a> 暂存已修改文件</h3> <p>现在修改一下之前被跟踪的 <code>readme.md</code> 文件. 然后再执行 <code>git status</code></p> <div class="language-bash extra-class"><pre class="language-bash"><code>On branch master

No commits yet

Changes to be committed:
  <span class="token punctuation">(</span>use <span class="token string">&quot;git rm --cached &lt;file&gt;...&quot;</span> to unstage<span class="token punctuation">)</span>

	new file:   readme.md

Changes not staged <span class="token keyword">for</span> commit:
  <span class="token punctuation">(</span>use <span class="token string">&quot;git add &lt;file&gt;...&quot;</span> to update what will be committed<span class="token punctuation">)</span>
  <span class="token punctuation">(</span>use <span class="token string">&quot;git checkout -- &lt;file&gt;...&quot;</span> to discard changes <span class="token keyword">in</span> working directory<span class="token punctuation">)</span>

	modified:   readme.md
</code></pre></div><p><code>readme.md</code> 出现在 Changes not staged for commit 这行下面，说明已跟踪文件的内容发生了变化，但还没有放到暂存区。要暂存这个变动，需要运行 <code>git add</code> 命令。</p> <p>注意，<code>git add</code> 这个命令将可以理解为 “<strong>添加变动到下一次提交中</strong>” 而不是 “将一个文件添加到提交中”。</p> <hr> <p>添加完后, 在执行 <code>git status</code></p> <div class="language-bash extra-class"><pre class="language-bash"><code>On branch master

No commits yet

Changes to be committed:
  <span class="token punctuation">(</span>use <span class="token string">&quot;git rm --cached &lt;file&gt;...&quot;</span> to unstage<span class="token punctuation">)</span>

	new file:   readme.md
</code></pre></div><p>变动已暂存，下次提交时就会一并记录到仓库。</p> <h3 id="提交更新"><a href="#提交更新" class="header-anchor">#</a> 提交更新</h3> <p>使用 <code>git commit</code> 命令将已暂存的文件进行提交.这种方式会启动「 文本编辑器 」输入本次提交的说明。(默认会启用 shell 的环境变量 <code>$EDITOR</code> 所指定的软件，一般都是 vim 或 emacs。)</p> <p>也可以在 <code>commit</code> 命令后添加 <code>-m</code> 选项，将提交信息与命令放在同一行</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">git</span> commit -m <span class="token string">&quot;Story 182: Fix benchmarks for speed&quot;</span>
<span class="token punctuation">[</span>master 463dc4f<span class="token punctuation">]</span> Story <span class="token number">182</span>: Fix benchmarks <span class="token keyword">for</span> speed
 <span class="token number">2</span> files changed, <span class="token number">2</span> insertions<span class="token punctuation">(</span>+<span class="token punctuation">)</span>
 create mode <span class="token number">100644</span> README
</code></pre></div><p>提交后它会告诉你：</p> <ul><li>当前是在哪个分支（<code>master</code>）提交的</li> <li>本次提交的完整 SHA-1 校验和是什么（<code>463dc4f</code>），</li> <li>在本次提交中，有多少文件修订过，多少行添加和删改过。</li></ul> <p><code>commit</code> 命令加上 <code>-a</code> 选项，Git 就会自动把所有<strong>已跟踪</strong>的文件上的所有变动，暂存起来一并提交，跳过 <code>git add</code> 步骤</p> <hr> <p>如果此次提交暂存区没有任何变动, 但仍旧想要提交，则需要加上 <code>--allow-empty</code> 参数.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">git</span> commit --allow-empty -m <span class="token string">&quot;空的&quot;</span>
<span class="token punctuation">[</span>master 76a5b84<span class="token punctuation">]</span> 空的
</code></pre></div><h3 id="校验和"><a href="#校验和" class="header-anchor">#</a> 校验和</h3> <p>改动在提交前，会基于文件的内容 &amp; 目录结构计算出一个 SHA-1 散列值，作为当前提交的唯一索引 ID，称为「 <strong>校验和</strong> 」</p> <p>SHA-1 散列是一个由 40 个十六进制字符（0-9 和 a-f）组成字符串。</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 一个 SHA-1 散列值：</span>
24b9da6552252987aa493b52f8696cd6d3b00373
</code></pre></div><h3 id="暂存-提交时发生了什么"><a href="#暂存-提交时发生了什么" class="header-anchor">#</a> 暂存 &amp; 提交时发生了什么</h3> <p><strong>Git 保存的不是文件的变化或者差异，而是一系列不同时刻的文件快照</strong>。</p> <p>在进行提交操作时，Git 会保存一个提交对象（commit object）, 该提交对象会包含一个指向内容快照的指针, 还包含了作者的姓名和邮箱、提交时输入的信息以及指向它的父对象的指针。</p> <p>首次提交产生的提交对象没有父对象，普通提交操作产生的提交对象有一个父对象，而由多个分支合并产生的提交对象有多个父对象。</p> <p>假设现在有一个工作目录，里面包含了三个将要被暂存和提交的文件。</p> <ol><li><code>git add</code> 暂存操作会为<strong>每一个文件计算 &quot;校验和&quot;</strong>，然后会把当前版本的文件快照保存到 Git 仓库中（ Git 使用 blob 对象来保存它们 ），最终将校验和加入到暂存区域等待提交.</li> <li>当使用 <code>git commit</code> 进行提交操作时，Git 会先计算<strong>每一个子目录的校验和</strong>，然后在 Git 仓库中这些校验和保存为 &quot;树对象&quot;。</li> <li>随后，Git 便会<strong>创建一个提交对象</strong>，它除了包含上面提到的提交信息外，还包含指向刚创建的树对象的指针。如此一来，Git 就可以在需要的时候重现此次保存的快照。</li></ol> <p><img src="https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-09-19-20-10-54.png" alt="2020-09-19-20-10-54"></p> <p>整套流程下来，Git 仓库中共创建了五个对象：</p> <ul><li>三个 blob 对象，保存着文件快照。</li> <li>一个树对象，记录着目录结构，和对 blob 对象的索引。</li> <li>一个提交对象，包含着指向树对象的指针，和所有提交信息。</li></ul> <h3 id="状态简览"><a href="#状态简览" class="header-anchor">#</a> 状态简览</h3> <p><code>git status</code> 命令的输出十分详细，但其用语有些繁琐。 如果你使用 <code>git status -s</code> 命令或 <code>git status --short</code> 命令，你将得到一种更为紧凑的格式输出。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">git</span> status -s
 M README
MM Rakefile
A  lib/git.rb
M  lib/simplegit.rb
?? LICENSE.txt
</code></pre></div><ul><li>新添加的未跟踪文件前面有 <code>??</code> 标记。</li> <li>新添加到暂存区中的文件前面有 <code>A</code> 标记。</li> <li>修改过的文件前面有 <code>M</code> 标记。
<ul><li>出现在右边的 <code>M</code> 表示该文件被修改了但是还没放入暂存区。</li> <li>出现在靠左边的 <code>M</code> 表示该文件被修改了并放入了暂存区。</li> <li>文件前面有两个 <code>MM</code>, 表示在工作区被修改并提交到暂存区后，又在工作区中被修改了。</li></ul></li></ul> <h3 id="移除文件"><a href="#移除文件" class="header-anchor">#</a> 移除文件</h3> <p><code>git rm</code> 命令，用以移除指定文件的「 已跟踪 」状态，将其从 Git 仓库中移除。同时，将其从工作目录中移除。</p> <p><code>git rm -r</code> 命令，用以删除目录。</p> <p><code>git rm --cached</code> 命令，把文件从 Git 仓库中移除，但仍然希望保留在当前工作目录中。</p> <p>如果<strong>已追踪文件删除之前修改过，并且已经放到暂存区</strong>的话：</p> <ul><li>使用 <code>git rm -f</code> 命令，将文件强制删除。</li> <li>使用 <code>git rm --cached</code> 命令，将其从 Git 仓库删除，但文件仍旧保存在工作目录。</li></ul> <p>这是一种安全特性，用于防止误删还没有提交的更改。</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token punctuation">(</span>base<span class="token punctuation">)</span> bogon:test xiangliu$ <span class="token function">git</span> status -s
M  test1
<span class="token punctuation">(</span>base<span class="token punctuation">)</span> bogon:test xiangliu$ <span class="token function">git</span> <span class="token function">rm</span> test1
error: the following <span class="token function">file</span> has changes staged <span class="token keyword">in</span> the index:
    test1
<span class="token punctuation">(</span>use --cached to keep the file, or -f to force removal<span class="token punctuation">)</span>
</code></pre></div><p>如果只是简单地从工作目录中手工删除文件，删除操作被当做 Change 看待。运行 <code>git status</code> 时就会看到，删除变动出现在 “Changes not staged for commit” 部分。</p> <h3 id="忽略文件"><a href="#忽略文件" class="header-anchor">#</a> 忽略文件</h3> <p>有些文件无需纳入 Git 的管理，也不希望它们总出现在未跟踪文件列表。我们可以创建一个名为 <code>.gitignore</code> 的文件，列出要忽略的文件模式。</p> <p>比如:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>*.<span class="token punctuation">[</span>oa<span class="token punctuation">]</span>
*~
</code></pre></div><p>第一行告诉 Git 忽略所有以 .o 或 .a 结尾的文件。第二行告诉 Git 忽略所有以波浪符（~）结尾的文件.</p> <p>要养成一开始就设置好 <code>.gitignore</code> 文件的习惯，以免将来误提交无用的文件.</p> <p><code>.gitignore</code> 的匹配模式规则如下：</p> <ul><li>使用标准的 <code>glob</code> 模式匹配。</li> <li>所有空行或者以 <code>＃</code> 开头的行都会被 Git 忽略。</li> <li>匹配模式可以以（<code>/</code>）开头，防止递归。</li> <li>匹配模式可以以（<code>/</code>）结尾，指定目录。</li> <li>要忽略指定模式以外的文件或目录，可以在模式前加 <code>!</code> 取反。</li></ul> <p><code>glob</code> 模式是指 shell 所使用的简化了的正则表达式:</p> <ul><li>星号（<code>*</code>）匹配零个或多个任意字符;</li> <li><code>[abc]</code> 匹配任何一个列在方括号中的字符;</li> <li>问号（<code>?</code>）只匹配一个任意字符;</li> <li>如果在方括号中使用短划线分隔两个字符，表示所有在这两个字符范围内的都可以匹配（比如 <code>[0-9]</code> 表示匹配所有 0 到 9 的数字）;</li> <li>使用两个星号 (<code>**</code>) 表示匹配任意中间目录，比如<code>a/**/z</code> 可以匹配 <code>a/z</code>, <code>a/b/z</code> 或 <code>a/b/c/z</code>等。</li></ul> <p>下面有些例子:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># no .a files</span>
*.a

<span class="token comment"># but do track lib.a, even though you're ignoring .a files above</span>
<span class="token operator">!</span>lib.a

<span class="token comment"># only ignore the TODO file in the current directory, not subdir/TODO</span>
/TODO

<span class="token comment"># ignore all files in the build/ directory</span>
build/

<span class="token comment"># ignore doc/notes.txt, but not doc/server/arch.txt</span>
doc/*.txt

<span class="token comment"># ignore all .pdf files in the doc/ directory</span>
doc/**/*.pdf
</code></pre></div><h3 id="重置-撤销-提交"><a href="#重置-撤销-提交" class="header-anchor">#</a> 重置 ( 撤销 ) 提交</h3> <h4 id="reset-指令"><a href="#reset-指令" class="header-anchor">#</a> reset 指令</h4> <p><strong><code>reset</code> 指令，设置当前所在分支所指向的提交对象</strong>。</p> <p><strong><code>^</code> 符號表示「 前一次 」的意思</strong>.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 让当前所在分支指向，当前提交对象的前一个提交对象。</span>
$ <span class="token function">git</span> reset HEAD^
</code></pre></div><p>如果是 <code>HEAD^^</code> 則是往前兩次，以此類推。不過如果要倒退五次，通常不會寫 <code>HEAD^^^^^</code>，而會寫成 <code>HEAD~5</code>。</p> <p>假如 <code>HEAD</code> 指向 <code>master</code> 分支的 <code>e12d8ef</code> 提交对象. 那么还可以写成:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># master 分支指向提交对象的前一个提交对象。</span>
$ <span class="token function">git</span> reset master^
<span class="token comment"># 校验和 ID 为 e12d8ef 的提交对象的前一个提交对象。</span>
$ <span class="token function">git</span> reset e12d8ef^
</code></pre></div><p>这个指令有三个常用参数: <code>--soft</code>, <code>--hard</code>, <code>--mixed</code></p> <ul><li><code>--mixed</code> 是 <code>reset</code> 指令的默认参数. 它将重置 <code>HEAD</code> 到另外一个提交, 并且重置暂存区，但你工作区的文件不会被更改。重置前所做的更改，都变成了「 未暂存，未跟踪 」的状态。</li> <li><code>--soft</code> 参数重置 <code>HEAD</code> 到另外一个提交，但暂存区和工作区都不会变化。</li> <li><code>--hard</code> 参数，会让暂存区和工作区都会重置到目标提交所处的状态。所有与目标提交之间的变更，都会被丢弃。</li></ul> <p><img src="https://mmbiz.qpic.cn/mmbiz_gif/meG6Vo0MeviaPS2ZgOV7sV3qpnhsB4LFO8dmv56PCuicTzZTVL6lVp541picccqwMAU36EhACmJCMttPvBJl8tXjQ/640?wx_fmt=gif&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1" alt="gif"> <img src="https://mmbiz.qpic.cn/mmbiz_gif/meG6Vo0MeviaPS2ZgOV7sV3qpnhsB4LFOsiboiaLTHUnlyorlyicvxZtRT9tQD4fcX2VponJIcFUpZHbKKdP5p31vQ/640?wx_fmt=gif&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1" alt="gif"></p> <details open="open" class="custom-block details"><summary>🌰 例子：</summary> <p>假如我们在目录中添加了一个文件叫 <code>myFile.md</code>, 并且进行了提交.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>bogon:git_practice xiangliu$ <span class="token function">git</span> log --oneline
0935e0d <span class="token punctuation">(</span>HEAD -<span class="token operator">&gt;</span> master<span class="token punctuation">)</span> <span class="token function">add</span> my <span class="token function">file</span>
2e0425c first commit
</code></pre></div><p>使用 <code>git reset HEAD^</code> 后, 执行 <code>git status</code> 看到 <code>myFile.md</code> 为未跟踪状态, 但文件仍在工作区中.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>On branch master
Untracked files:
  <span class="token punctuation">(</span>use <span class="token string">&quot;git add &lt;file&gt;...&quot;</span> to include <span class="token keyword">in</span> what will be committed<span class="token punctuation">)</span>

	myFile.md

nothing added to commit but untracked files present <span class="token punctuation">(</span>use <span class="token string">&quot;git add&quot;</span> to track<span class="token punctuation">)</span>
</code></pre></div><p>使用 <code>git reset HEAD^ --soft</code> 后, 执行 <code>git status</code> 看到 <code>myFile.md</code> 在暂存区, 等待提交.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>On branch master
Changes to be committed:
  <span class="token punctuation">(</span>use <span class="token string">&quot;git reset HEAD &lt;file&gt;...&quot;</span> to unstage<span class="token punctuation">)</span>

	new file:   myFile.md
</code></pre></div><p>使用 <code>git reset HEAD^ --hard</code> 后, <code>myFile.md</code> 直接没了.</p> <p>因为使用了 <code>reset</code> 后, 重置到的提交对象之后的提交仍然存在. 通过 <code>reset</code> 再重置回你要的提交就可以再返回去. 如果你找不到你想要的提交对象的校验和是什么了, 可以通过 <code>git reflog</code> 命令. 它可以查看所有分支的所有操作记录，包括已经被删除的提交记录</p></details> <h4 id="revert-指令"><a href="#revert-指令" class="header-anchor">#</a> revert 指令</h4> <p>假如想撤销掉最近的一次提交。可以输入下面指令：</p> <p>它会保留原来的提交, 并创建一个新的提交来表示撤销操作。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">git</span> revert HEAD --no-edit
<span class="token comment"># --no-edit 參數，表示不编辑提交信息。</span>

<span class="token comment">#$ git revert HEAD^  撤销最近一次，以及最近一次提交的前一次提交</span>
<span class="token comment">#$ git revert [commit] 一直撤销到指定提交的前一次提交为止</span>
</code></pre></div><p><img src="https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-09-20-13-59-34.png" alt="2020-09-20-13-59-34"></p> <p>如果想再恢复之前的提交：</p> <ul><li>一种方法是，再用一次 <code>revert</code> 执行「 撤销的撤销 」</li> <li>另一种方法，用 <code>reset</code> 指令，让分支指向想要的提价上。</li></ul> <h3 id="查看提交历史"><a href="#查看提交历史" class="header-anchor">#</a> 查看提交历史</h3> <p>使用 <code>git log</code> 命令查看提交历史。</p> <p>默认不用任何参数的话，会按提交时间，由新到旧列出所有的提交信息：</p> <ul><li>SHA-1 校验和</li> <li>作者的名字</li> <li>电子邮件地址</li> <li>提交时间</li> <li>提交说明</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code>garrikliu:a xiangliu$ <span class="token function">git</span> log
commit fb3afcd7ad8151207cec0ace9a6550c3e1589f81 <span class="token punctuation">(</span>HEAD<span class="token punctuation">)</span>
Author: Garrik-Liu <span class="token operator">&lt;</span>garrikliu@Gmail.com<span class="token operator">&gt;</span>
Date:   Mon Feb <span class="token number">4</span> <span class="token number">16</span>:55:48 <span class="token number">2019</span> +0800

    deleted readme

commit 022abc8b56edac279d3aa28981913e378bca136b
Author: Garrik-Liu <span class="token operator">&lt;</span>garrikliu@Gmail.com<span class="token operator">&gt;</span>
Date:   Sun Feb <span class="token number">3</span> 09:56:44 <span class="token number">2019</span> +0800

    <span class="token function">add</span> readme.md
</code></pre></div><p>可以加上 <code>-2</code> 参数，来仅显示最近两次提交。同理 <code>-3</code> 就是最近的三次提交。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">(</span>base<span class="token punctuation">)</span> bogon<span class="token punctuation">:</span>test xiangliu$ git log <span class="token operator">-</span><span class="token number">1</span>
commit <span class="token function">cb171cbaa507ba9663ce776e8fd071d48bf9e9b6</span> <span class="token punctuation">(</span><span class="token constant">HEAD</span> <span class="token operator">-</span><span class="token operator">&gt;</span> master<span class="token punctuation">)</span>
Author<span class="token punctuation">:</span> Garrik<span class="token operator">-</span>Liu <span class="token operator">&lt;</span>garrikliu@Gmail<span class="token punctuation">.</span>com<span class="token operator">&gt;</span>
Date<span class="token punctuation">:</span>   Sat Sep <span class="token number">19</span> <span class="token number">09</span><span class="token punctuation">:</span><span class="token number">41</span><span class="token punctuation">:</span><span class="token number">45</span> <span class="token number">2020</span> <span class="token operator">+</span><span class="token number">0800</span>

    add test1
</code></pre></div><p>使用 <code>--stat</code> 选项，查看每次提交的详细信息。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>commit a11bef06a3f659402fe7563abf99ad00de2209e6
Author: Scott Chacon <span class="token operator">&lt;</span>schacon@gee-mail.com<span class="token operator">&gt;</span>
Date:   Sat Mar <span class="token number">15</span> <span class="token number">10</span>:31:28 <span class="token number">2008</span> -0700

    first commit

 README           <span class="token operator">|</span>  <span class="token number">6</span> ++++++
 Rakefile         <span class="token operator">|</span> <span class="token number">23</span> +++++++++++++++++++++++
 lib/simplegit.rb <span class="token operator">|</span> <span class="token number">25</span> +++++++++++++++++++++++++
 <span class="token number">3</span> files changed, <span class="token number">54</span> insertions<span class="token punctuation">(</span>+<span class="token punctuation">)</span>
</code></pre></div><p>通过选项 <code>--pretty</code> 来使用指定的格式展示提交历史。它有一些内建的子选项供你使用：</p> <ul><li><code>oneline</code> 将每个提交放在一行显示。</li></ul> <p>具体使用细节，请参考<a href="https://git-scm.com/docs/pretty-formats" target="_blank" rel="noopener noreferrer">文档<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">git</span> log --pretty<span class="token operator">=</span>oneline
ca82a6dff817ec66f44342007202690a93763949 changed the version number
085bb3bcb608e1e8451d4b2432f8ecbe6306e7e7 removed unnecessary <span class="token builtin class-name">test</span>
a11bef06a3f659402fe7563abf99ad00de2209e6 first commit
</code></pre></div><h3 id="查看操作历史"><a href="#查看操作历史" class="header-anchor">#</a> 查看操作历史</h3> <p>使用 <code>git reflog</code> 指令，可以显示所有已执行操作的日志。</p> <p>如果你不幸犯错了，你可以使用 <code>git reflog</code> 的信息通过重置 HEAD 轻松地回到想要的提交上。</p> <p><img src="https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-09-20-14-07-43.gif" alt="2020-09-20-14-07-43"></p> <p>假设，我们不想合并分支了。执行 <code>git reflog</code> 命令，我们看到合并之前的仓库状态位于 <code>HEAD@{1}</code> 这个地方，我们使用 <code>git reset</code> 指令将 <code>HEAD</code> 头指向 <code>HEAD@{1}</code>。</p> <h3 id="打标签"><a href="#打标签" class="header-anchor">#</a> 打标签</h3> <p>Git 可以给历史中的某一个提交打上标签。</p> <p>常见使用场景是，使用这个功能来标记版本发布结点，例如 <code>v1.0</code>，<code>v2.1</code>，<code>v3.0</code>。</p> <h4 id="列出标签"><a href="#列出标签" class="header-anchor">#</a> 列出标签</h4> <p><code>git tag</code> 列出已有标签</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">git</span> tag
v0.1
v1.3
</code></pre></div><p><code>-l</code> 参数可以查号特定标签</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">git</span> tag -l <span class="token string">'v1.8.5*'</span>
v1.8.5
v1.8.5-rc0
v1.8.5-rc1
v1.8.5-rc2
</code></pre></div><h4 id="创建标签"><a href="#创建标签" class="header-anchor">#</a> 创建标签</h4> <p>Git 使用两种主要类型的标签：</p> <ul><li><strong>轻量标签</strong>（lightweight）只是对一个特定提交的引用。</li> <li><strong>附注标签</strong>（annotated）是存储在 Git 仓库中的一个完整对象。其中包含：
<ul><li>打标签者的名字</li> <li>电子邮件地址</li> <li>日期时间</li> <li>一个标签信息</li></ul></li></ul> <p>通常建议创建「 附注标签 」，这样你可以拥有以上所有信息。</p> <hr> <p>创建「 <strong>轻量标签</strong> 」只需要提供标签名字:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">git</span> tag v1.4-lw
$ <span class="token function">git</span> tag
v0.1
v1.3
v1.4
v1.4-lw
v1.5
</code></pre></div><p>在标签上运行 <code>git show</code>，你不会看到额外的标签信息。 命令只会显示出提交信息：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">git</span> show v1.4-lw
commit ca82a6dff817ec66f44342007202690a93763949
Author: Scott Chacon <span class="token operator">&lt;</span>schacon@gee-mail.com<span class="token operator">&gt;</span>
Date:   Mon Mar <span class="token number">17</span> <span class="token number">21</span>:52:11 <span class="token number">2008</span> -0700

    changed the version number
</code></pre></div><p>创建一个「 <strong>附注标签</strong> 」, 最简单的方式是当你在运行 <code>tag</code> 命令时指定 <code>-a</code> 选项：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">git</span> tag -a v1.4 -m <span class="token string">'my version 1.4'</span>
$ <span class="token function">git</span> tag
v0.1
v1.3
v1.4
</code></pre></div><p><code>-m</code> 选项指定了一条将会存储在标签中的信息。 如果没有为附注标签指定一条信息，Git 会运行编辑器要求你输入信息。</p> <p>使用 <code>git show</code> 命令可以看到标签信息与对应的提交信息：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">git</span> show v1.4
tag v1.4
Tagger: Ben Straub <span class="token operator">&lt;</span>ben@straub.cc<span class="token operator">&gt;</span>
Date:   Sat May <span class="token number">3</span> <span class="token number">20</span>:19:12 <span class="token number">2014</span> -0700

my version <span class="token number">1.4</span>

commit ca82a6dff817ec66f44342007202690a93763949
Author: Scott Chacon <span class="token operator">&lt;</span>schacon@gee-mail.com<span class="token operator">&gt;</span>
Date:   Mon Mar <span class="token number">17</span> <span class="token number">21</span>:52:11 <span class="token number">2008</span> -0700

    changed the version number
</code></pre></div><p>如果要给 <strong>过去的提交</strong> 打标签, 需要在命令的末尾指定提交的校验和</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">git</span> tag -a v1.2 9fceb02
</code></pre></div><h4 id="删除标签"><a href="#删除标签" class="header-anchor">#</a> 删除标签</h4> <p>命令 <code>git tag -d &lt;tagname&gt;</code> 可以删除指定标签:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">git</span> tag -d v1.4-lw
Deleted tag <span class="token string">'v1.4-lw'</span> <span class="token punctuation">(</span>was e7d5add<span class="token punctuation">)</span>
</code></pre></div><h2 id="使用分支"><a href="#使用分支" class="header-anchor">#</a> 使用分支</h2> <h3 id="分支简介"><a href="#分支简介" class="header-anchor">#</a> 分支简介</h3> <p><strong>Git 的分支，其实本质上仅仅是指向提交对象的指针</strong>。</p> <p><img src="https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-09-19-20-10-35.png" alt="2020-09-19-20-10-35"></p> <p>由于 Git 的分支实质上仅是包含所指对象校验和的文件，所以它的创建和销毁都异常高效。 创建一个新分支就相当于往一个文件中写入 41 个字节（40 个字符和 1 个换行符）</p> <h3 id="head"><a href="#head" class="header-anchor">#</a> HEAD</h3> <p>HEAD 是一個指针，指向某一個分支，可以把 HEAD 當做「 <strong>目前所在分支</strong> 」看待。在 <code>.git</code> 目錄裡有一個檔名為 HEAD 的文件，記錄著 HEAD 所指向的分支。</p> <div class="language-dash extra-class"><pre class="language-text"><code>$ cat .git/HEAD
ref: refs/heads/master
</code></pre></div><h3 id="分支创建"><a href="#分支创建" class="header-anchor">#</a> 分支创建</h3> <p>使用 <code>git branch</code> 命令创建新分支, 会在当前所在的提交对象上创建一个指针.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">git</span> branch testing
</code></pre></div><p>使用 <code>git log</code> 命令的 <code>--decorate</code> 参数, 可以查看各个分支当前所指的对象。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">git</span> log --oneline --decorate
f30ab <span class="token punctuation">(</span>HEAD, master, testing<span class="token punctuation">)</span> <span class="token function">add</span> feature <span class="token comment">#32 - ability to add new</span>
34ac2 fixed bug <span class="token comment">#1328 - stack overflow under certain conditions</span>
98ca9 initial commit of my project
</code></pre></div><h3 id="分支切换"><a href="#分支切换" class="header-anchor">#</a> 分支切换</h3> <p>要切换到一个已存在的分支，你需要使用 <code>git checkout</code> 命令。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">git</span> checkout testing
</code></pre></div><p>如果想新建一个分支, 同时切换到这个分支上可以使用 <code>git checkout</code> 的 <code>-b</code> 参数.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">git</span> checkout -b testing
</code></pre></div><p>把分支切换回 master. HEAD 指回 master 分支，同时工作目录恢复成 master 分支所指向的快照内容。然后在 master 分支上, 做一些内容修改, 并且提交, 则项目出现分支分叉情况.</p> <p><img src="https://i.loli.net/2019/02/19/5c6b71064e0f2.png" alt="advance-master"></p> <p>使用 <code>git log</code> 命令查看分叉历史。 运行 <code>git log --oneline --decorate --graph --all</code> ，它会输出你的提交历史、各个分支的指向以及项目的分支分叉情况。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">git</span> log --oneline --decorate --graph --all
* c2b9e <span class="token punctuation">(</span>HEAD, master<span class="token punctuation">)</span> made other changes
<span class="token operator">|</span> * 87ab2 <span class="token punctuation">(</span>testing<span class="token punctuation">)</span> made a change
<span class="token operator">|</span>/
* f30ab <span class="token function">add</span> feature <span class="token comment">#32 - ability to add new formats to the</span>
* 34ac2 fixed bug <span class="token comment">#1328 - stack overflow under certain conditions</span>
* 98ca9 initial commit of my project
</code></pre></div><h3 id="合并分支"><a href="#合并分支" class="header-anchor">#</a> 合并分支</h3> <p>使用 <code>git merge</code> 命令可以合并分支.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">git</span> checkout master
$ <span class="token function">git</span> merge hotfix
Updating f42c576<span class="token punctuation">..</span>3a0874c
Fast-forward
 index.html <span class="token operator">|</span> <span class="token number">2</span> ++
 <span class="token number">1</span> <span class="token function">file</span> changed, <span class="token number">2</span> insertions<span class="token punctuation">(</span>+<span class="token punctuation">)</span>
</code></pre></div><p>上面命令里, 切换到 <code>master</code> 分支, 然后把 <code>hotfix</code> 分支合并进来.</p> <p><img src="https://i.loli.net/2019/02/19/5c6b711339866.png" alt="basic-branching-4"></p> <p>如果顺着一个分支走下去能够到达另一个分支，那么 Git 在合并两者的时候，只会简单的将指针向前推进，这被称为「 <strong>fast-forward 快进合并</strong> 」这种情况下的合并操作没有需要解决的分歧。</p> <p>当前 <code>master</code> 分支所指向的提交，是要合并进来的分支所指向的提交的直接上游，所以 Git 只是简单的将 <code>master</code> 分支的指针向前移动。</p> <p><img src="https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-09-19-21-45-53.gif" alt="2020-09-19-21-45-53"></p> <p>如果要合并两个之间存在分叉的分支。Git 就需要做「 <strong>no-fast-forward 合并</strong> 」了。</p> <p>Git 会使用两个分支所指向的提交, 以及这两个分支上的第一个共同提交，做一个简单的三方合并。Git 会在当前分支（ active branch ）上额外创建一个新的「 <strong>合并提交</strong> merging commit 」这条提交记录既指向当前分支，又指向合并分支。</p> <p><img src="https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-09-19-21-50-00.png" alt="2020-09-19-21-50-00"></p> <p><img src="https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-09-19-21-50-39.png" alt="2020-09-19-21-50-39"></p> <p><img src="https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-09-20-13-20-56.gif" alt="2020-09-20-13-20-56"></p> <p>如果你在两个不同的分支中，对同一个文件的同一个部分进行了不同的修改，「 <strong>冲突</strong> conflict 」就会出现。</p> <p>合并时 Git 会等待你去解决合并产生的冲突。 你可以使用 <code>git status</code> 命令来查看那些，包含合并冲突的，处于未合并（ unmerged ）状态的文件：</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 尝试合并</span>
$ <span class="token function">git</span> merge iss53
Auto-merging iss53
CONFLICT <span class="token punctuation">(</span>content<span class="token punctuation">)</span>: Merge conflict <span class="token keyword">in</span> iss53
Automatic merge failed<span class="token punctuation">;</span> fix conflicts and <span class="token keyword">then</span> commit the result.

<span class="token comment"># 查看包含冲突的文件</span>
$ <span class="token function">git</span> status
On branch master
You have unmerged paths.
  <span class="token punctuation">(</span>fix conflicts and run <span class="token string">&quot;git commit&quot;</span><span class="token punctuation">)</span>

Unmerged paths:
  <span class="token punctuation">(</span>use <span class="token string">&quot;git add &lt;file&gt;...&quot;</span> to mark resolution<span class="token punctuation">)</span>

    both modified:      index.html

no changes added to commit <span class="token punctuation">(</span>use <span class="token string">&quot;git add&quot;</span> and/or <span class="token string">&quot;git commit -a&quot;</span><span class="token punctuation">)</span>
</code></pre></div><p>在你解决了所有文件里的冲突之后，对每个文件使用 <code>git add</code> 命令来将其标记为冲突已解决，并暂存。之后输入 <code>git commit</code> 来完成合并提交。</p> <h3 id="删除分支"><a href="#删除分支" class="header-anchor">#</a> 删除分支</h3> <p>在合并完之后, 你可以用 <code>git branch -d</code> 来删除掉不需要的分支。</p> <div class="language-js extra-class"><pre class="language-js"><code>$ git branch <span class="token operator">-</span>d iss53
Deleted branch <span class="token function">iss53</span> <span class="token punctuation">(</span>was aa722a3<span class="token punctuation">)</span><span class="token punctuation">.</span>
</code></pre></div><h3 id="查看分支列表"><a href="#查看分支列表" class="header-anchor">#</a> 查看分支列表</h3> <p><code>git branch</code> 命令如果不加任何参数运行它，会得到当前所有分支的一个列表</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">git</span> branch
  iss53
* master
  testing
</code></pre></div><p><code>*</code> 表示当前 HEAD 指针所指向的分支. 这意味着如果在这时候提交，master 分支将会随着新的工作向前移动。</p> <h3 id="查看分支最后提交"><a href="#查看分支最后提交" class="header-anchor">#</a> 查看分支最后提交</h3> <p>如果需要查看每一个分支的最后一次提交，可以运行 <code>git branch -v</code> 命令：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">git</span> branch -v
  iss53   93b412c fix javascript issue
* master  7a98805 Merge branch <span class="token string">'iss53'</span>
  testing 782fd34 <span class="token function">add</span> scott to the author list <span class="token keyword">in</span> the readmes
</code></pre></div><h4 id="查看「-已合并-未合并-」分支"><a href="#查看「-已合并-未合并-」分支" class="header-anchor">#</a> 查看「 已合并 / 未合并 」分支</h4> <p><code>--merged</code> 与 <code>--no-merged</code> 选项可以过滤分支列表中，已合并或未合并到当前分支的分支。</p> <p>在这个列表中分支名字前没有 <code>*</code> 号的分支，代表已经将它们的工作整合到了另一个分支中。通常可以使用 <code>git branch -d</code> 删除掉。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">git</span> branch --merged
  iss53
* master
</code></pre></div><h3 id="变基"><a href="#变基" class="header-anchor">#</a> 变基</h3> <p>使用 <code>rebase</code> 命令，执行变基操作，将一条分支上的提交，按照原有次序依次应用到另一分支上。</p> <p><img src="https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-09-20-13-21-54.gif" alt="2020-09-20-13-21-54"></p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">git</span> checkout experiment
$ <span class="token function">git</span> rebase master
First, rewinding <span class="token function">head</span> to replay your work on <span class="token function">top</span> of it<span class="token punctuation">..</span>.
Applying: added staged <span class="token builtin class-name">command</span>
</code></pre></div><p>使用 <code>git rebase [basebranch] [topicbranch]</code> 命令可以直接将 Topic Branch 分支，即 experiment，变基到 Base Branch 分支上，即 master。</p> <p>这样做能省去你先切换到 experiment 分支，再对其执行变基命令的多个步骤。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">git</span> rebase master experiment
</code></pre></div><p><img src="https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-09-20-09-05-50.png" alt="2020-09-20-09-05-50"></p> <p>变基操作使得提交历史更加整洁。 在一条经过变基的分支上，尽管实际的开发工作是并行的，但它们看上去就像是串行的一样，提交历史是一条直线没有分叉。</p> <h4 id="交互式变基"><a href="#交互式变基" class="header-anchor">#</a> 交互式变基</h4> <p>使用 <code>git rebase -i</code> 选项，进入交互式变基模式。Git 会打开文本编辑器，提交记录按照「 从旧到新 」排列。</p> <p>在每一条提交上，可以应用很多种操作模式：</p> <ul><li><code>pick</code>，简写 <code>p</code>：留下此提交。</li> <li><code>reword</code>，简写 <code>r</code>：留下此提交，但修改提交信息。</li> <li><code>edit</code>，简写 <code>e</code>：修改此提交。</li> <li><code>squash</code>，简写 <code>s</code>：将此提交合并到之前的提交中。</li> <li><code>fixup</code>，简写 <code>f</code>：将当前提交合并到之前的提交中，不保留提交消息。</li> <li><code>drop</code>，简写 <code>d</code>：删除提交。</li> <li><code>exec</code>，简写 <code>x</code>：在每一个需要变基的提交上执行一条命令。</li></ul> <p>最常见的应用场景就是，合并提交记录。</p> <p><img src="https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-09-20-13-20-00.gif" alt="2020-09-20-13-20-00"></p> <h4 id="变基的风险"><a href="#变基的风险" class="header-anchor">#</a> 变基的风险</h4> <p>变基的准则：</p> <ul><li>只把变基操作当作是在推送前，清理提交的工具。</li> <li><strong>只对尚未推送或分享给别人的本地提交执行变基操作，从不对已推送至别处的提交执行变基操作</strong>。</li></ul> <hr> <p>变基操作的实质是丢弃一些现有的提交，然后相应地新建一些内容一样但实际上不同的提交。</p> <p>如果你已经将提交推送至某个仓库，而其他人也已经从该仓库拉取提交，并进行了后续工作。</p> <p>此时，如果你用 <code>git rebase</code> 命令重新整理了提交并再次推送，你的同伴因此将不得不再次将他们手头的工作与你的提交进行整合，如果接下来你还要拉取并整合他们修改过的提交，事情就会变得一团糟。</p> <p>🌰 看个例子:</p> <p>假设你从一个中央服务器克隆然后在它的基础上进行了一些开发。 你的提交历史如图所示：</p> <p><img src="https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-09-20-11-01-45.png" alt="2020-09-20-11-01-45"></p> <p>然后，某人又向中央服务器提交了一些修改，其中还包括一次合并。 你抓取了这些在远程分支上的修改，并将其合并到你本地的开发分支，然后你的提交历史就会变成这样：</p> <p><img src="https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-09-20-11-02-09.png" alt="2020-09-20-11-02-09"></p> <p>接下来，这个人又决定把合并操作回滚，改用变基；继而又用 <code>git push --force</code> 命令覆盖了服务器上的提交历史。 之后你从服务器抓取更新，会发现多出来一些新的提交。</p> <p><img src="https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-09-20-11-02-24.png" alt="2020-09-20-11-02-24"></p> <p>结果就是你们两人的处境都十分尴尬。 如果你执行 <code>git pull</code> 命令，你将合并来自两条提交历史的内容，生成一个新的合并提交，最终仓库会如图所示：</p> <p><img src="https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-09-20-11-01-32.png" alt="2020-09-20-11-01-32"></p> <p>此时如果你执行 <code>git log</code> 命令，你会发现有两个提交的作者、日期、日志居然是一样的，这会令人感到混乱。 此外，如果你将这一堆又推送到服务器上，你实际上是将那些已经被变基抛弃的提交又找了回来，这会令人感到更加混乱。 很明显对方并不想在提交历史中看到 C4 和 C6，因为之前就是他把这两个提交通过变基丢弃的。</p> <h4 id="用变基解决变基"><a href="#用变基解决变基" class="header-anchor">#</a> 用变基解决变基</h4> <p>遇到上述情况，不要执行合并，而是执行 <code>git rebase teamone/master</code>, Git 将会：</p> <ul><li>检查哪些提交是我们的分支上独有的（ C2，C3，C4，C6，C7 ）</li> <li>检查其中哪些提交不是合并操作的结果（ C2，C3，C4 ）</li> <li>检查哪些提交的内容是目标分支不具备的（ 只有 C2 和 C3，因为 C4 其实就是 C4' ）</li> <li>把这些提交应用在 <code>teamone/master</code> 上面</li></ul> <p><img src="https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-09-20-11-01-12.png" alt="2020-09-20-11-01-12"></p> <p>本例中使用 <code>git pull --rebase</code> 命令可以完成上述操作. 它的意思是先 <code>git fetch</code>，再 <code>git rebase teamone/master</code>。</p> <h2 id="远程仓库"><a href="#远程仓库" class="header-anchor">#</a> 远程仓库</h2> <p>远程仓库是指，托管在网络中的版本库. 与他人协作时, 可以在这个远程仓库上根据需要「 Push 推送 」或「 Fetch 拉取 」数据。</p> <p>下图各指令与远端库，本地库，暂存区，工作目录之间的关系：</p> <p><img src="https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-09-20-13-28-15.png" alt="2020-09-20-13-28-15"></p> <h3 id="添加远程仓库"><a href="#添加远程仓库" class="header-anchor">#</a> 添加远程仓库</h3> <h4 id="添加远程库"><a href="#添加远程库" class="header-anchor">#</a> 添加远程库</h4> <p>场景: 先有本地库, 后有远程库</p> <p>运行 <code>git remote add &lt;shortname&gt; &lt;url&gt;</code> 添加一个新的远程仓库，同时可以为仓库指定一个名字。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">git</span> remote
origin
$ <span class="token function">git</span> remote <span class="token function">add</span> pb https://github.com/paulboone/ticgit
$ <span class="token function">git</span> remote -v
origin	https://github.com/schacon/ticgit <span class="token punctuation">(</span>fetch<span class="token punctuation">)</span>
origin	https://github.com/schacon/ticgit <span class="token punctuation">(</span>push<span class="token punctuation">)</span>
pb	https://github.com/paulboone/ticgit <span class="token punctuation">(</span>fetch<span class="token punctuation">)</span>
pb	https://github.com/paulboone/ticgit <span class="token punctuation">(</span>push<span class="token punctuation">)</span>
</code></pre></div><h4 id="从现有仓库克隆"><a href="#从现有仓库克隆" class="header-anchor">#</a> 从现有仓库克隆</h4> <p>应用场景: 先有远程库, 后有本地库</p> <p>使用 <code>git clone [url]</code> 指令把远程库克隆到本地。克隆的远程仓库默认名称 <code>origin</code>。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">git</span> clone git://github.com/schacon/grit.git
</code></pre></div><p>如果你想在克隆远程仓库的时候，自定义本地仓库的目录名，可以在命令末尾指定新的名字。</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># git clone &lt;版本库的网址&gt; &lt;本地目录名&gt;</span>
$ <span class="token function">git</span> clone git://github.com/schacon/grit.git myFolder
</code></pre></div><h3 id="查看远程仓库"><a href="#查看远程仓库" class="header-anchor">#</a> 查看远程仓库</h3> <p>运行 <code>git remote</code> 命令，它会列出当前仓库配置的每一个远程仓库的名字。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">git</span> remote
origin
</code></pre></div><p>选项 <code>-v</code>，会显示，每个远程仓库执行 <code>fetch</code> 和 <code>pull</code> 操作时对应的 URL。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">git</span> remote -v
origin	https://github.com/schacon/ticgit <span class="token punctuation">(</span>fetch<span class="token punctuation">)</span>
origin	https://github.com/schacon/ticgit <span class="token punctuation">(</span>push<span class="token punctuation">)</span>
</code></pre></div><p>如果想要查看某一个远程仓库的更多信息，可以使用 <code>git remote show [remote-name]</code> 命令</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">git</span> remote show origin
* remote origin
  Fetch URL: https://github.com/schacon/ticgit
  Push  URL: https://github.com/schacon/ticgit
  HEAD branch: master
  Remote branches:
    master                               tracked
    dev-branch                           tracked
  Local branch configured <span class="token keyword">for</span> <span class="token string">'git pull'</span><span class="token builtin class-name">:</span>
    master merges with remote master
  Local ref configured <span class="token keyword">for</span> <span class="token string">'git push'</span><span class="token builtin class-name">:</span>
    master pushes to master <span class="token punctuation">(</span>up to <span class="token function">date</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="拉取-fetch-抓取-pull"><a href="#拉取-fetch-抓取-pull" class="header-anchor">#</a> 拉取 fetch &amp; 抓取 pull</h3> <p><code>git fetch [remote-name]</code> 命令会访问远程仓库，从中 <strong>拉取</strong> 所有你还没有的数据。 执行完成后，你将会拥有那个远程仓库中所有分支的引用，可以随时合并或查看。</p> <p><code>git fetch</code> 命令并不会自动合并或修改你当前的工作。</p> <p><img src="https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-09-20-13-26-16.gif" alt="2020-09-20-13-26-16"></p> <p><code>git pull</code> 命令等同于 <code>git fetch</code> + <code>git merge</code>。不但拉取，还会进行合并。</p> <h3 id="推送到远程仓库"><a href="#推送到远程仓库" class="header-anchor">#</a> 推送到远程仓库</h3> <p>使用命令 <code>git push [remote-name] [branch-name]</code> 将你本地的内容推送到远端服务器.</p> <p>Push 指令其實做了幾件事：</p> <ul><li>把 <code>[branch-name]</code> 這個分支的內容，推向 <code>[remote-name]</code> 這個位置。</li> <li>在 <code>[remote-name]</code> 那個远端上，如果 <code>[branch-name]</code> 不存在，就建立一個叫做 <code>[branch-name]</code> 的同名分支。</li> <li>但如果远端上就存在 <code>[branch-name]</code> 分支，便会让 <code>[branch-name]</code> 分支指向最新的提交上。</li></ul> <p>只有当你有所克隆服务器的写入权限，并且之前没有人推送过时，这条命令才能生效。 当你和其他人在同一时间克隆，他们先推送到上游然后你再推送到上游，你的推送就会毫无疑问地被拒绝。</p> <p>你必须先将他们的工作 <code>fetch</code> 抓取下来，并将其合并 <code>merge</code> 进你的工作后才能推送。<code>git pull</code> 拉取命令可以直接帮你实现这两步。</p> <h4 id="upstream-上游"><a href="#upstream-上游" class="header-anchor">#</a> upstream 上游</h4> <p>可以给分支设定一个「 <strong>上游 upstream</strong> 」分支。<strong>在分支上执行 <code>pull</code>, <code>fetch</code>, <code>push</code> 命令时，不需要额外的参数，默认将上游分支作为目标</strong>。</p> <ul><li>通常 upstream 是远端服务器上的某个分支，但也可以设定为在本地端的其它分支。</li></ul> <p>通过 <code>git push -u [远程服务器] [本地分支:远端分支]</code> 指令来设定 upstream。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">git</span> push -u origin master:master
</code></pre></div><ul><li>上面指令将远端 <code>origin</code> 上的 <code>master</code> 分支設定為本地 <code>master</code> 分支的上游 upstream。</li> <li>当直接执行 <code>git push</code> 指令是，就会把本地 master 分支上的内容，更新到远端的 master 分支上。如果远端不存在 master 分支，则自动创建一个。</li></ul> <p>上面的指令可以简写为：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">git</span> push origin master
</code></pre></div><p>如果远端的分支名和本地的不同，则不能简写：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">git</span> push origin master:cat
</code></pre></div><h3 id="远程仓库的移除与重命名"><a href="#远程仓库的移除与重命名" class="header-anchor">#</a> 远程仓库的移除与重命名</h3> <p>运行 <code>git remote rename</code> 去修改一个远程仓库的简写名</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">git</span> remote <span class="token function">rename</span> pb paul
$ <span class="token function">git</span> remote
origin
paul
</code></pre></div><p>使用 <code>git remote rm</code> 移除一个远程仓库</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">git</span> remote <span class="token function">rm</span> paul
$ <span class="token function">git</span> remote
origin
</code></pre></div><h2 id="修改历史记录"><a href="#修改历史记录" class="header-anchor">#</a> 修改历史记录</h2> <h3 id="修改提交信息"><a href="#修改提交信息" class="header-anchor">#</a> 修改提交信息</h3> <h4 id="修改最近一次提交"><a href="#修改最近一次提交" class="header-anchor">#</a> 修改最近一次提交</h4> <p>要修改最後一次的 Commit 訊息，只要直接在 Commit 指令後面加上 <code>--amend</code> 參數即可：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">git</span> commit --amend -m <span class="token string">&quot;Welcome To Facebook&quot;</span>
<span class="token punctuation">[</span>master 614a90c<span class="token punctuation">]</span> Welcome To Facebook
Date: Wed Aug <span class="token number">16</span> 05:42:56 <span class="token number">2017</span> +0800
<span class="token number">1</span> <span class="token function">file</span> changed, <span class="token number">0</span> insertions<span class="token punctuation">(</span>+<span class="token punctuation">)</span>, <span class="token number">0</span> deletions<span class="token punctuation">(</span>-<span class="token punctuation">)</span>
create mode <span class="token number">100644</span> config/database.yml
</code></pre></div><h4 id="修改更早的提交"><a href="#修改更早的提交" class="header-anchor">#</a> 修改更早的提交</h4> <p>可以使用 <code>rebase</code> 命令的互动模式来修改更早的提交信息.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 查看提交记录</span>
$ <span class="token function">git</span> log --oneline
27f6ed6 <span class="token punctuation">(</span>HEAD -<span class="token operator">&gt;</span> master<span class="token punctuation">)</span> <span class="token function">add</span> dog <span class="token number">2</span>
2bab3e7 <span class="token function">add</span> dog <span class="token number">1</span>
ca40fc9 <span class="token function">add</span> <span class="token number">2</span> cats
1de2076 <span class="token function">add</span> <span class="token function">cat</span> <span class="token number">2</span>
cd82f29 <span class="token function">add</span> <span class="token function">cat</span> <span class="token number">1</span>
382a2a5 <span class="token function">add</span> database settings
bb0c9c2 init commit

<span class="token comment"># 变基</span>
$ <span class="token function">git</span> rebase -i bb0c9c2
</code></pre></div><div class="language-bash extra-class"><pre class="language-bash"><code>pick 382a2a5 <span class="token function">add</span> database settings
pick cd82f29 <span class="token function">add</span> <span class="token function">cat</span> <span class="token number">1</span>
pick 1de2076 <span class="token function">add</span> <span class="token function">cat</span> <span class="token number">2</span>
pick ca40fc9 <span class="token function">add</span> <span class="token number">2</span> cats
pick 2bab3e7 <span class="token function">add</span> dog <span class="token number">1</span>
pick 27f6ed6 <span class="token function">add</span> dog <span class="token number">2</span>

<span class="token comment"># Rebase bb0c9c2..27f6ed6 onto bb0c9c2 (6 commands)</span>
<span class="token comment">#</span>
<span class="token comment"># Commands:</span>
<span class="token comment"># p, pick = use commit</span>
<span class="token comment"># r, reword = use commit, but edit the commit message</span>
<span class="token comment"># e, edit = use commit, but stop for amending</span>
<span class="token comment"># s, squash = use commit, but meld into previous commit</span>
<span class="token comment"># f, fixup = like &quot;squash&quot;, but discard this commit's log message</span>
<span class="token comment"># x, exec = run command (the rest of the line) using shell</span>
<span class="token comment"># d, drop = remove commit</span>
<span class="token comment">#</span>
<span class="token comment"># These lines can be re-ordered; they are executed from top to bottom.</span>
<span class="token comment">#</span>
<span class="token comment"># If you remove a line here THAT COMMIT WILL BE LOST.</span>
<span class="token comment">#</span>
<span class="token comment"># However, if you remove everything, the rebase will be aborted.</span>
<span class="token comment">#</span>
<span class="token comment"># Note that empty commits are commented out</span>
</code></pre></div><p>将想要改信息的提交前面的 <code>pick</code> 改成 <code>reword</code>，或是 <code>r</code>, 就表示待會我要來修改這兩次提交的信息.</p> <p>因为提交改变了, 提交的 SHA-1 也就改变了. 之後的 Commit 因為前面的歷史改了，所以後面整串的 Commit 全部都重新做出新的 Commit 出來替代舊的 Commit。</p> <h3 id="合并多个提交"><a href="#合并多个提交" class="header-anchor">#</a> 合并多个提交</h3> <p><code>rebase</code> 的互动模式同样也可以合并多个提交, 以来让提交历史更简洁.</p> <p>把想要合并的提交前的指令改成 <code>squash</code> 或 <code>s</code>. 也可以用 <code>fixup</code> 它与 <code>squash</code> 相同，但不会保存当前 commit 的提交信息</p> <div class="language-bash extra-class"><pre class="language-bash"><code>pick 382a2a5 <span class="token function">add</span> database settings
pick cd82f29 <span class="token function">add</span> <span class="token function">cat</span> <span class="token number">1</span>
squash 1de2076 <span class="token function">add</span> <span class="token function">cat</span> <span class="token number">2</span>
squash ca40fc9 <span class="token function">add</span> <span class="token number">2</span> cats
pick 2bab3e7 <span class="token function">add</span> dog <span class="token number">1</span>
squash 27f6ed6 <span class="token function">add</span> dog <span class="token number">2</span>
</code></pre></div><ul><li>最後一行的 <code>27f6ed6</code> 會跟前一個 Commit <code>2bab3e7</code> 進行合併</li> <li>倒數第三號的 <code>ca40fc9</code> 會跟前一個 Commit <code>1de2076</code> 合併，但因為 <code>1de2076</code> 又會再往前一個 Commit <code>cd82f29</code> 合併</li></ul> <p>存檔並離開 Vim 編輯器後，它會開始進行 Rebase，而在 Squash 的過程中，它還會跳出 Vim 編輯器讓你編輯一下訊息</p> <p><img src="https://i.loli.net/2019/02/20/5c6cdf896c1d5.png" alt="squash1"></p> <p>把訊息改成「add all cats」：</p> <p><img src="https://i.loli.net/2019/02/20/5c6cdf94aac1e.png" alt="squash2"></p> <h3 id="将一个提交拆成多个"><a href="#将一个提交拆成多个" class="header-anchor">#</a> 将一个提交拆成多个</h3> <p>如果你在一个提交里做了多出改动, 你之后想把它拆成多个提交, 同樣也可使用互動模式的 Rebase 來操作.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">git</span> log --oneline
27f6ed6 <span class="token punctuation">(</span>HEAD -<span class="token operator">&gt;</span> master<span class="token punctuation">)</span> <span class="token function">add</span> dog <span class="token number">2</span>
2bab3e7 <span class="token function">add</span> dog <span class="token number">1</span>
ca40fc9 <span class="token function">add</span> <span class="token number">2</span> cats
1de2076 <span class="token function">add</span> <span class="token function">cat</span> <span class="token number">2</span>
cd82f29 <span class="token function">add</span> <span class="token function">cat</span> <span class="token number">1</span>
382a2a5 <span class="token function">add</span> database settings
bb0c9c2 init commit
</code></pre></div><p>假如 <code>ca40fc9</code> 這個 Commit 一口氣增加了兩個檔案，我想把它拆成兩個提交. 我们需要进入互动模式, 把要拆的那個 Commit 的 <code>pick</code> 改成 <code>edit</code>:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>pick 382a2a5 <span class="token function">add</span> database settings
pick cd82f29 <span class="token function">add</span> <span class="token function">cat</span> <span class="token number">1</span>
pick 1de2076 <span class="token function">add</span> <span class="token function">cat</span> <span class="token number">2</span>
edit ca40fc9 <span class="token function">add</span> <span class="token number">2</span> cats
pick 2bab3e7 <span class="token function">add</span> dog <span class="token number">1</span>
pick 27f6ed6 <span class="token function">add</span> dog <span class="token number">2</span>
</code></pre></div><p>Rebase 在執行到 <code>ca40fc9</code> 這個 Commit 的時候就會停下來：</p> <p><img src="https://i.loli.net/2019/02/20/5c6ce0ef3d2bb.png" alt="split1"></p> <p><code>HEAD</code> 指向 <code>ca40fc9</code>, 我们通过 <code>reset</code> 指令到这个提交的上一个提交.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">git</span> reset HEAD^
</code></pre></div><p>这两个提交之间的改动都处于 『 未暂存 』状态. 根据你自己的需要通过 <code>add</code> 和 <code>commit</code> 来进行提交.</p> <p>等你弄完了, 別忘了現在還是處於 Rebase 狀態，通过 <code>--continue</code> 参数来让 Rebase 执行完.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">git</span> rebase --continue
Successfully rebased and updated refs/heads/master.
</code></pre></div><h2 id="其他"><a href="#其他" class="header-anchor">#</a> 其他</h2> <h3 id="断头-detached-head-是什么"><a href="#断头-detached-head-是什么" class="header-anchor">#</a> 断头 Detached HEAD 是什么?</h3> <p>正常情况下，<code>HEAD</code> 會指向某一個分支，而分支會指向某一個提交。当 <code>HEAD</code> 没有指向一个分支的时候, 这个状态就被称为「 <strong>Detached HEAD 断头</strong> 」</p> <p>可能發生這個狀態的原因有：</p> <ul><li>使用 <code>checkout</code> 指令直接跳到某個提交，而那個提交剛好目前沒有分支指著它。</li> <li><code>rebase</code> 的過程其實也是處於不斷的 <code>detached HEAD</code> 狀態。</li> <li>切換到某個遠端分支的時候。</li></ul> <p>让我们来说个更具体的例子:</p> <p><img src="https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-09-20-14-02-31.png" alt="2020-09-20-14-02-31">
假如我使用 <code>checkout</code> 指令切換至 <code>add cat 1</code> 那個 <code>commmit</code>. 同时 <code>HEAD</code> 也就指向了那个提交. 因为没有分支指向这个提交, 所有处于 <code>detached HEAD</code> 状态.</p> <p><img src="https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-09-20-14-02-45.png" alt="2020-09-20-14-02-45">
这个时候如果再进行一次提交.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">touch</span> no-head.html

$ <span class="token function">git</span> <span class="token function">add</span> no-head.html

$ <span class="token function">git</span> commit -m <span class="token string">&quot;add a no-head file&quot;</span>
<span class="token punctuation">[</span>detached HEAD b6d204e<span class="token punctuation">]</span> <span class="token function">add</span> no-head <span class="token function">file</span>
 <span class="token number">1</span> <span class="token function">file</span> changed, <span class="token number">0</span> insertions<span class="token punctuation">(</span>+<span class="token punctuation">)</span>, <span class="token number">0</span> deletions<span class="token punctuation">(</span>-<span class="token punctuation">)</span>
 create mode <span class="token number">100644</span> no-head.html
</code></pre></div><p><img src="https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-09-20-14-02-59.png" alt="2020-09-20-14-02-59"></p> <p>因为并没有一个分支指向这个新的提交, 只是 <code>HEAD</code> 在指向它. 如果之后我让 <code>HEAD</code> 再指向其他分支. 这个提交就不容易被找到了, 除非我记住它的 SHA-1 校验和。</p> <p>如果還想留下這個提交，就給它一個分支指著它就行了.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">git</span> branch new_branch b6d204e
$ <span class="token function">git</span> checkout new_branch
</code></pre></div><p>或者</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">git</span> checkout -b new_branch b6d204e
Switched to a new branch <span class="token string">'new_branch'</span>
</code></pre></div><h3 id="git-flow"><a href="#git-flow" class="header-anchor">#</a> Git Flow</h3> <p>Git Flow 是一种团队协作的工作流程规范。</p> <p><img src="https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-09-20-14-29-42.png" alt="2020-09-20-14-29-42"></p> <p>一个项目存在如下分支：</p> <ul><li><strong>主分支</strong> Master Branch</li> <li><strong>开发分支</strong> Develop Branch</li> <li><strong>功能分支</strong> Feature Branch</li> <li><strong>补丁分支</strong> Hotfix Branch</li> <li><strong>发布分支</strong> Release Branch</li></ul> <p>Git Flow 的缺点是：相对复杂，维护麻烦。</p> <h3 id="commit-messgae-模板"><a href="#commit-messgae-模板" class="header-anchor">#</a> Commit Messgae 模板</h3> <p>我使用的格式为:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token operator">&lt;</span>type<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>scope<span class="token operator">&gt;</span><span class="token punctuation">)</span>: <span class="token operator">&lt;</span>subject<span class="token operator">&gt;</span> <span class="token comment"># 标题行</span>
<span class="token operator">&lt;</span>BLANK LINE<span class="token operator">&gt;</span> <span class="token comment"># 空行</span>
<span class="token operator">&lt;</span>body<span class="token operator">&gt;</span> <span class="token comment"># 主题内容</span>
<span class="token operator">&lt;</span>BLANK LINE<span class="token operator">&gt;</span> <span class="token comment"># 空行</span>
<span class="token operator">&lt;</span>footer<span class="token operator">&gt;</span> <span class="token comment"># 页脚注释</span>
</code></pre></div><p>大致分为三个部分:</p> <ul><li><p>标题行: 必填, 描述主要修改类型和内容</p></li> <li><p>主题内容: 描述为什么修改, 做了什么样的修改, 以及开发的思路等等</p></li> <li><p>页脚注释: 放 Breaking Changes 或 Closed Issue</p></li> <li><p><code>type</code>: 提交的类型</p> <ul><li><code>feat</code>: 新特性</li> <li><code>fix</code>: 修改问题</li> <li><code>refactor</code>: 代码重构</li> <li><code>docs</code>: 文档修改</li> <li><code>style</code>: 代码格式修改, (注意不是 CSS 修改)</li> <li><code>test</code>: 测试用例修改</li> <li><code>chore</code>: 其他修改, 比如构建流程, 依赖管理.</li></ul></li> <li><p><code>scope</code>: 影响的范围, 比如: route, component, utils, build…</p></li> <li><p><code>subject</code>: 的概述, 建议符合 &quot;50/72 formatting&quot;</p></li> <li><p><code>body</code>: 具体修改内容, 可以分为多行, 建议符合 &quot;50/72 formatting&quot;</p></li> <li><p><code>footer</code>: 一些备注, 通常是 BREAKING CHANGE 或修复的 bug 的链接.</p></li></ul> <p>通过修改 <code>git config --global commit.template [模板文件绝对路径]</code> 可以添加模板。</p> <p>如果要取消已设定的模板，则删除掉 <code>~/.gitconfig</code> 文件中的 <code>[commit] template</code> 部分。</p> <h2 id="参考"><a href="#参考" class="header-anchor">#</a> 参考</h2> <ul><li><a href="https://mp.weixin.qq.com/s?__biz=MjM5MTA1MjAxMQ==&amp;mid=2651236225&amp;idx=1&amp;sn=dfda35481d2cf2c3435c5e9802a1dc81&amp;chksm=bd497e058a3ef713a8020acf25e2d159d36dfad35b04b94fcfb41158fec571e2d43c617d7f05&amp;mpshare=1&amp;scene=1&amp;srcid=&amp;sharer_sharetime=1586565597279&amp;sharer_shareid=9fc6c269db99975622f194cd8f0eba8f%23rd" target="_blank" rel="noopener noreferrer">图解常用的 Git 指令含义<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="http://www.ruanyifeng.com/blog/2015/12/git-workflow.html" target="_blank" rel="noopener noreferrer">Git 工作流程<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="http://www.ruanyifeng.com/blog/2012/07/git.html" target="_blank" rel="noopener noreferrer">Git 分支管理策略<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">9/20/2020, 2:09:36 PM</span></div></footer> <!----> </main></div><div class="global-ui"><!----><div class="vuepress-eqn"></div><span class="vuepress-eq"></span></div></div>
    <script src="/my-notebook/assets/js/app.884f9198.js" defer></script><script src="/my-notebook/assets/js/2.4605f295.js" defer></script><script src="/my-notebook/assets/js/192.2e27005a.js" defer></script>
  </body>
</html>

(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{234:function(t,n,e){"use strict";e.r(n);var a=e(0),s=Object(a.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"content"},[e("h3",{attrs:{id:"sql"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#sql","aria-hidden":"true"}},[t._v("#")]),t._v(" SQL")]),e("div",{staticClass:"language-sql extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{attrs:{class:"token keyword"}},[t._v("CREATE")]),t._v(" "),e("span",{attrs:{class:"token operator"}},[t._v("OR")]),t._v(" "),e("span",{attrs:{class:"token keyword"}},[t._v("REPLACE")]),t._v(" "),e("span",{attrs:{class:"token keyword"}},[t._v("VIEW")]),t._v(" emp_per_dept "),e("span",{attrs:{class:"token keyword"}},[t._v("AS")]),t._v("\n"),e("span",{attrs:{class:"token keyword"}},[t._v("SELECT")]),t._v(" dept"),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("deptno"),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dname"),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{attrs:{class:"token function"}},[t._v("COUNT")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("emp"),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("deptno"),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{attrs:{class:"token keyword"}},[t._v("AS")]),t._v(" num_emps\n"),e("span",{attrs:{class:"token keyword"}},[t._v("FROM")]),t._v(" emp "),e("span",{attrs:{class:"token keyword"}},[t._v("RIGHT")]),t._v(" "),e("span",{attrs:{class:"token keyword"}},[t._v("JOIN")]),t._v(" dept "),e("span",{attrs:{class:"token keyword"}},[t._v("ON")]),t._v(" emp"),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("deptno "),e("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" dept"),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("deptno\n"),e("span",{attrs:{class:"token keyword"}},[t._v("GROUP")]),t._v(" "),e("span",{attrs:{class:"token keyword"}},[t._v("BY")]),t._v(" dept"),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("deptno"),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dname\n"),e("span",{attrs:{class:"token keyword"}},[t._v("ORDER")]),t._v(" "),e("span",{attrs:{class:"token keyword"}},[t._v("BY")]),t._v(" dname "),e("span",{attrs:{class:"token keyword"}},[t._v("ASC")]),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{attrs:{class:"token keyword"}},[t._v("CREATE")]),t._v(" "),e("span",{attrs:{class:"token operator"}},[t._v("OR")]),t._v(" "),e("span",{attrs:{class:"token keyword"}},[t._v("REPLACE")]),t._v(" "),e("span",{attrs:{class:"token keyword"}},[t._v("PROCEDURE")]),t._v(" UPDATE_EMPLOYEE\n"),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\tpEmpno "),e("span",{attrs:{class:"token operator"}},[t._v("IN")]),t._v(" NUMBER"),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\tpEname "),e("span",{attrs:{class:"token operator"}},[t._v("IN")]),t._v(" VARCHAR2"),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\tpJob "),e("span",{attrs:{class:"token operator"}},[t._v("IN")]),t._v(" VARCHAR2"),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\tpMgr "),e("span",{attrs:{class:"token operator"}},[t._v("IN")]),t._v(" NUMBER"),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\tpHiredate "),e("span",{attrs:{class:"token operator"}},[t._v("IN")]),t._v(" "),e("span",{attrs:{class:"token keyword"}},[t._v("DATE")]),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\tpSal "),e("span",{attrs:{class:"token operator"}},[t._v("IN")]),t._v(" NUMBER"),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\tpComm "),e("span",{attrs:{class:"token operator"}},[t._v("IN")]),t._v(" NUMBER"),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\tpDeptno "),e("span",{attrs:{class:"token operator"}},[t._v("IN")]),t._v(" NUMBER\n"),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{attrs:{class:"token operator"}},[t._v("IS")]),t._v("\n"),e("span",{attrs:{class:"token keyword"}},[t._v("BEGIN")]),t._v("\n\t"),e("span",{attrs:{class:"token keyword"}},[t._v("UPDATE")]),t._v(" emp "),e("span",{attrs:{class:"token keyword"}},[t._v("SET")]),t._v(" ename "),e("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" pEname"),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\tjob "),e("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" pJob"),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\tmgr "),e("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" pMgr"),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\thiredate "),e("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" pHiredate"),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\tsal "),e("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" pSal"),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\tcomm "),e("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" pComm"),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\tdeptno "),e("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" pDeptno\n\t"),e("span",{attrs:{class:"token keyword"}},[t._v("WHERE")]),t._v(" empno "),e("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" pEmpno"),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{attrs:{class:"token keyword"}},[t._v("END")]),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{attrs:{class:"token operator"}},[t._v("/")]),t._v("\n\n"),e("span",{attrs:{class:"token keyword"}},[t._v("CREATE")]),t._v(" "),e("span",{attrs:{class:"token operator"}},[t._v("OR")]),t._v(" "),e("span",{attrs:{class:"token keyword"}},[t._v("REPLACE")]),t._v(" PACKAGE emp_dept_package "),e("span",{attrs:{class:"token operator"}},[t._v("IS")]),t._v("\n   "),e("span",{attrs:{class:"token keyword"}},[t._v("PROCEDURE")]),t._v(" create_new_employee"),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("new_empno "),e("span",{attrs:{class:"token operator"}},[t._v("IN")]),t._v(" NUMBER"),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" new_ename "),e("span",{attrs:{class:"token operator"}},[t._v("IN")]),t._v(" VARCHAR2"),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" new_job "),e("span",{attrs:{class:"token operator"}},[t._v("IN")]),t._v(" VARCHAR2"),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" \n         new_mgr "),e("span",{attrs:{class:"token operator"}},[t._v("IN")]),t._v(" VARCHAR2"),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" new_hiredate "),e("span",{attrs:{class:"token operator"}},[t._v("IN")]),t._v(" "),e("span",{attrs:{class:"token keyword"}},[t._v("DATE")]),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" new_sal "),e("span",{attrs:{class:"token operator"}},[t._v("IN")]),t._v(" NUMBER"),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" new_comm "),e("span",{attrs:{class:"token operator"}},[t._v("IN")]),t._v(" NUMBER"),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" \n         new_dept "),e("span",{attrs:{class:"token operator"}},[t._v("IN")]),t._v(" VARCHAR2"),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" new_dept_loc "),e("span",{attrs:{class:"token operator"}},[t._v("IN")]),t._v(" VARCHAR2"),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n   "),e("span",{attrs:{class:"token keyword"}},[t._v("PROCEDURE")]),t._v(" create_department"),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("new_dname "),e("span",{attrs:{class:"token operator"}},[t._v("IN")]),t._v(" VARCHAR2"),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" new_loc "),e("span",{attrs:{class:"token operator"}},[t._v("IN")]),t._v(" VARCHAR2"),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n   "),e("span",{attrs:{class:"token keyword"}},[t._v("FUNCTION")]),t._v(" find_employee"),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ename_to_find VARCHAR2"),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{attrs:{class:"token keyword"}},[t._v("RETURN")]),t._v(" NUMBER"),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n   "),e("span",{attrs:{class:"token keyword"}},[t._v("FUNCTION")]),t._v(" find_department"),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("dname_to_find "),e("span",{attrs:{class:"token operator"}},[t._v("IN")]),t._v(" VARCHAR2"),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{attrs:{class:"token keyword"}},[t._v("RETURN")]),t._v(" NUMBER"),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n   "),e("span",{attrs:{class:"token keyword"}},[t._v("END")]),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{attrs:{class:"token operator"}},[t._v("/")]),t._v("\n\n"),e("span",{attrs:{class:"token keyword"}},[t._v("CREATE")]),t._v(" "),e("span",{attrs:{class:"token operator"}},[t._v("OR")]),t._v(" "),e("span",{attrs:{class:"token keyword"}},[t._v("REPLACE")]),t._v(" PACKAGE BODY emp_dept_package "),e("span",{attrs:{class:"token operator"}},[t._v("IS")]),t._v("\n   last_deptno dept"),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("deptno"),e("span",{attrs:{class:"token operator"}},[t._v("%")]),e("span",{attrs:{class:"token keyword"}},[t._v("TYPE")]),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n   "),e("span",{attrs:{class:"token keyword"}},[t._v("PROCEDURE")]),t._v(" create_department"),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("new_dname "),e("span",{attrs:{class:"token operator"}},[t._v("IN")]),t._v(" VARCHAR2"),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" new_loc "),e("span",{attrs:{class:"token operator"}},[t._v("IN")]),t._v(" VARCHAR2"),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{attrs:{class:"token operator"}},[t._v("IS")]),t._v("\n      new_deptno dept"),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("deptno"),e("span",{attrs:{class:"token operator"}},[t._v("%")]),e("span",{attrs:{class:"token keyword"}},[t._v("TYPE")]),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n   "),e("span",{attrs:{class:"token keyword"}},[t._v("BEGIN")]),t._v("\n      "),e("span",{attrs:{class:"token keyword"}},[t._v("SELECT")]),t._v(" "),e("span",{attrs:{class:"token function"}},[t._v("MAX")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("deptno"),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{attrs:{class:"token keyword"}},[t._v("INTO")]),t._v(" last_deptno "),e("span",{attrs:{class:"token keyword"}},[t._v("FROM")]),t._v(" dept"),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      new_deptno :"),e("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" last_deptno "),e("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),e("span",{attrs:{class:"token number"}},[t._v("10")]),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),e("span",{attrs:{class:"token keyword"}},[t._v("INSERT")]),t._v(" "),e("span",{attrs:{class:"token keyword"}},[t._v("INTO")]),t._v(" dept "),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("deptno"),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dname"),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" loc"),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{attrs:{class:"token keyword"}},[t._v("VALUES")]),t._v(" "),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("new_deptno"),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" new_dname"),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" new_loc"),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      last_deptno :"),e("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" new_deptno"),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n   "),e("span",{attrs:{class:"token keyword"}},[t._v("END")]),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n   \n   "),e("span",{attrs:{class:"token keyword"}},[t._v("FUNCTION")]),t._v(" find_department"),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("dname_to_find "),e("span",{attrs:{class:"token operator"}},[t._v("IN")]),t._v(" VARCHAR2"),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{attrs:{class:"token keyword"}},[t._v("RETURN")]),t._v(" NUMBER "),e("span",{attrs:{class:"token operator"}},[t._v("IS")]),t._v("\n      "),e("span",{attrs:{class:"token keyword"}},[t._v("CURSOR")]),t._v(" dept_cursor "),e("span",{attrs:{class:"token operator"}},[t._v("IS")]),t._v(" "),e("span",{attrs:{class:"token keyword"}},[t._v("SELECT")]),t._v(" deptno "),e("span",{attrs:{class:"token keyword"}},[t._v("FROM")]),t._v(" dept "),e("span",{attrs:{class:"token keyword"}},[t._v("WHERE")]),t._v(" dname "),e("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" dname_to_find"),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      found_deptno dept"),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("deptno"),e("span",{attrs:{class:"token operator"}},[t._v("%")]),e("span",{attrs:{class:"token keyword"}},[t._v("TYPE")]),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n   "),e("span",{attrs:{class:"token keyword"}},[t._v("BEGIN")]),t._v("\n      "),e("span",{attrs:{class:"token keyword"}},[t._v("OPEN")]),t._v(" dept_cursor"),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),e("span",{attrs:{class:"token keyword"}},[t._v("FETCH")]),t._v(" dept_cursor "),e("span",{attrs:{class:"token keyword"}},[t._v("INTO")]),t._v(" found_deptno"),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),e("span",{attrs:{class:"token keyword"}},[t._v("IF")]),t._v(" dept_cursor"),e("span",{attrs:{class:"token operator"}},[t._v("%")]),t._v("NOTFOUND "),e("span",{attrs:{class:"token keyword"}},[t._v("THEN")]),t._v("\n         found_deptno :"),e("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{attrs:{class:"token boolean"}},[t._v("NULL")]),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),e("span",{attrs:{class:"token keyword"}},[t._v("END")]),t._v(" "),e("span",{attrs:{class:"token keyword"}},[t._v("IF")]),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),e("span",{attrs:{class:"token keyword"}},[t._v("CLOSE")]),t._v(" dept_cursor"),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),e("span",{attrs:{class:"token keyword"}},[t._v("RETURN")]),t._v(" found_deptno"),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n   "),e("span",{attrs:{class:"token keyword"}},[t._v("END")]),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n   \n   "),e("span",{attrs:{class:"token keyword"}},[t._v("FUNCTION")]),t._v(" find_employee"),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ename_to_find "),e("span",{attrs:{class:"token operator"}},[t._v("IN")]),t._v(" VARCHAR2"),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{attrs:{class:"token keyword"}},[t._v("RETURN")]),t._v(" NUMBER "),e("span",{attrs:{class:"token operator"}},[t._v("IS")]),t._v("\n      "),e("span",{attrs:{class:"token keyword"}},[t._v("CURSOR")]),t._v(" emp_cursor "),e("span",{attrs:{class:"token operator"}},[t._v("IS")]),t._v(" "),e("span",{attrs:{class:"token keyword"}},[t._v("SELECT")]),t._v(" empno "),e("span",{attrs:{class:"token keyword"}},[t._v("FROM")]),t._v(" emp "),e("span",{attrs:{class:"token keyword"}},[t._v("WHERE")]),t._v(" ename "),e("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" ename_to_find"),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      f_emp emp_cursor"),e("span",{attrs:{class:"token operator"}},[t._v("%")]),t._v("ROWTYPE"),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      found_empno emp"),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("empno"),e("span",{attrs:{class:"token operator"}},[t._v("%")]),e("span",{attrs:{class:"token keyword"}},[t._v("TYPE")]),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n   "),e("span",{attrs:{class:"token keyword"}},[t._v("BEGIN")]),t._v("\n      "),e("span",{attrs:{class:"token keyword"}},[t._v("OPEN")]),t._v(" emp_cursor"),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),e("span",{attrs:{class:"token keyword"}},[t._v("FETCH")]),t._v(" emp_cursor "),e("span",{attrs:{class:"token keyword"}},[t._v("INTO")]),t._v(" f_emp"),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),e("span",{attrs:{class:"token keyword"}},[t._v("IF")]),t._v(" emp_cursor"),e("span",{attrs:{class:"token operator"}},[t._v("%")]),t._v("FOUND "),e("span",{attrs:{class:"token keyword"}},[t._v("THEN")]),t._v("\n         found_empno :"),e("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" f_emp"),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("empno"),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),e("span",{attrs:{class:"token keyword"}},[t._v("ELSE")]),t._v("\n         found_empno :"),e("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{attrs:{class:"token boolean"}},[t._v("NULL")]),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),e("span",{attrs:{class:"token keyword"}},[t._v("END")]),t._v(" "),e("span",{attrs:{class:"token keyword"}},[t._v("IF")]),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),e("span",{attrs:{class:"token keyword"}},[t._v("CLOSE")]),t._v(" emp_cursor"),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),e("span",{attrs:{class:"token keyword"}},[t._v("RETURN")]),t._v(" found_empno"),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n   "),e("span",{attrs:{class:"token keyword"}},[t._v("END")]),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n   \n   "),e("span",{attrs:{class:"token keyword"}},[t._v("PROCEDURE")]),t._v(" create_new_employee"),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("new_empno "),e("span",{attrs:{class:"token operator"}},[t._v("IN")]),t._v(" NUMBER"),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" new_ename "),e("span",{attrs:{class:"token operator"}},[t._v("IN")]),t._v(" VARCHAR2"),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" new_job "),e("span",{attrs:{class:"token operator"}},[t._v("IN")]),t._v(" VARCHAR2"),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" \n         new_mgr "),e("span",{attrs:{class:"token operator"}},[t._v("IN")]),t._v(" VARCHAR2"),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" new_hiredate "),e("span",{attrs:{class:"token operator"}},[t._v("IN")]),t._v(" "),e("span",{attrs:{class:"token keyword"}},[t._v("DATE")]),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" new_sal "),e("span",{attrs:{class:"token operator"}},[t._v("IN")]),t._v(" NUMBER"),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" new_comm "),e("span",{attrs:{class:"token operator"}},[t._v("IN")]),t._v(" NUMBER"),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" \n         new_dept "),e("span",{attrs:{class:"token operator"}},[t._v("IN")]),t._v(" VARCHAR2"),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" new_dept_loc VARCHAR2"),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{attrs:{class:"token operator"}},[t._v("IS")]),t._v("\n      new_deptno dept"),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("deptno"),e("span",{attrs:{class:"token operator"}},[t._v("%")]),e("span",{attrs:{class:"token keyword"}},[t._v("TYPE")]),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n   "),e("span",{attrs:{class:"token keyword"}},[t._v("BEGIN")]),t._v("\n      new_deptno :"),e("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" find_department"),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("new_dept"),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),e("span",{attrs:{class:"token keyword"}},[t._v("IF")]),t._v(" new_deptno "),e("span",{attrs:{class:"token operator"}},[t._v("IS")]),t._v(" "),e("span",{attrs:{class:"token boolean"}},[t._v("NULL")]),t._v(" "),e("span",{attrs:{class:"token keyword"}},[t._v("THEN")]),t._v("\n         create_department"),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("new_dept"),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" new_dept_loc"),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n         new_deptno :"),e("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" last_deptno"),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),e("span",{attrs:{class:"token keyword"}},[t._v("END")]),t._v(" "),e("span",{attrs:{class:"token keyword"}},[t._v("IF")]),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),e("span",{attrs:{class:"token keyword"}},[t._v("INSERT")]),t._v(" "),e("span",{attrs:{class:"token keyword"}},[t._v("INTO")]),t._v(" emp "),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("empno"),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ename"),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" job"),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" mgr"),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" hiredate"),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" sal"),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" comm"),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" deptno"),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),e("span",{attrs:{class:"token keyword"}},[t._v("VALUES")]),t._v(" "),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("new_empno"),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" new_ename"),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" new_job"),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" find_employee"),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("new_mgr"),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" new_hiredate"),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" new_sal"),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" new_comm"),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" new_deptno"),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n   "),e("span",{attrs:{class:"token keyword"}},[t._v("END")]),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{attrs:{class:"token keyword"}},[t._v("END")]),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{attrs:{class:"token operator"}},[t._v("/")]),t._v("\n")])])]),e("h3",{attrs:{id:"editempproj-class"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#editempproj-class","aria-hidden":"true"}},[t._v("#")]),t._v(" EditEmpProj Class")]),e("div",{staticClass:"language-c++ extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Web;\n\nnamespace EditEmpProj\n{\n    public class Employee\n    {\n        public int EmpNo { get; set; }\n        public string Ename { get; set; }\n        public string Job { get; set; }\n        public int? Mgr { get; set; }\n        public DateTime Hiredate { get; set; }\n        public decimal Sal { get; set; }\n        public decimal? Comm { get; set; }\n        public int DeptNo { get; set; }\n\n        public Employee(int EmpNo, string Ename, string Job, int? Mgr, DateTime Hiredate, decimal Sal, decimal? Comm, int DeptNo)\n        {\n            this.EmpNo = EmpNo;\n            this.Ename = Ename;\n            this.Job = Job;\n            this.Mgr = Mgr;\n            this.Hiredate = Hiredate;\n            this.Sal = Sal;\n            this.Comm = Comm;\n            this.DeptNo = DeptNo;\n        }\n    }\n}\n")])])]),e("h3",{attrs:{id:"editempproj-dao"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#editempproj-dao","aria-hidden":"true"}},[t._v("#")]),t._v(" EditEmpProj DAO")]),e("div",{staticClass:"language-c++ extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Web;\nusing System.Data;\nusing System.Data.OracleClient;\n\nnamespace EditEmpProj\n{\n    public class EmployeeDAO\n    {\n        private string UserName { get; set; }\n        private string Password { get; set; }\n\n        public EmployeeDAO(string UserName, string Password)\n        {\n            this.UserName = UserName;\n            this.Password = Password;\n        }\n\n        // The code here is used by several of the procedures below.  Note that the\n        // SELECT statements used must include the SAME columns that are being read here.\n        private Employee FillFromDataRow(DataRow dr)\n        {\n            int empno = Convert.ToInt32(dr["empno"]);\n            string ename = Convert.ToString(dr["ename"]);\n            string job = Convert.ToString(dr["job"]);\n            DateTime hiredate = Convert.ToDateTime(dr["hiredate"]);\n            decimal sal = Convert.ToDecimal(dr["sal"]);\n            int deptno = Convert.ToInt32(dr["deptno"]);\n            int? mgr;\n            decimal? comm;\n            if (dr.IsNull("mgr"))\n                mgr = null;\n            else\n                mgr = Convert.ToInt32(dr["mgr"]);\n            if (dr.IsNull("comm"))\n                comm = null;\n            else\n                comm = Convert.ToDecimal(dr["comm"]);\n            return new Employee(empno, ename, job, mgr, hiredate, sal, comm, deptno);\n        }\n\n        public List<Employee> FillFromDataTable(DataTable dt)\n        {\n            List<Employee> employees = new List<Employee>();\n\n            foreach (DataRow dr in dt.Rows)\n            {\n                Employee employee = FillFromDataRow(dr);\n                employees.Add(employee);\n            }\n            return employees;\n        }\n\n        public List<Employee> LoadAll()\n        {\n            OracleConnection conn = new OracleConnection(String.Format("Data Source=Neptune; User Id={0}; Password={1}", UserName, Password));\n            OracleCommand cmd = new OracleCommand("SELECT empno, ename, job, mgr, hiredate, sal, comm, deptno FROM emp ORDER BY ename ASC", conn);\n            OracleDataAdapter da = new OracleDataAdapter(cmd);\n            DataTable dt = new DataTable();\n\n            da.Fill(dt);\n            return FillFromDataTable(dt);\n        }\n\n        public List<Employee> FindByDepartmentNo(int DeptNo)\n        {\n            OracleConnection conn = new OracleConnection(String.Format("Data Source=Neptune; User Id={0}; Password={1}", UserName, Password));\n            OracleCommand cmd = new OracleCommand("SELECT empno, ename, job, mgr, hiredate, sal, comm, deptno FROM emp WHERE deptno = :deptno ORDER BY ename ASC", conn);\n            OracleDataAdapter da = new OracleDataAdapter(cmd);\n            DataTable dt = new DataTable();\n\n            cmd.Parameters.AddWithValue(":deptno", DeptNo);\n            da.Fill(dt);\n            return FillFromDataTable(dt);\n        }\n\n        public Employee FindByEmployeeNo(int EmpNo)\n        {\n            OracleConnection conn = new OracleConnection(String.Format("Data Source=Neptune; User Id={0}; Password={1}", UserName, Password));\n            OracleCommand cmd = new OracleCommand("SELECT empno, ename, job, mgr, hiredate, sal, comm, deptno FROM emp WHERE empno = :empno", conn);\n            OracleDataAdapter da = new OracleDataAdapter(cmd);\n            DataTable dt = new DataTable();\n\n            cmd.Parameters.AddWithValue(":empno", EmpNo);\n            da.Fill(dt);\n\n            if (dt.Rows.Count > 0)\n            {\n                DataRow dr = dt.Rows[0];\n                Employee employee = FillFromDataRow(dr);\n                return employee;\n            }\n            else\n                return null;\n        }\n\n        public void SaveEmployee(Employee employee)\n        {\n            OracleConnection conn = new OracleConnection(String.Format("Data Source=Neptune; User Id={0}; Password={1}", UserName, Password));\n            OracleCommand cmd = new OracleCommand("UPDATE_EMPLOYEE", conn);\n\n            cmd.CommandType = CommandType.StoredProcedure;\n            cmd.Parameters.AddWithValue("pEmpno", employee.EmpNo);\n            cmd.Parameters.AddWithValue("pEname", employee.Ename);\n            cmd.Parameters.AddWithValue("pJob", employee.Job);\n\n            if (employee.Mgr.HasValue)\n                cmd.Parameters.AddWithValue("pMgr", employee.Mgr.Value);\n            else\n                cmd.Parameters.AddWithValue("pMgr", DBNull.Value);\n            cmd.Parameters.AddWithValue("pHiredate", employee.Hiredate);\n            cmd.Parameters.AddWithValue("pSal", employee.Sal);\n            if (employee.Comm.HasValue)\n                cmd.Parameters.AddWithValue("pComm", employee.Comm.Value);\n            else\n                cmd.Parameters.AddWithValue("pComm", DBNull.Value);\n            cmd.Parameters.AddWithValue("pDeptno", employee.DeptNo);\n\n            conn.Open();\n            try\n            {\n                cmd.ExecuteNonQuery();\n            }\n            finally\n            {\n                conn.Close();\n            }\n        }\n\n        public void CreateEmployee(int EmpNo, string Ename, string Job, string Mname, DateTime Hiredate, decimal Sal, decimal? Comm, string Dname, string Loc)\n        {\n            OracleConnection conn = new OracleConnection(String.Format("Data Source=Neptune; User Id={0}; Password={1}", UserName, Password));\n            OracleCommand cmd = new OracleCommand("emp_dept_package.create_new_employee", conn);\n            OracleCommand cmdFindDept = new OracleCommand("emp_dept_package.find_department", conn);\n\n            cmdFindDept.CommandType = CommandType.StoredProcedure;\n            cmdFindDept.Parameters.AddWithValue("dname_to_find", Dname);\n            cmdFindDept.Parameters.Add("found_deptno", OracleType.Int32).Direction = ParameterDirection.ReturnValue;\n\n            conn.Open();\n            try\n            {\n                if (null == Loc)\n                {\n                    cmdFindDept.ExecuteNonQuery();\n                    if (Convert.IsDBNull(cmdFindDept.Parameters["found_deptno"].Value))\n                        throw new ArgumentException("Invalid Department Location");\n                }\n\n                cmd.CommandType = CommandType.StoredProcedure;\n                cmd.Parameters.AddWithValue("new_empno", EmpNo);\n                cmd.Parameters.AddWithValue("new_ename", Ename.ToUpper());\n                cmd.Parameters.AddWithValue("new_job", Job.ToUpper());\n\n                cmd.Parameters.AddWithValue("new_mgr", Mname.ToUpper()); // A "" value will be interpreted as NULL in Oracle\n                cmd.Parameters.AddWithValue("new_hiredate", Hiredate);\n                cmd.Parameters.AddWithValue("new_sal", Sal);\n                if (Comm.HasValue)\n                    cmd.Parameters.AddWithValue("new_comm", Comm.Value);\n                else\n                    cmd.Parameters.AddWithValue("new_comm", DBNull.Value);\n                cmd.Parameters.AddWithValue("new_dept", Dname.ToUpper());\n                cmd.Parameters.AddWithValue("new_dept_loc", Loc.ToUpper()); // A "" value will be interpreted as NULL in Oracle\n                cmd.ExecuteNonQuery(); // Transaction is committed automatically (Auto Commit mode)\n            }\n            finally\n            {\n                conn.Close();\n            }\n        }\n    }\n}\n')])])]),e("h3",{attrs:{id:"department-class"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#department-class","aria-hidden":"true"}},[t._v("#")]),t._v(" Department Class")]),e("div",{staticClass:"language-c++ extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Web;\n\nnamespace EditEmpProj\n{\n    public class Department\n    {\n        public int DeptNo { get; set; }\n        public string Dname { get; set; }\n        public string Loc { get; set; }\n\n        public Department(int Deptno, string Dname, string Loc)\n        {\n            this.DeptNo = Deptno;\n            this.Dname = Dname;\n            this.Loc = Loc;\n        }\n    }\n}\n")])])]),e("h3",{attrs:{id:"departmemt-dao"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#departmemt-dao","aria-hidden":"true"}},[t._v("#")]),t._v(" Departmemt DAO")]),e("div",{staticClass:"language-c++ extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Web;\nusing System.Data;\nusing System.Data.OracleClient;\n\nnamespace EditEmpProj\n{\n    public class DepartmentDAO\n    {\n        private string UserName { get; set; }\n        private string Password { get; set; }\n\n        public DepartmentDAO(string UserName, string Password)\n        {\n            this.UserName = UserName;\n            this.Password = Password;\n        }\n\n        public List<Department> LoadAll()\n        {\n            OracleConnection conn = new OracleConnection(String.Format("Data Source=Neptune; User Id={0}; Password={1}", UserName, Password));\n            OracleCommand cmd = new OracleCommand("SELECT deptno, dname, loc FROM dept", conn);\n            OracleDataAdapter da = new OracleDataAdapter(cmd);\n            DataTable dt = new DataTable();\n            List<Department> departments = new List<Department>();\n\n            da.Fill(dt);\n\n            foreach(DataRow dr in dt.Rows)\n            {\n                int deptno = Convert.ToInt32(dr["deptno"]);\n                string dname = Convert.ToString(dr["dname"]);\n                string loc = Convert.ToString(dr["loc"]);\n                departments.Add(new Department(deptno, dname, loc));\n            }\n            return departments;\n        }\n\n        public List<DepartmentInfo> LoadAllDepartmentInfo()\n        {\n            OracleConnection conn = new OracleConnection(String.Format("Data Source=Neptune; User Id={0}; Password={1}", UserName, Password));\n            OracleCommand cmd = new OracleCommand("SELECT deptno, dname, num_emps FROM emp_per_dept", conn);\n            OracleDataAdapter da = new OracleDataAdapter(cmd);\n            DataTable dt = new DataTable();\n            List<DepartmentInfo> deptinfos = new List<DepartmentInfo>();\n\n            da.Fill(dt);\n\n            foreach (DataRow dr in dt.Rows)\n            {\n                int deptno = Convert.ToInt32(dr["deptno"]);\n                string dname = Convert.ToString(dr["dname"]);\n                int numemps = Convert.ToInt32(dr["num_emps"]);\n                deptinfos.Add(new DepartmentInfo(deptno, dname, numemps));\n            }\n            return deptinfos;\n        }\n\n        public bool DeleteDepartment(int DeptNo)\n        {\n            OracleConnection conn = new OracleConnection(String.Format("Data Source=Neptune; User Id={0}; Password={1}", UserName, Password));\n            OracleCommand cmdDeleteEmployees = new OracleCommand("DELETE FROM emp WHERE deptno = :deptno", conn);\n            OracleCommand cmdDeleteDepartment = new OracleCommand("DELETE FROM dept WHERE deptno = :deptno", conn);\n            OracleTransaction trans;\n\n            cmdDeleteEmployees.Parameters.AddWithValue(":deptno", DeptNo);\n            cmdDeleteDepartment.Parameters.AddWithValue(":deptno", DeptNo);\n\n            // Use transaction processing to make sure employees and department are deleted as part of the same transaction\n            // Note that employees in the department cannot be deleted if there is an employee who is a manager to other employees outside of the department\n            conn.Open();\n            trans = conn.BeginTransaction();\n            cmdDeleteEmployees.Transaction = trans;\n            cmdDeleteDepartment.Transaction = trans;\n            try\n            {\n                cmdDeleteEmployees.ExecuteNonQuery();\n                cmdDeleteDepartment.ExecuteNonQuery();\n                trans.Commit();\n                return true;\n            }\n            catch (Exception)\n            {\n                trans.Rollback();\n                return false;\n            }\n            finally\n            {\n                if (conn.State == ConnectionState.Open)\n                    conn.Close();\n            }\n        }\n    }\n}\n')])])]),e("h3",{attrs:{id:"home-page"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#home-page","aria-hidden":"true"}},[t._v("#")]),t._v(" Home Page")]),e("div",{staticClass:"language-c++ extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Web;\nusing System.Web.UI;\nusing System.Web.UI.WebControls;\n\nnamespace EditEmpProj\n{\n    public partial class Home : BasePage\n    {\n        protected void Page_Load(object sender, EventArgs e)\n        {\n            if (!IsPostBack)\n            {\n                GetEmployeesData();\n                GetDepartmentsData();\n            }\n        }\n\n        protected void gvEmployees_RowCommand(object sender, GridViewCommandEventArgs e)\n        {\n            if ("EDIT" == e.CommandName)\n            {\n                int index = Convert.ToInt32(e.CommandArgument); // The row of the button that was clicked\n                int empno = Convert.ToInt32(gvEmployees.Rows[index].Cells[1].Text); // Get the employee number from the second column of the grid view\n                Response.Redirect(String.Format("~/EditEmployee.aspx?empno={0}", empno)); // Redirect using a URL-encoded parameter (?empno=value).\n            }\n        }\n\n        protected void btnLogout_Click(object sender, EventArgs e)\n        {\n            Session.Abandon();\n            Response.Redirect("~/Home.aspx");\n        }\n\n        private void GetEmployeesData()\n        {\n            LoginInfo login = (LoginInfo)Session["login"];\n            EmployeeDAO employeeDAO = new EmployeeDAO(login.UserName, login.Password);\n\n            gvEmployees.DataSource = employeeDAO.LoadAll();\n            gvEmployees.DataBind();\n        }\n\n        private void GetDepartmentsData()\n        {\n            LoginInfo login = (LoginInfo)Session["login"];\n            DepartmentDAO departmentDAO = new DepartmentDAO(login.UserName, login.Password);\n\n            gvDepartments.DataSource = departmentDAO.LoadAllDepartmentInfo();\n            gvDepartments.Columns[0].Visible = true; // Make sure the department number column is visible for binding so column will get a value\n            gvDepartments.DataBind();\n            gvDepartments.Columns[0].Visible = false; // Hide the department number column AFTER binding so column value will be present for RowCommand\n        }\n\n        protected void gvDepartments_RowCommand(object sender, GridViewCommandEventArgs e)\n        {\n            if ("DELETE" == e.CommandName)\n            {\n                LoginInfo login = (LoginInfo)Session["login"];\n                DepartmentDAO departmentDAO = new DepartmentDAO(login.UserName, login.Password);\n\n                int index = Convert.ToInt32(e.CommandArgument); // The row of the button that was clicked\n                int deptno = Convert.ToInt32(gvDepartments.Rows[index].Cells[0].Text); // Get the department number from the first (hidden) column of the grid view\n\n                if (departmentDAO.DeleteDepartment(deptno))\n                {\n                    // Must reload grid data to show employees and department have been deleted\n                    GetEmployeesData();\n                    GetDepartmentsData();\n                }\n                else\n                    lblNoDelete.Visible = true;\n            }\n        }\n\n        protected void gvDepartments_RowDeleting(object sender, GridViewDeleteEventArgs e)\n        {\n\n        }\n    }\n}\n')])])]),e("p",[e("img",{attrs:{src:"https://i.imgur.com/0XKvtbn.png",alt:"Screen Shot 2018-08-16 at 11.37.48 AM"}})]),e("h3",{attrs:{id:"sys-refcursor"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#sys-refcursor","aria-hidden":"true"}},[t._v("#")]),t._v(" SYS_REFCURSOR")]),e("p",[t._v("To create a SYS_REFCURSOR, define a SYS_REFCURSOR variable and then OPEN a SELECT statement for that cursor. E.g.")]),e("div",{staticClass:"language-c++ extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("my_cursor SYS_REFCURSOR -- In the declarations section\nBEGIN\n   OPEN my_cursor FOR SELECT empno, ename, sal, job, deptno FROM emp ORDER BY ename ASC;\n   Return my_cursor;\nEND;\n")])])]),e("p",[t._v("Notice in the above example that the cursor is opened but not closed. The active cursor is returned to the ASP.NET program. There, an OracleDataReader object is created using the cursor to read the results.")]),e("div",{staticClass:"language-c++ extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('Dim cmd As New OracleCommand("emp_dept_package.get_employees", conn) \' Where conn is the OracleConnection object\nDim dr As OracleDataReader\n\ncmd.CommandType = CommandType.StoredProcedure\ncmd.Parameters.Add("emp_cursor", OracleType.Cursor).Direction = ParameterDirection.ReturnValue\nconn.Open()\ncmd.ExecuteNonQuery()\n\ndr = cmd.ExecuteReader(CommandBehavior.CloseConnection)\n')])])]),e("p",[t._v("A data grid can be filled from the OracleDataReader in much the same way it was filled from the DataTable. That is")]),e("div",{staticClass:"language-c++ extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("gv.DataSource = dr ' Where gv is the GridView control\ngv.DataBind()\ndr.Close() ' Also closes connection thanks to CommandBehaviour.CloseConnection\n")])])]),e("p",[t._v("If OUT parameters are used, then multiple cursors can be returned from a stored procedure or function.")])])}],!1,null,null,null);n.default=s.exports}}]);
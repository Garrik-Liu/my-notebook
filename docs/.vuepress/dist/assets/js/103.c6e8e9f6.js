(window.webpackJsonp=window.webpackJsonp||[]).push([[103],{313:function(v,_,l){"use strict";l.r(_);var s=l(0),t=Object(s.a)({},(function(){var v=this,_=v.$createElement,l=v._self._c||_;return l("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[l("h1",{attrs:{id:"jsp"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#jsp"}},[v._v("#")]),v._v(" JSP")]),v._v(" "),l("h2",{attrs:{id:"jsp-介绍"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#jsp-介绍"}},[v._v("#")]),v._v(" JSP 介绍")]),v._v(" "),l("p",[l("strong",[v._v("什么是 JSP")]),v._v("：")]),v._v(" "),l("ul",[l("li",[v._v("JSP（Java Server Pages）- Java 服务器页面；")]),v._v(" "),l("li",[v._v("它在 HTML 文件中插入 Java 程序段和 JSP 标记；")]),v._v(" "),l("li",[v._v("后缀名为 "),l("code",[v._v(".jsp")]),v._v("；")]),v._v(" "),l("li",[v._v("可以视为一个简化的 Servlet 设计；")])]),v._v(" "),l("p",[l("strong",[v._v("为什么要有 JSP")]),v._v("：")]),v._v(" "),l("ul",[l("li",[v._v("直接使用 HTML 文件没有办法输出 Java 当中的信息；")]),v._v(" "),l("li",[v._v("使用 Servlet 来输出一个页面非常的麻烦；")]),v._v(" "),l("li",[v._v("通过 JSP，既可以写 HTML，也可以写 Java 代码；")])]),v._v(" "),l("p",[l("strong",[v._v("JSP 的工作原理")]),v._v("：")]),v._v(" "),l("ul",[l("li",[v._v("JSP 的本质就是 Servlet；")]),v._v(" "),l("li",[v._v("浏览器向服务器请求一个 JSP 文件；")]),v._v(" "),l("li",[v._v("服务器收到后，会调用 JspServlet 来把 JSP 文件翻译成对应的 Servlet；")]),v._v(" "),l("li",[v._v("之后调用 Servlet，对浏览器进行响应；")]),v._v(" "),l("li",[v._v("翻译好的文件，会被放到 Tomcat 服务器下的 "),l("code",[v._v("work")]),v._v(" 目录；")])]),v._v(" "),l("p",[l("img",{attrs:{src:"https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-2-4-19-20-5.png",alt:"2020-2-4-19-20-5.png"}})]),v._v(" "),l("p",[l("strong",[v._v("JSP 的组成部分")]),v._v("：")]),v._v(" "),l("ul",[l("li",[v._v("静态数据（写死的内容）；")]),v._v(" "),l("li",[v._v("JSP 脚本元素 & 变量；")]),v._v(" "),l("li",[v._v("JSP 指令；")]),v._v(" "),l("li",[v._v("JSP 标签动作；")]),v._v(" "),l("li",[v._v("用户自定义标签；")])]),v._v(" "),l("h2",{attrs:{id:"jsp-脚本元素-变量"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#jsp-脚本元素-变量"}},[v._v("#")]),v._v(" JSP 脚本元素 & 变量")]),v._v(" "),l("p",[l("strong",[v._v("在 JSP 当中写 Java 代码")]),v._v("：")]),v._v(" "),l("ul",[l("li",[l("code",[v._v("<% java 代码 %>")]),v._v("：里面的 Java 代码会被翻译到 "),l("code",[v._v("service")]),v._v(" 方法内部；")]),v._v(" "),l("li",[l("code",[v._v("<%= java 变量或表达式 %>")]),v._v("：会被翻译到 "),l("code",[v._v("service")]),v._v(" 方法内部，并且用 "),l("code",[v._v("out.print()")]),v._v(" 方法打印到页面中；")]),v._v(" "),l("li",[l("code",[v._v("<%! java 代码 %>")]),v._v("：会被翻译成 Servlet 的成员内容；")])]),v._v(" "),l("p",[l("img",{attrs:{src:"https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-2-4-19-34-20.png",alt:"2020-2-4-19-34-20.png"}})]),v._v(" "),l("p",[l("img",{attrs:{src:"https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-2-4-19-34-28.png",alt:"2020-2-4-19-34-28.png"}})]),v._v(" "),l("p",[l("strong",[v._v("注释")]),v._v("：")]),v._v(" "),l("ul",[l("li",[v._v("HTML 注释："),l("code",[v._v("\x3c!-- 注释内容 --\x3e")]),v._v(" "),l("ul",[l("li",[v._v("可见范围：\n"),l("ul",[l("li",[v._v("JSP 源码；")]),v._v(" "),l("li",[v._v("翻译后的 Servlet；")]),v._v(" "),l("li",[v._v("响应给浏览器的 HTML 页面；")])])])])]),v._v(" "),l("li",[v._v("Java 注释："),l("code",[v._v("// 单行注释")]),v._v(" "),l("code",[v._v("/* 多行注释 */")]),v._v(" "),l("ul",[l("li",[v._v("可见范围：\n"),l("ul",[l("li",[v._v("JSP 源码；")]),v._v(" "),l("li",[v._v("翻译后的 Servlet；")])])])])]),v._v(" "),l("li",[v._v("JSP 注释："),l("code",[v._v("<%--注释内容--%>")]),v._v(" "),l("ul",[l("li",[v._v("可见范围：\n"),l("ul",[l("li",[v._v("JSP 源码；")])])])])])]),v._v(" "),l("h2",{attrs:{id:"jsp-指令"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#jsp-指令"}},[v._v("#")]),v._v(" JSP 指令")]),v._v(" "),l("p",[l("strong",[v._v("指令做什么用")]),v._v("：")]),v._v(" "),l("ul",[l("li",[v._v("设置整个 JSP 页面的相关信息；")]),v._v(" "),l("li",[v._v("和其他 JSP 容器之间通信；")]),v._v(" "),l("li",[v._v("指令写在 "),l("code",[v._v("<%@ %>")]),v._v(" 标签之中；")])]),v._v(" "),l("p",[l("strong",[v._v("page 指令")]),v._v("：")]),v._v(" "),l("ul",[l("li",[v._v("用于设置整个 JSP 页面的属性和相关功能；")]),v._v(" "),l("li",[v._v("page 指令共有 11 个属性；\n"),l("ul",[l("li",[v._v("contentType：指定响应回的 HTML 页面的 MIME 和编码格式；")]),v._v(" "),l("li",[v._v("pageEncoding：指定 JSP 文件的编码格式 （ISO-8859, UTF-8）；")]),v._v(" "),l("li",[v._v("import：在 JSP 中引入 Java 的包和类，多个包之间用逗号隔开；")]),v._v(" "),l("li",[v._v("session：指定当前页面是否能获得当前用户的 session 对象；")]),v._v(" "),l("li",[v._v("errorPage：如果页面发生异常，会重定向到 errorPage 所指向的页面；")]),v._v(" "),l("li",[v._v("isErrorPage：允许指定的 JSP 页面为错误处理页面；")]),v._v(" "),l("li",[v._v("language：指定页面中使用的编程语言类型，目前只支持 Java；")]),v._v(" "),l("li",[v._v("extends：指定 JSP 生成的 Servlet 继承哪个类；")]),v._v(" "),l("li",[v._v("buffer：设置输出流缓冲区；")]),v._v(" "),l("li",[v._v("autoFlush：当输出流缓冲区满了的时候，是否自动刷新缓冲区；")]),v._v(" "),l("li",[v._v("isThreadSafe：指定该 JSP 文件是否支持多线程访问；")]),v._v(" "),l("li",[v._v("info：设置该 JSP 文件的介绍信息；")]),v._v(" "),l("li",[v._v("isElIgnored：标识是否支持 EL 表达式；")])])]),v._v(" "),l("li",[v._v("多个属性之间使用空格隔开；")])]),v._v(" "),l("p",[l("img",{attrs:{src:"https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-2-4-19-44-54.png",alt:"2020-2-4-19-44-54.png"}})]),v._v(" "),l("p",[l("strong",[v._v("include 指令")]),v._v("：")]),v._v(" "),l("ul",[l("li",[v._v("在 JSP 编译时插入一个包含文件，或者代码片段；")]),v._v(" "),l("li",[v._v("include 指令所包含的文件名不能是一个变量，只能是静态的文件名；")]),v._v(" "),l("li",[l("code",[v._v('<%@ include file="/header.jsp"%>')])]),v._v(" "),l("li",[v._v("静态包含：通过 "),l("code",[v._v('<%@ include file="" %>')]),v._v(" 标签引入；")]),v._v(" "),l("li",[v._v("动态包含：通过 "),l("code",[v._v('<jsp:include page=""></jsp:include>')]),v._v(" 标签引入；")])]),v._v(" "),l("p",[l("img",{attrs:{src:"https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-2-4-20-10-7.png",alt:"2020-2-4-20-10-7.png"}})]),v._v(" "),l("p",[l("strong",[v._v("taglib 指令")]),v._v("：")]),v._v(" "),l("ul",[l("li",[v._v("声明 JSP 文件使用了哪些标签库；")]),v._v(" "),l("li",[v._v("有哪些标签库：\n"),l("ul",[l("li",[v._v("JSP 标准标签库；")]),v._v(" "),l("li",[v._v("第三方标签库；")]),v._v(" "),l("li",[v._v("自定义标签库；")])])])]),v._v(" "),l("h2",{attrs:{id:"jsp-标签动作"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#jsp-标签动作"}},[v._v("#")]),v._v(" JSP 标签动作")]),v._v(" "),l("ul",[l("li",[v._v("动态包含：通过 "),l("code",[v._v('<jsp:include page=""></jsp:include>')]),v._v(" 标签引入其他 JSP 文件；")]),v._v(" "),l("li",[v._v("请求转发："),l("code",[v._v('<jsp:forward page=""></jsp:forward>')]),v._v(" 标签将请求转发给其他 JSP，但是浏览器地址栏 URL 不变；")])]),v._v(" "),l("h2",{attrs:{id:"隐式对象"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#隐式对象"}},[v._v("#")]),v._v(" 隐式对象")]),v._v(" "),l("ul",[l("li",[v._v("JSP 被翻译成 Servlet 之后， service 方法中已经定义好了 9 个对象，并且初始化完毕，可以直接使用；")]),v._v(" "),l("li",[v._v("out：写东西到 out 缓冲区，然后响应给客户端；")]),v._v(" "),l("li",[v._v("request：客户端发来的请求对象；")]),v._v(" "),l("li",[v._v("response：服务器向客户端的响应对象；")]),v._v(" "),l("li",[v._v("config：服务器配置对象；")]),v._v(" "),l("li",[v._v("session：session 会话信息；")]),v._v(" "),l("li",[v._v("application：所有用户的共享信息，也就是 ServletContext；")]),v._v(" "),l("li",[v._v("page：翻译成的 Servlet 的实例对象；")]),v._v(" "),l("li",[v._v("pageContext：\n"),l("ul",[l("li",[v._v("是一个域对象；")]),v._v(" "),l("li",[v._v("可以像其他域中存取数据：")]),v._v(" "),l("li",[l("img",{attrs:{src:"https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-2-4-20-38-49.png",alt:"2020-2-4-20-38-49.png"}})])])]),v._v(" "),l("li",[v._v("exception：表示 JSP 页面所发生的的异常，在错误页面才起作用；")])]),v._v(" "),l("p",[l("img",{attrs:{src:"https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-2-4-20-29-13.png",alt:"2020-2-4-20-29-13.png"}})]),v._v(" "),l("p",[l("strong",[v._v("关于 out 对象的注意点")]),v._v("：")]),v._v(" "),l("ul",[l("li",[v._v("out 写东西到 out 缓冲区；")]),v._v(" "),l("li",[v._v("response 写东西到 response 缓冲区；")]),v._v(" "),l("li",[v._v("最后响应时，out 缓冲区会拼接到 response 缓冲区后面；")])]),v._v(" "),l("p",[l("img",{attrs:{src:"https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-2-4-20-36-15.png",alt:"2020-2-4-20-36-15.png"}})]),v._v(" "),l("h2",{attrs:{id:"el-表达式"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#el-表达式"}},[v._v("#")]),v._v(" EL 表达式")]),v._v(" "),l("ul",[l("li",[v._v("EL（Express Lanuage）表达式可以嵌入在 jsp 页面内部；")]),v._v(" "),l("li",[v._v("可以减少 jsp 脚本的编写量；")]),v._v(" "),l("li",[v._v("语法："),l("code",[v._v("${EL表达式}")]),v._v("；")]),v._v(" "),l("li",[v._v("通过 EL 表达式可以获得四大域中的数据：\n"),l("ul",[l("li",[v._v("pageContext："),l("code",[v._v("${pageScope.key}")]),v._v("；")]),v._v(" "),l("li",[v._v("request："),l("code",[v._v("${requestScope.key}")]),v._v("；")]),v._v(" "),l("li",[v._v("session："),l("code",[v._v("${sessionScope.key}")]),v._v("；")]),v._v(" "),l("li",[v._v("application："),l("code",[v._v("${applicationScope.key}")]),v._v("；")])])]),v._v(" "),l("li",[v._v("EL 有内置对象 pageContext：\n"),l("ul",[l("li",[v._v("pageContext 可以获得其他八大对象；")]),v._v(" "),l("li",[v._v("通过 "),l("code",[v._v("${pageContext.request.contextPath}")]),v._v(" 可以获得当前项目的名称；")]),v._v(" "),l("li",[v._v("这样发送 form 表达，写 action 的路径时，就不用把项目名写死了；")])])]),v._v(" "),l("li",[v._v("EL 执行表达式：\n"),l("ul",[l("li",[v._v("可以在内部进行运算，然后返回结果；")]),v._v(" "),l("li",[v._v("🌰 例如："),l("code",[v._v("${1+1}")])]),v._v(" "),l("li",[l("code",[v._v("${empty xxxx}")]),v._v("：\n"),l("ul",[l("li",[v._v("判断后面的 xxxx 是否为空，不为空就返回 true，否则返回 false；")]),v._v(" "),l("li",[v._v("等价于 "),l("code",[v._v("${xxxx == null ? true : false}")])])])])])])]),v._v(" "),l("h2",{attrs:{id:"jslt"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#jslt"}},[v._v("#")]),v._v(" JSLT")]),v._v(" "),l("ul",[l("li",[v._v("JSTL（JSP Standard Tag Library)，JSP 标准标签库")]),v._v(" "),l("li",[v._v("可以嵌入在 jsp 页面中使用标签的形式完成业务逻辑等功能")]),v._v(" "),l("li",[v._v("JSTL 出现的目的同 EL 一样也是要代替 JSP 页面中的脚本代码")]),v._v(" "),l("li",[v._v("JSTL 标准标签库有 5 个子库\n"),l("ul",[l("li",[v._v("Core :核心库\n"),l("ul",[l("li",[v._v("http://java.sun.com/jsp/jstl/core")]),v._v(" "),l("li",[v._v("前缀：c")])])]),v._v(" "),l("li",[v._v("I18N：国际化库\n"),l("ul",[l("li",[v._v("http://java.sun.com/jsp/jstl/fmt")]),v._v(" "),l("li",[v._v("前缀：fmt")])])]),v._v(" "),l("li",[v._v("SQL\n"),l("ul",[l("li",[v._v("http://java.sun.com/jsp/jstl/sql")]),v._v(" "),l("li",[v._v("前缀：sql")])])]),v._v(" "),l("li",[v._v("XML\n"),l("ul",[l("li",[v._v("http://java.sun.com/jsp/jstl/xml")]),v._v(" "),l("li",[v._v("前缀：x")])])]),v._v(" "),l("li",[v._v("Functions\n"),l("ul",[l("li",[v._v("http://java.sun.com/jsp/jstl/functions")]),v._v(" "),l("li",[v._v("前缀：fn")])])])])]),v._v(" "),l("li",[v._v("使用 JSTL:\n"),l("ul",[l("li",[v._v("把 JSTL 标签库 jar 包引入工程当中：\n"),l("ul",[l("li",[l("img",{attrs:{src:"https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-2-5-0-39-8.png",alt:"2020-2-5-0-39-8.png"}})])])]),v._v(" "),l("li",[v._v("在 JSP 文件头部引入标签库 "),l("code",[v._v('<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>')])])])])]),v._v(" "),l("p",[l("strong",[v._v("if 标签")]),v._v("：")]),v._v(" "),l("div",{staticClass:"language-jsp extra-class"},[l("pre",{pre:!0,attrs:{class:"language-text"}},[l("code",[v._v('<c:if test="${ 判断表达式 }">\n  满足条件时，中间的内容才会显示出来\n</c:if>\n')])])]),l("p",[v._v("一般结合 EL 表达式一起使用，用 EL 从域中取数据，使用 JSTL 进行判断或者遍历：")]),v._v(" "),l("div",{staticClass:"language-jsp extra-class"},[l("pre",{pre:!0,attrs:{class:"language-text"}},[l("code",[v._v('<%\n  request.setAttribute("money", 3);\n  <c:if test="${money > 50}">\n    余额大于 50\n  </c:if>\n  <c:if test="${money < 50}">\n    余额小于 50\n  </c:if>\n%>\n')])])]),l("p",[l("strong",[v._v("foreach 标签")]),v._v("：")]),v._v(" "),l("ul",[l("li",[v._v("普通循环：\n"),l("ul",[l("li",[l("img",{attrs:{src:"https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-2-5-0-17-10.png",alt:"2020-2-5-0-17-10.png"}})])])]),v._v(" "),l("li",[v._v("遍历字符串集合：\n"),l("ul",[l("li",[l("img",{attrs:{src:"https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-2-5-0-17-1.png",alt:"2020-2-5-0-17-1.png"}})])])]),v._v(" "),l("li",[v._v("遍历对象集合：\n"),l("ul",[l("li",[l("img",{attrs:{src:"https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-2-5-0-17-39.png",alt:"2020-2-5-0-17-39.png"}})])])])])])}),[],!1,null,null,null);_.default=t.exports}}]);
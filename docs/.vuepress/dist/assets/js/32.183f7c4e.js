(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{272:function(t,e,s){"use strict";s.r(e);var a=s(0),n=Object(a.a)({},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[t._m(0),s("p",[s("a",{attrs:{href:"https://docs.mongodb.com/manual/core/document/",target:"_blank",rel:"noopener noreferrer"}},[t._v("文档"),s("OutboundLink")],1)]),t._m(1),s("p",[t._v("MongoDB 是一个基于分布式文件存储的数据库.\n属于 NoSql (非关系型数据库) 的一种\n旨在为 WEB 应用提供可扩展的高性能数据存储解决方案。")]),s("p",[t._v("MongoDB 是一个介于关系数据库和非关系数据库之间的产品")]),s("p",[t._v("MongoDB 将数据存储为一个文档，数据结构由键值(key => value)对组成。MongoDB 文档类似于 JSON 对象。字段值可以包含其他文档，数组及文档数组。")]),t._m(2),t._m(3),t._m(4),t._m(5),s("p",[t._v("在 MongoDB 中，多个文档组成集合，而多个集合可以组成数据库")]),s("p",[t._v("在 mongodb 中可以建立多个数据库。每个数据库都有独立的权限，即便是在磁盘上，不同的数据库也放置在不同的文件中。按照经验，我们将有关一个应用程序的所有数据都存储在同一个数据库中。要想在同一个MongoDB服务器上存放多个应用程序或者用户的数据，就需要使用不同的数据库。")]),s("p",[t._v('MongoDB 的默认数据库为 "db"，该数据库存储在 data 目录中。')]),t._m(6),s("p",[t._v("数据库名可以是满足以下条件的任意 UTF-8 字符串:")]),t._m(7),s("p",[t._v("记住一点，数据库最终会变成文件系统里的文件，而数据库名就是相应的文件名")]),s("p",[t._v("有一些数据库名是保留的，可以直接访问这些有特殊作用的数据库:")]),t._m(8),t._m(9),t._m(10),t._m(11),t._m(12),t._m(13),t._m(14),t._m(15),t._m(16),t._m(17),t._m(18),s("p",[t._v("刚创建的数据库并不在数据库的列表中, 要显示它，我们需要向数据库插入一些数据。")]),t._m(19),t._m(20),t._m(21),t._m(22),s("p",[t._v("集合就是一组文档，如果将MongoDB中的一个文档比喻为关系型数据库中的一行，那么一个集合就相当于一张表。")]),s("p",[t._v("集合存在于数据库中，集合没有固定的结构，一个集合里面的文档可以是各式各样的，这被称为 『 动态模式 』")]),s("p",[t._v("实例:")]),t._m(23),s("p",[t._v("虽然 MongoDB 对集合中的文档类型没有要求, 但通常情况下我们插入集合的数据都会有一定的关联性.  这么做有如下几个原因:")]),t._m(24),s("p",[t._v("当第一个文档插入时，集合就会被创建。")]),t._m(25),t._m(26),t._m(27),t._m(28),s("p",[t._v("在 MongoDB 中，使用子集合来组织数据非常高效，值得推荐。")]),t._m(29),t._m(30),t._m(31),t._m(32),t._m(33),t._m(34),t._m(35),t._m(36),s("p",[t._v("在插入文档时，MongoDB 首先检查固定集合的 size 字段，然后检查 max 字段。")]),t._m(37),s("p",[t._v("在 MongoDB 中，你不需要创建集合。当你插入一些文档时，MongoDB 会自动创建集合。")]),s("p",[t._v("语法:")]),t._m(38),s("p",[t._v("实例:")]),t._m(39),t._m(40),s("p",[t._v("语法:")]),t._m(41),s("p",[t._v("\b实例:")]),t._m(42),t._m(43),t._m(44),s("p",[t._v("文档是 MongoDB 的核心概念。文档就是键值对的一个有序集.")]),s("p",[t._v("文档的数据结构和 JSON 基本一样。所有存储在集合中的数据都是 BSON 格式。")]),s("p",[t._v("BSON 是一种类似于 JSON 的二进制形式的存储格式, 简称 Binary JSON。")]),s("p",[t._v("\b实例:")]),t._m(45),t._m(46),s("p",[t._v("文档中的值可以是多种不同的数据类型.  在一个集合中各个文档不需要设置相同的字段，并且相同的字段不需要相同的数据类型.")]),s("p",[t._v("MongoDB 区分类型和大小写. 例如，下面的两个文档是不同的：")]),t._m(47),t._m(48),t._m(49),t._m(50),t._m(51),t._m(52),s("p",[t._v("\b语法:")]),t._m(53),s("p",[t._v("插入文档到 col 集合中:")]),s("p",[t._v("\b实例:")]),t._m(54),s("p",[t._v("也可以将文档定义为一个变量:")]),s("p",[t._v("\b实例:")]),t._m(55),t._m(56),s("p",[t._v("\b语法:")]),t._m(57),s("p",[t._v("\b实例:")]),t._m(58),t._m(59),t._m(60),t._m(61),s("p",[t._v("\b语法:")]),t._m(62),t._m(63),s("p",[t._v("\b实例:")]),t._m(64),t._m(65),s("p",[t._v("语法:")]),t._m(66),t._m(67),s("p",[t._v("实例:")]),t._m(68),t._m(69),t._m(70),t._m(71),s("p",[t._v("语法:")]),t._m(72),t._m(73),s("p",[t._v("实例\b:")]),t._m(74),t._m(75),t._m(76),s("p",[t._v("实例:")]),t._m(77),s("p",[t._v("删除所有数据，可以使用以下方式:")]),s("p",[t._v("实例:")]),t._m(78),t._m(79),t._m(80),s("p",[t._v("语法:")]),t._m(81),t._m(82),t._m(83),s("p",[t._v("实例:")]),t._m(84),t._m(85),t._m(86),t._m(87),s("p",[t._v("语法:")]),t._m(88),t._m(89),t._m(90),s("p",[t._v("语法:")]),t._m(91),s("p",[t._v("AND 和 OR 联合使用:")]),s("p",[t._v("实例:")]),t._m(92),t._m(93),s("p",[t._v("不太懂, 下回再说")]),s("p",[s("a",{attrs:{href:"http://www.runoob.com/mongodb/mongodb-databases-documents-collections.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("链接"),s("OutboundLink")],1)]),t._m(94),t._m(95),t._m(96),s("p",[t._v("ObjectId 类似唯一主键，可以很快的去生成和排序，包含 12 bytes")]),t._m(97),t._m(98),t._m(99),t._m(100),t._m(101),s("p",[t._v("ObjectId 转为字符串:")]),t._m(102)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"mongodb-基础知识"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mongodb-基础知识","aria-hidden":"true"}},[this._v("#")]),this._v(" MongoDB 基础知识")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"什么是-mongodb"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#什么是-mongodb","aria-hidden":"true"}},[this._v("#")]),this._v(" 什么是 MongoDB")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"概念解析"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#概念解析","aria-hidden":"true"}},[this._v("#")]),this._v(" 概念解析")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("table",[s("thead",[s("tr",[s("th",[t._v("SQL术语/概念")]),s("th",[t._v("MongoDB术语/概念")]),s("th",[t._v("解释/说明")])])]),s("tbody",[s("tr",[s("td",[t._v("database")]),s("td",[t._v("database")]),s("td",[t._v("数据库")])]),s("tr",[s("td",[t._v("table")]),s("td",[t._v("collection")]),s("td",[t._v("数据库表/集合")])]),s("tr",[s("td",[t._v("row")]),s("td",[t._v("document")]),s("td",[t._v("数据记录行/文档")])]),s("tr",[s("td",[t._v("column")]),s("td",[t._v("field")]),s("td",[t._v("数据字段/域")])]),s("tr",[s("td",[t._v("index")]),s("td",[t._v("index")]),s("td",[t._v("索引")])]),s("tr",[s("td",[t._v("table joins")]),s("td"),s("td",[t._v("表连接, MongoDB不支持")])]),s("tr",[s("td",[t._v("primary key")]),s("td",[t._v("primary key")]),s("td",[t._v("主键, MongoDB自动将"),s("code",[t._v("_id")]),t._v("字段设置为主键")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("文档 (document) 是 MongoDB 中数据的基本单元，非常类似于关系型数据库管理系统中的行")]),e("li",[this._v("集合（collection）可以看作是一个拥有动态模式（dynamic schema）的表 (table)")]),e("li",[this._v("数据库（database）用以存放集合, MongoDB 的一个实例可以拥有多个相互独立的数据库")]),e("li",[this._v("主键 "),e("code",[this._v("_id")]),this._v(" 在文档所属的集合中是唯一的")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"数据库-database"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#数据库-database","aria-hidden":"true"}},[this._v("#")]),this._v(" 数据库 - database")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"数据库命名"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#数据库命名","aria-hidden":"true"}},[this._v("#")]),this._v(" 数据库命名")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[t._v("不能是空字符串")]),s("li",[t._v("不得含有 "),s("code",[t._v("空格")]),t._v("、"),s("code",[t._v(".")]),t._v("、"),s("code",[t._v("$")]),t._v("、"),s("code",[t._v("/")]),t._v("、"),s("code",[t._v("\\")]),t._v(" 和 "),s("code",[t._v("\\0 (空字符)")])]),s("li",[t._v("数据库名区分大小写, 推荐全部小写")]),s("li",[t._v("最多64字节")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("code",[this._v("admin")]),this._v(': 从权限的角度来看，这是 "root" 数据库。要是将一个用户添加到这个数据库，这个用户自动继承所有数据库的权限。一些特定的服务器端命令也只能从这个数据库运行，比如列出所有的数据库或者关闭服务器。')]),e("li",[e("code",[this._v("local")]),this._v(": 这个数据永远不会被复制，可以用来存储限于本地单台服务器的任意集合")]),e("li",[e("code",[this._v("config")]),this._v(": 当 Mongo 用于分片设置时，config 数据库在内部使用，用于保存分片的相关信息。")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"基本操作"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#基本操作","aria-hidden":"true"}},[this._v("#")]),this._v(" 基本操作")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"显示数据库列表"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#显示数据库列表","aria-hidden":"true"}},[this._v("#")]),this._v(" 显示数据库列表")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("code",[this._v("show dbs")]),this._v(" 命令可以显示数据库列表。")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("> show dbs\nadmin   0.000GB\nconfig  0.000GB\nlocal   0.000GB\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"显示当前数据库"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#显示当前数据库","aria-hidden":"true"}},[this._v("#")]),this._v(" 显示当前数据库")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("code",[this._v("db")]),this._v(" 命令可以显示当前数据库对象或集合。")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("> db\ntest\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"创建-切换-数据库"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#创建-切换-数据库","aria-hidden":"true"}},[this._v("#")]),this._v(" 创建/切换 数据库")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("code",[this._v("use")]),this._v(" + "),e("code",[this._v("数据库名")]),this._v(" 命令可以连接到一个指定的数据库, 如果数据库不存在，则创建数据库.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{attrs:{class:"token operator"}},[this._v(">")]),this._v(" use mytest\nswitched to db mytest\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("MongoDB 中默认的数据库为 "),e("code",[this._v("test")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"删除数据库"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#删除数据库","aria-hidden":"true"}},[this._v("#")]),this._v(" 删除数据库")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("code",[this._v("db.dropDatabase()")]),this._v(" 命令可以删除当前数据库.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"集合-collection"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#集合-collection","aria-hidden":"true"}},[this._v("#")]),this._v(" 集合 - collection")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{attrs:{class:"token property"}},[t._v('"site"')]),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v('"www.baidu.com"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{attrs:{class:"token property"}},[t._v('"name"')]),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v('"百度"')]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{attrs:{class:"token property"}},[t._v('"site"')]),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v('"www.google.com"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{attrs:{class:"token property"}},[t._v('"name"')]),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v('"Google"')]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{attrs:{class:"token property"}},[t._v('"site"')]),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v('"www.runoob.com"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{attrs:{class:"token property"}},[t._v('"name"')]),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v('"菜鸟教程"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{attrs:{class:"token property"}},[t._v('"num"')]),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("5")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("一个集合里存放多种类型的文档, 会增加开发人员查询特定类型文档的难度.")]),e("li",[this._v("在包含多个文档类型的集合中查找数据速度也会变慢, 会降低性能.")]),e("li",[this._v("创建索引时，需要使用文档的附加结构（特别是创建唯一索引时）。索引是按照集合来定义的。在一个集合中只放入一种类型的文档，可以更有效地对集合进行索引.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"集合命名"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#集合命名","aria-hidden":"true"}},[this._v("#")]),this._v(" 集合命名:")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[t._v("集合名不能是空字符串。")]),s("li",[t._v("集合名不能含有 "),s("code",[t._v("\\0（空字符)")]),t._v("，这个字符表示集合名的结尾。")]),s("li",[t._v("集合名不能以 "),s("code",[t._v("system.")]),t._v(" 开头，这是为系统集合保留的前缀。")]),s("li",[t._v("用户创建的集合名字不能含有保留字符。有些驱动程序的确支持在集合名里面包含，这是因为某些系统生成的集合中包含该字符。除非你要访问这种系统创建的集合，否则千万不要在名字里出现 "),s("code",[t._v("$")]),t._v("。")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"子集合"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#子集合","aria-hidden":"true"}},[this._v("#")]),this._v(" 子集合")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("组织集合的一种惯例是使用“.”分隔不同命名空间的子集合。例如，一个具有博客功能的应用可能包含两个集合，分别是 "),e("code",[this._v("blog.posts")]),this._v(" 和 "),e("code",[this._v("blog.authors")]),this._v("。这是为了使组织结构更清晰，这里的 blog 集合（这个集合甚至不需要存在）跟它的子集合没有任何关系。")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"基本操作-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#基本操作-2","aria-hidden":"true"}},[this._v("#")]),this._v(" 基本操作")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"查看已有集合"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查看已有集合","aria-hidden":"true"}},[this._v("#")]),this._v(" 查看已有集合")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("> show collections\ntest1\ntest2\ntest3\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"创建集合"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#创建集合","aria-hidden":"true"}},[this._v("#")]),this._v(" 创建集合")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("使用 "),e("code",[this._v("createCollection()")]),this._v(" 方法来创建集合。")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("db.createCollection(name, options)\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("name: 要创建的集合名称")]),e("li",[this._v("options: 可选参数, 指定有关内存大小及索引的选项")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("table",[s("thead",[s("tr",[s("th",[t._v("字段")]),s("th",[t._v("类型")]),s("th",[t._v("描述")])])]),s("tbody",[s("tr",[s("td",[t._v("capped")]),s("td",[t._v("布尔")]),s("td",[t._v("（可选）如果为 true，则创建固定集合。固定集合是指有着固定大小的集合，当达到最大值时，它会自动覆盖最早的文档。当该值为 true 时，必须指定 size 参数。")])]),s("tr",[s("td",[t._v("autoIndexId")]),s("td",[t._v("布尔")]),s("td",[t._v("（可选）如为 true，自动在 _id 字段创建索引。默认为 false。")])]),s("tr",[s("td",[t._v("size")]),s("td",[t._v("数值")]),s("td",[t._v("（可选）为固定集合指定一个最大值（以字节计）。如果 capped 为 true，也需要指定该字段。")])]),s("tr",[s("td",[t._v("max")]),s("td",[t._v("数值")]),s("td",[t._v("（可选）指定固定集合中包含文档的最大数量。")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"插入集合"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#插入集合","aria-hidden":"true"}},[this._v("#")]),this._v(" 插入集合")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("db.COLLECTION_NAME.insert(DOCUMENT)\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("> db.test4.insert({'name':'test4'})\nWriteResult({ \"nInserted\" : 1 })\n> show collections\ntest1\ntest2\ntest3\ntest4\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"删除集合"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#删除集合","aria-hidden":"true"}},[this._v("#")]),this._v(" 删除集合")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("> db.COLLECTION_NAME.drop()\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("> db.mycol2.drop()\ntrue\n>\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("如果成功删除选定集合，则 "),e("code",[this._v("drop()")]),this._v(" 方法返回 "),e("code",[this._v("true")]),this._v("，否则返回 "),e("code",[this._v("false")]),this._v("。")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"文档-document"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#文档-document","aria-hidden":"true"}},[this._v("#")]),this._v(" 文档 - document")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v('{\n    "site": "www.runoob.com", \n    "name": "菜鸟教程"\n    }\n')])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("code",[t._v('"site"')]),t._v(" 和 "),s("code",[t._v('"name"')]),t._v(' 是这个文档的 "键" (key), '),s("code",[t._v('"www.runoob.com"')]),t._v(" 和 "),s("code",[t._v('"菜鸟教程"')]),t._v(' 是 "值" (value)')])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{attrs:{class:"token string"}},[t._v('"foo"')]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("3")]),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{attrs:{class:"token string"}},[t._v('"foo"')]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v('"3"')]),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"文档键命名"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#文档键命名","aria-hidden":"true"}},[this._v("#")]),this._v(" 文档键命名")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[t._v("文档的键是字符串")]),s("li",[t._v("键不能含有 "),s("code",[t._v("\\0 (空字符)")]),t._v("。这个字符用来表示键的结尾")]),s("li",[s("code",[t._v(".")]),t._v(" 和 "),s("code",[t._v("$")]),t._v(" 有特别的意义，只有在特定环境下才能使用")]),s("li",[t._v("以下划线 "),s("code",[t._v("_")]),t._v(" 开头的键是保留的 (不是严格要求的)")]),s("li",[t._v("一个文档内不能有重复的键")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"基本操作-3"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#基本操作-3","aria-hidden":"true"}},[this._v("#")]),this._v(" 基本操作")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"插入文档"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#插入文档","aria-hidden":"true"}},[this._v("#")]),this._v(" 插入文档")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("使用 "),e("code",[this._v("insert()")]),this._v(" 或 "),e("code",[this._v("save()")]),this._v(" 方法向集合中插入文档, 如果该集合不在该数据库中， MongoDB 会自动创建该集合并插入文档.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("db.COLLECTION_NAME.insert(document)\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("> db.col.insert({\n    title: 'MongoDB 教程', \n    description: 'MongoDB 是一个 Nosql 数据库',\n    by: '菜鸟教程',\n    url: 'http://www.runoob.com',\n    tags: ['mongodb', 'database', 'NoSQL'],\n    likes: 100\n})\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("> document = ({title: 'MongoDB 教程', \n    description: 'MongoDB 是一个 Nosql 数据库',\n    by: '菜鸟教程',\n    url: 'http://www.runoob.com',\n    tags: ['mongodb', 'database', 'NoSQL'],\n    likes: 100\n});\n\n> db.col.insert(document)\nWriteResult({ \"nInserted\" : 1 })\n> \n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"查看已插入文档"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查看已插入文档","aria-hidden":"true"}},[this._v("#")]),this._v(" 查看已插入文档")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("db.COLLECTION_NAME.find()\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v('> db.col.find()\n{ \n    "_id" : ObjectId("56064886ade2f21f36b03134"), \n    "title" : "MongoDB 教程", \n    "description" : "MongoDB 是一个 Nosql 数据库", \n    "by" : "菜鸟教程", \n    "url" : "http://www.runoob.com", \n    "tags" : [ "mongodb", "database", "NoSQL" ], \n    "likes" : 100 \n}\n')])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"更新文档"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#更新文档","aria-hidden":"true"}},[this._v("#")]),this._v(" 更新文档")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("使用 "),e("code",[this._v("update()")]),this._v(" 和 "),e("code",[this._v("save()")]),this._v(" 方法来更新集合中的文档")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("code",[this._v("update()")]),this._v(" 方法用于更新已存在的文档:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("db.collection.update(\n   <query>,\n   <update>,\n   {\n     upsert: <boolean>,\n     multi: <boolean>,\n     writeConcern: <document>\n   }\n)\n")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("code",[t._v("query")]),t._v(" : update 的查询条件，类似 sql update 查询内 where 后面的。")]),s("li",[s("code",[t._v("update")]),t._v(" : update 的对象和一些更新的操作符（如 "),s("code",[t._v("$")]),t._v(","),s("code",[t._v("$inc")]),t._v("...）等，也可以理解为 sql update 查询内 set 后面的")]),s("li",[s("code",[t._v("upsert")]),t._v(" : 可选，这个参数的意思是，如果不存在 update 的记录，是否插入 objNew , true 为插入，默认是 false，不插入。")]),s("li",[s("code",[t._v("multi")]),t._v(" : 可选，mongodb 默认是 false,只更新找到的第一条记录，如果这个参数为 true, 就把按条件查出来多条记录全部更新。")]),s("li",[s("code",[t._v("writeConcern")]),t._v(" : 可选，抛出异常的级别。")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v('> db.col.insert({\n    "title": \'MongoDB 教程\', \n    "description": \'MongoDB 是一个 Nosql 数据库\',\n    "by": \'菜鸟教程\',\n    "url": \'http://www.runoob.com\',\n    "tags": [\'mongodb\', \'database\', \'NoSQL\'],\n    "likes": 100\n})\n\n> db.col.update(\n    {\n      \'title\':\'MongoDB 教程\'\n    }, \n    {\n      $set:{\'title\':\'MongoDB\'}\n    }\n)\n\nWriteResult({ "nMatched" : 1, "nUpserted" : 0, "nModified" : 1 })   \n\n> db.col.find().pretty()\n{\n    "_id" : ObjectId("56064f89ade2f21f36b03136"),\n    "title" : "MongoDB",\n    "description" : "MongoDB 是一个 Nosql 数据库",\n    "by" : "菜鸟教程",\n    "url" : "http://www.runoob.com",\n    "tags" : [\n            "mongodb",\n            "database",\n            "NoSQL"\n    ],\n    "likes" : 100\n}\n>\n')])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("code",[this._v("save()")]),this._v(" 方法通过传入的文档来替换已有文档。")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("db.collection.save(\n   <document>,\n   {\n     writeConcern: <document>\n   }\n)\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("code",[this._v("document")]),this._v(" : 文档数据。")]),e("li",[e("code",[this._v("writeConcern")]),this._v(" :可选，抛出异常的级别。")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("以下实例中我们替换了 _id 为 "),e("code",[this._v("56064f89ade2f21f36b03136")]),this._v(" 的文档数据：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v('>db.col.save({\n    "_id" : ObjectId("56064f89ade2f21f36b03136"),\n    "title" : "MongoDB",\n    "description" : "MongoDB 是一个 Nosql 数据库",\n    "by" : "Runoob",\n    "url" : "http://www.runoob.com",\n    "tags" : [\n            "mongodb",\n            "NoSQL"\n    ],\n    "likes" : 110\n})\n')])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"删除文档"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#删除文档","aria-hidden":"true"}},[this._v("#")]),this._v(" 删除文档")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("code",[this._v("remove()")]),this._v("方法用来移除集合中的数据")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("db.collection.remove(\n   <query>,\n   {\n     justOne: <boolean>,\n     writeConcern: <document>\n   }\n)\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("code",[this._v("query")]),this._v(" :（可选）删除的文档的条件。")]),e("li",[e("code",[this._v("justOne")]),this._v(" : （可选）如果设为 true 或 1，则只删除一个文档。")]),e("li",[e("code",[this._v("writeConcern")]),this._v(" :（可选）抛出异常的级别。")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("移除 "),e("code",[this._v("title")]),this._v(" 为 'MongoDB 教程' 的文档:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("> db.col.remove({'title':'MongoDB 教程'})\n\nWriteResult({ \"nRemoved\" : 2 })           # 删除了两条数据\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("只想删除第一条找到的记录可以设置 "),e("code",[this._v("justOne")]),this._v(" 为 "),e("code",[this._v("1")]),this._v(":")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("> db.col.remove({'title':'MongoDB 教程'}, 1)\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("> db.col.remove({})\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"查询文档"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查询文档","aria-hidden":"true"}},[this._v("#")]),this._v(" 查询文档")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("查询文档使用 "),e("code",[this._v("find()")]),this._v(" 方法")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("db.collection.find(query, projection)\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("code",[this._v("query")]),this._v(" ：可选，使用查询操作符指定查询条件")]),e("li",[e("code",[this._v("projection")]),this._v(" ：可选，使用投影操作符指定返回的键。查询时返回文档中所有键值， 只需省略该参数即可（默认省略）。")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("需要以易读的方式来读取数据，可以使用 "),e("code",[this._v("pretty()")]),this._v(" 方法:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("> db.col.find().pretty()\n")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("table",[s("thead",[s("tr",[s("th",[t._v("操作")]),s("th",[t._v("格式")]),s("th",[t._v("范例")]),s("th",[t._v("RDBMS中的类似语句")])])]),s("tbody",[s("tr",[s("td",[t._v("等于")]),s("td",[s("code",[t._v("{<key>:<value>}")])]),s("td",[s("code",[t._v('db.col.find({"by":"菜鸟教程"}).pretty()')])]),s("td",[t._v("where by = '菜鸟教程'")])]),s("tr",[s("td",[t._v("小于")]),s("td",[s("code",[t._v("{<key>:{$lt:<value>}}")])]),s("td",[s("code",[t._v('db.col.find({"likes":{$lt:50}}).pretty()')])]),s("td",[t._v("where likes < 50")])]),s("tr",[s("td",[t._v("小于或等于")]),s("td",[s("code",[t._v("{<key>:{$lte:<value>}}")])]),s("td",[s("code",[t._v('db.col.find({"likes":{$lte:50}}).pretty()')])]),s("td",[t._v("where likes <= 50")])]),s("tr",[s("td",[t._v("大于")]),s("td",[s("code",[t._v("{<key>:{$gt:<value>}}")])]),s("td",[s("code",[t._v('db.col.find({"likes":{$gt:50}}).pretty()')])]),s("td",[t._v("where likes > 50")])]),s("tr",[s("td",[t._v("大于或等于")]),s("td",[s("code",[t._v("{<key>:{$gte:<value>}}")])]),s("td",[s("code",[t._v('db.col.find({"likes":{$gte:50}}).pretty()')])]),s("td",[t._v("where likes >= 50")])]),s("tr",[s("td",[t._v("不等于")]),s("td",[s("code",[t._v("{<key>:{$ne:<value>}}")])]),s("td",[s("code",[t._v('db.col.find({"likes":{$ne:50}}).pretty()')])]),s("td",[t._v("where likes != 50")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("AND 条件:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("code",[this._v("find()")]),this._v(" 方法可以传入多个键 ( key )，每个键 ( key ) 以逗号隔开.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("db.collection.find({key1:value1, key2:value2}).pretty()\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("OR 条件:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("OR 条件语句使用了关键字 "),e("code",[this._v("$or")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("db.collection.find(\n   {\n      $or: [\n         {key1: value1}, {key2:value2}\n      ]\n   }\n).pretty()\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v('>db.col.find(\n    {\n        "likes": {$gt:50}, \n        $or: [\n            {"by": "菜鸟教程"},\n            {"title": "MongoDB 教程"}\n        ]\n    }\n).pretty()\n\n# 等价于 WHERE likes > 50 AND (by = \'菜鸟教程\' OR title = \'MongoDB 教程\')\n')])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"元数据"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#元数据","aria-hidden":"true"}},[this._v("#")]),this._v(" 元数据")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"数据类型"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#数据类型","aria-hidden":"true"}},[this._v("#")]),this._v(" 数据类型")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("table",[s("thead",[s("tr",[s("th",[t._v("数据类型")]),s("th",[t._v("描述")])])]),s("tbody",[s("tr",[s("td",[t._v("String")]),s("td",[t._v("字符串。存储数据常用的数据类型。在 MongoDB 中，UTF-8 编码的字符串才是合法的。")])]),s("tr",[s("td",[t._v("Integer")]),s("td",[t._v("整型数值。用于存储数值。根据你所采用的服务器，可分为 32 位或 64 位。")])]),s("tr",[s("td",[t._v("Boolean")]),s("td",[t._v("布尔值。用于存储布尔值（真/假）。")])]),s("tr",[s("td",[t._v("Double")]),s("td",[t._v("双精度浮点值。用于存储浮点值。")])]),s("tr",[s("td",[t._v("Min/Max keys")]),s("td",[t._v("将一个值与 BSON（二进制的 JSON）元素的最低值和最高值相对比。")])]),s("tr",[s("td",[t._v("Array")]),s("td",[t._v("用于将数组或列表或多个值存储为一个键。")])]),s("tr",[s("td",[t._v("Timestamp")]),s("td",[t._v("时间戳。记录文档修改或添加的具体时间。")])]),s("tr",[s("td",[t._v("Object")]),s("td",[t._v("用于内嵌文档。")])]),s("tr",[s("td",[t._v("Null")]),s("td",[t._v("用于创建空值。")])]),s("tr",[s("td",[t._v("Symbol")]),s("td",[t._v("符号。该数据类型基本上等同于字符串类型，但不同的是，它一般用于采用特殊符号类型的语言。")])]),s("tr",[s("td",[t._v("Date")]),s("td",[t._v("日期时间。用 UNIX 时间格式来存储当前日期或时间。你可以指定自己的日期时间：创建 Date 对象，传入年月日信息。")])]),s("tr",[s("td",[t._v("Object ID")]),s("td",[t._v("对象 ID。用于创建文档的 ID。")])]),s("tr",[s("td",[t._v("Binary Data")]),s("td",[t._v("二进制数据。用于存储二进制数据。")])]),s("tr",[s("td",[t._v("Code")]),s("td",[t._v("代码类型。用于在文档中存储 JavaScript 代码。")])]),s("tr",[s("td",[t._v("Regular expression")]),s("td",[t._v("正则表达式类型。用于存储正则表达式。")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"objectid"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#objectid","aria-hidden":"true"}},[this._v("#")]),this._v(" ObjectId")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("前 4 个字节表示创建 unix 时间戳,格林尼治时间 UTC 时间，比北京时间晚了 8 个小时")]),e("li",[this._v("接下来的 3 个字节是机器标识码")]),e("li",[this._v("紧接的两个字节由进程 id 组成 PID")]),e("li",[this._v("最后三个字节是随机数")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"https://i.imgur.com/cB7Ce75.jpg",alt:"2875754375-5a19268f0fd9b_articlex"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("MongoDB 中存储的文档必须有一个 "),e("code",[this._v("_id")]),this._v(" 键。这个键的值可以是任何类型的，默认是个 ObjectId 对象")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("由于 ObjectId 中保存了创建的时间戳，所以你不需要为你的文档保存时间戳字段\n可以通过 "),e("code",[this._v("getTimestamp")]),this._v(" 函数来获取文档的创建时间")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v('> var newObject = ObjectId()\n> newObject.getTimestamp()\n\nISODate("2017-11-25T07:21:10Z")\n')])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("> newObject.str\n\n5a1919e63df83ce79df8b38f\n")])])])}],!1,null,null,null);e.default=n.exports}}]);
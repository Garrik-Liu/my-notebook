(window.webpackJsonp=window.webpackJsonp||[]).push([[114],{322:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"ä»£ç†æ¨¡å¼"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä»£ç†æ¨¡å¼"}},[t._v("#")]),t._v(" ä»£ç†æ¨¡å¼")]),t._v(" "),a("h2",{attrs:{id:"å®šä¹‰ä»£ç†æ¨¡å¼"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å®šä¹‰ä»£ç†æ¨¡å¼"}},[t._v("#")]),t._v(" å®šä¹‰ä»£ç†æ¨¡å¼")]),t._v(" "),a("ul",[a("li",[t._v("ä»£ç†æ¨¡å¼ï¼šä¸ºå¦ä¸€ä¸ªå¯¹è±¡æä¾›ä¸€ä¸ªæ›¿èº«ï¼Œä»¥è®©åˆ«äººé€šè¿‡æ›¿èº«æ¥æ§åˆ¶å¯¹åŸæœ¬å¯¹è±¡çš„è®¿é—®ï¼›")]),t._v(" "),a("li",[t._v("ä¸€èˆ¬æ¥è®²ï¼Œè¢«ä»£ç†çš„å¯¹è±¡ä¼šæ˜¯è¿œç¨‹çš„å¯¹è±¡ï¼Œåˆ›å»ºå¼€é”€æ¯”è¾ƒå¤§çš„å¯¹è±¡ï¼Œæˆ–è€…éœ€è¦å®‰å…¨æ§åˆ¶çš„å¯¹è±¡ï¼›")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-2-22-23-55-32.png",alt:"2020-2-22-23-55-32.png"}})]),t._v(" "),a("ul",[a("li",[t._v("Subject ä¸º RealSubject å’Œ Proxy æä¾›äº†æ¥å£ï¼›")]),t._v(" "),a("li",[t._v("é€šè¿‡å¯¹ç»Ÿä¸€æ¥å£çš„å®ç°ï¼ŒProxy åœ¨ RealSubject å‡ºç°çš„åœ°æ–¹èƒ½å¤Ÿæ›¿ä»£å®ƒï¼›")]),t._v(" "),a("li",[t._v("Proxy ä»£ç†å¹¶å…¶ä»–å¯¹è±¡å¯¹ RealSubject çš„è®¿é—®ï¼›")]),t._v(" "),a("li",[t._v("Proxy æŒæœ‰å¯¹ RealSubject çš„å¼•ç”¨ï¼Œæœ‰æ—¶è¿˜ä¼šè´Ÿè´£å¯¹ä»–çš„åˆ›é€ å’Œé”€æ¯ï¼›")]),t._v(" "),a("li",[t._v("æ‰€æœ‰å®¢æˆ·æƒ³è¦ä¸ RealSubject äº¤äº’å¿…é¡»é€šè¿‡ Proxyï¼›")])]),t._v(" "),a("h2",{attrs:{id:"è™šæ‹Ÿä»£ç†"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è™šæ‹Ÿä»£ç†"}},[t._v("#")]),t._v(" è™šæ‹Ÿä»£ç†")]),t._v(" "),a("ul",[a("li",[t._v("è™šæ‹Ÿä»£ç†ä½œä¸ºåˆ›å»ºå¼€é”€æ¯”è¾ƒå¤§çš„å¯¹è±¡çš„æ›¿èº«ï¼›")]),t._v(" "),a("li",[t._v("é€šå¸¸åœ¨ä½¿ç”¨è™šæ‹Ÿä»£ç†æ—¶ï¼Œæˆ‘ä»¬ä¼šåœ¨çœŸæ­£éœ€è¦ â€œè¢«ä»£ç†å¯¹è±¡â€ æ—¶æ‰åˆ›å»ºè¢«ä»£ç†å¯¹è±¡ï¼›")]),t._v(" "),a("li",[t._v("åœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘ä»¬å°±ç”¨è™šæ‹Ÿä»£ç†å¯¹è±¡ï¼Œæ¥ä»£æ›¿çœŸæ­£æƒ³è¦çš„å¯¹è±¡ï¼›")]),t._v(" "),a("li",[t._v("ç­‰çœŸæ­£éœ€è¦çš„å¯¹è±¡è¢«åˆ›å»ºå¥½åï¼Œå®¢æˆ·çš„è¯·æ±‚è¿˜ä¼šé€šè¿‡ä»£ç†è¢«å§”æ‰˜åˆ°ç›®æ ‡å¯¹è±¡ä¸Šï¼›")])]),t._v(" "),a("h4",{attrs:{id:"åŠ è½½-cd-å°é¢"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åŠ è½½-cd-å°é¢"}},[t._v("#")]),t._v(" åŠ è½½ CD å°é¢")]),t._v(" "),a("ul",[a("li",[t._v("å‡å¦‚æˆ‘æƒ³åœ¨ä¸€ä¸ªéŸ³ä¹ APP ä¸­åŠ è½½ CD å°é¢ï¼›")]),t._v(" "),a("li",[t._v("å› ä¸ºç½‘ç»œè¯·æ±‚ä¼šæœ‰ä¸€ä¸ªç­‰å¾…æ—¶é—´ï¼Œåœ¨çœŸæ­£çš„å°é¢è¢«åŠ è½½æ¥ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªè™šæ‹Ÿä»£ç†ï¼Œæ¥å…ˆæ›¿ä»£ä¸€ä¸‹ï¼›")]),t._v(" "),a("li",[t._v("å‡è®¾æˆ‘ä»¬ç”¨ Swing çš„ Icon ç»„ä»¶å»æ˜¾ç¤ºå°é¢ï¼›")]),t._v(" "),a("li",[t._v("å†å°é¢åŠ è½½å¥½ä¹‹å‰ï¼Œå…ˆç”¨è™šæ‹Ÿä»£ç†ç”¨ Icon ç»„ä»¶æ˜¾ç¤º â€œè¯·ç¨ç­‰ï¼Œå°é¢åŠ è½½ä¸­ã€‚ã€‚ã€‚â€")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-2-23-0-4-0.png",alt:"2020-2-23-0-4-0.png"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-2-23-0-8-20.png",alt:"2020-2-23-0-8-20.png"}})]),t._v(" "),a("h2",{attrs:{id:"ä¿æŠ¤ä»£ç†"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¿æŠ¤ä»£ç†"}},[t._v("#")]),t._v(" ä¿æŠ¤ä»£ç†")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("ä¿æŠ¤ä»£ç†ï¼Œæ˜¯ä¸€ç§æ ¹æ®è®¿é—®æƒé™ï¼Œå†³å®šå®¢æˆ·æ˜¯å¦è¢«å…è®¸è®¿é—®å¯¹è±¡çš„ä»£ç†")]),t._v("ï¼›")]),t._v(" "),a("li",[t._v("ğŸŒ° ä¾‹å¦‚ï¼šæ¯”å¦‚æœ‰ä¸€ä¸ªå¯¹è±¡ï¼Œé€šè¿‡ä¿æŠ¤ä»£ç†ï¼Œé›‡å‘˜åªå¯ä»¥è®¿é—®å…¶ä¸­æ˜¯å‡ ä¸ªæ–¹æ³•ï¼Œè€Œç»ç†å°±å¯ä»¥è®¿é—®å…¨éƒ¨çš„æ–¹æ³•ï¼›")]),t._v(" "),a("li",[t._v("ğŸŒ° ä¿æŠ¤ä»£ç†å°±åƒæ˜¯ä¸€ä¸ªæ˜æ˜Ÿçš„ç»çºªäººï¼Œå®ƒä¼šæ‹¦æˆªæ‰€æœ‰å¤–é¢æ‰“è¿›æ¥çš„ç”µè¯ã€‚ç„¶ååšä¸€ä¸ªç­›é€‰ï¼ŒåªæŠŠæœ‰ç”¨çš„ç”µè¯è½¬æ¥ç»™æ˜æ˜Ÿï¼›")])]),t._v(" "),a("h3",{attrs:{id:"java-åŠ¨æ€ä»£ç†"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#java-åŠ¨æ€ä»£ç†"}},[t._v("#")]),t._v(" Java åŠ¨æ€ä»£ç†")]),t._v(" "),a("ul",[a("li",[t._v("æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ Java çš„åŠ¨æ€ä»£ç†å»å®ç°ä¿æŠ¤ä»£ç†ï¼›")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-2-23-10-47-55.png",alt:"2020-2-23-10-47-55.png"}})]),t._v(" "),a("ul",[a("li",[t._v("åŠ¨æ€ä»£ç†ï¼Œåˆ©ç”¨ Java çš„åå°„æŠ€æœ¯(Java Reflection)ï¼Œåœ¨è¿è¡Œæ—¶åˆ›å»ºä¸€ä¸ªåŠ¨æ€ä»£ç†ç±»ï¼Œå®ç°ä¸€ä¸ªæˆ–å¤šä¸ªæ¥å£ï¼›")]),t._v(" "),a("li",[t._v("æ³¨æ„ï¼šåŠ¨æ€ä»£ç†çš„æ˜¯æ¥å£ï¼Œä¸æ˜¯ç±»ï¼Œæ›´ä¸æ˜¯æŠ½è±¡ç±»ï¼›")]),t._v(" "),a("li",[t._v("äºæ­¤åŒæ—¶ï¼Œæˆ‘ä»¬è¿˜è¦æä¾›ä¸€ä¸ªå®ç°ç±» InvocationHandler æ¥å£çš„å®ç°ç±»ã€‚å®¢æˆ·å¯¹äº Proxy ä¸Šä»»ä½•æ–¹æ³•çš„è°ƒç”¨éƒ½ä¼šè¢«ä¼ å…¥æ­¤ç±»ï¼›")]),t._v(" "),a("li",[t._v("å†é€šè¿‡ InvocationHandler å®ç°ç±»æ¥æ§åˆ¶å¯¹ RealSubject çš„å¯¹åº”æ–¹æ³•çš„è®¿é—®ï¼›")]),t._v(" "),a("li",[t._v("åˆ©ç”¨ Java çš„ Proxy ç±»ï¼Œè°ƒç”¨ "),a("code",[t._v("Proxy.newProxyInstance()")]),t._v(" æ–¹æ³•å°±å¯ä»¥åˆ›å»ºåŠ¨æ€ä»£ç†ï¼›")]),t._v(" "),a("li",[a("code",[t._v("Proxy.newProxyInstance()")]),t._v(" æ–¹æ³•æœ‰ä¸‰ä¸ªå‚æ•°:\n"),a("ul",[a("li",[t._v("ä»£ç†è¦å®ç°çš„æ¥å£çš„ â€œç±»åŠ è½½å™¨â€ï¼›")]),t._v(" "),a("li",[t._v("ä»£ç†è¦å®ç°çš„æ¥å£ï¼›")]),t._v(" "),a("li",[t._v("InvocationHandler æ¥å£å®ç°ç±»ï¼›")])])])]),t._v(" "),a("h3",{attrs:{id:"ç°å®æ¡ˆä¾‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç°å®æ¡ˆä¾‹"}},[t._v("#")]),t._v(" ç°å®æ¡ˆä¾‹")]),t._v(" "),a("ul",[a("li",[t._v("ç°åœ¨æˆ‘ä»¬æœ‰ä¸€ä¸ªç›¸äº² Appï¼›")]),t._v(" "),a("li",[t._v("é‡Œé¢æ¯ä¸ªäººéƒ½å¯ä»¥ç»™å…¶ä»–ç”¨æˆ·æ‰“åˆ†ï¼ˆå–œæ¬¢ or ä¸å–œæ¬¢ï¼‰;")]),t._v(" "),a("li",[t._v("æ¯ä¸ªç”¨æˆ·çš„ä¸ªäººä¿¡æ¯ï¼Œè‡ªå·±éƒ½å¯ä»¥æ”¹ã€‚ä½†æ˜¯è‡ªå·±çš„åˆ†æ•°ä¸å¯ä»¥æ”¹ï¼›")]),t._v(" "),a("li",[t._v("å…¶ä»–ç”¨æˆ·ä¸å¯ä»¥æ”¹åˆ«äººçš„ä¸ªäººä¿¡æ¯ã€‚ä½†æ˜¯å¯ä»¥ç»™åˆ«äººæ‰“åˆ†ï¼›")])]),t._v(" "),a("p",[t._v("ä¸‹é¢ ğŸ‘‡ æ˜¯ç”¨æˆ·ç±»çš„æ¥å£ PersonBeanï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-2-23-14-23-44.png",alt:"2020-2-23-14-23-44.png"}})]),t._v(" "),a("ul",[a("li",[t._v("æ ¹æ®éœ€æ±‚æˆ‘ä»¬çŸ¥é“ï¼Œç”¨æˆ·ä¸èƒ½ç»™è‡ªå·±è¯„åˆ†ï¼Œä¹Ÿä¸èƒ½æ”¹å˜åˆ«äººçš„ä¸ªäººä¿¡æ¯ï¼›ç”¨æˆ·åªèƒ½ç»™åˆ«äººæ‰“åˆ†ï¼Œå¹¶ä¿®æ”¹è‡ªå·±çš„ä¿¡æ¯ï¼›")]),t._v(" "),a("li",[t._v("å¯ä»¥ä½¿ç”¨ä¿æŠ¤ä»£ç†æ¥å®ç°ï¼š\n"),a("ul",[a("li",[t._v("é¦–å…ˆåˆ›å»ºä¸¤ä¸ª InvocationHandlerï¼š\n"),a("ul",[a("li",[t._v("OwnerInvocationHandler ç”¨æ¥å¤„ç†ç”¨æˆ·å¯¹è‡ªå·± PersonBean å¯¹è±¡çš„è¯·æ±‚ï¼›")]),t._v(" "),a("li",[t._v("NonOwnerInvocationHandler å¤„ç†ç”¨æˆ·å¯¹åˆ«äºº PersonBean å¯¹è±¡çš„è¯·æ±‚ï¼›")])])]),t._v(" "),a("li",[t._v("ç„¶åæˆ‘ä»¬æ ¹æ® PersonBean æ¥å£åˆ›å»ºä¸€ä¸ªåŠ¨æ€ä»£ç†ï¼›")])])])]),t._v(" "),a("p",[a("strong",[t._v("é¦–å…ˆåˆ›å»º InvocationHandler")]),t._v("ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("å½“ä»£ç†çš„æ–¹æ³•è¢«è°ƒç”¨æ—¶ï¼Œä»£ç†å°±ä¼šæŠŠè¿™ä¸ªè°ƒç”¨è½¬å‘ç»™ InvocationHandlerï¼›")]),t._v(" "),a("li",[t._v("InvocationHandler æ¥å£ä¸­åªæœ‰ä¸€ä¸ª "),a("code",[t._v("invoke()")]),t._v(" æ–¹æ³•ã€‚ä¸ç®¡ä»£ç†è¢«è°ƒç”¨çš„æ˜¯ä»€ä¹ˆæ–¹æ³•ï¼Œæœ€å Handler å¤„ç†å™¨è¢«è°ƒç”¨çš„ä¸€å®šæ˜¯ "),a("code",[t._v("invoke")]),t._v(" æ–¹æ³•ï¼›")]),t._v(" "),a("li",[t._v("ä¹‹å "),a("code",[t._v("invoke")]),t._v(" æ–¹æ³•å†…éƒ¨ä¼šå»åˆ¤æ–­å¦‚ä½•å¤„ç†è¿™ä¸ªè¯·æ±‚ï¼Œå¯èƒ½ä¼šè½¬å‘ç»™ RealSubject å¯¹è±¡ï¼Œä¹Ÿå¯èƒ½åšå…¶ä»–çš„å¤„ç†ï¼›")])]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// InvocationHandler æ˜¯ java.lang.reflect åŒ…çš„ä¸€éƒ¨åˆ†")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("lang"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("reflect")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("*"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("NonOwnerInvocationHandler")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("implements")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("InvocationHandler")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//æŠŠRealSubjectè¦å®ä¾‹è¿›æ¥")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PersonBean")]),t._v(" person"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å®ä¾‹åŒ–æ—¶ï¼Œä¿å­˜å¯¹ RealSubject çš„å¼•ç”¨")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("NonOwnerInvocationHandler")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PersonBean")]),t._v(" person"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("person "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" person"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("invoke")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),t._v(" proxy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Method")]),t._v(" method"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throws")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Throwable")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç”¨æˆ·å¯ä»¥è®¿é—®å…¶ä»–ç”¨æˆ·çš„ä¿¡æ¯")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¦‚æœæ–¹æ³•åæ˜¯ get å¼€å¤´ï¼Œå°±å…è®¸è°ƒç”¨")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("method"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("startsWith")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"get"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" method"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("invoke")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("person"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç”¨æˆ·ä¹Ÿå¯ä»¥ç»™å…¶ä»–ç”¨æˆ·è¯„åˆ†")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("method"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("equals")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"setHotOrNotRating"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" method"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("invoke")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("person"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç”¨æˆ·ä¸å¯ä»¥æ”¹åˆ«äººçš„ä¿¡æ¯ï¼Œè¿”å›æŠ¥é”™")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("method"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("startsWith")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"set"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throw")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("IllegalAccessException")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("InvocationTargetException")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("printStackTrace")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//è°ƒç”¨å…¶ä»–æ–¹æ³•ç›´æ¥ä¸ç†")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[a("strong",[t._v("åˆ›å»º Proxy ç±»ï¼Œå¹¶å®ä¾‹åŒ– Proxy å¯¹è±¡")]),t._v("ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("ç°åœ¨æˆ‘ä»¬è¦æ ¹æ® PersonBean æ¥å£ï¼Œå»åˆ›å»ºä¸€ä¸ªåŠ¨æ€ä»£ç†ï¼›")]),t._v(" "),a("li",[t._v("å®ƒä¼šæŠŠå®¢æˆ·å¯¹å®ƒçš„æ–¹æ³•è°ƒç”¨ï¼Œè½¬å‘ç»™ ğŸ‘† ä¸Šé¢çš„ä¸¤ä¸ª InvocationHandlerï¼›")]),t._v(" "),a("li",[t._v("éœ€è¦åˆ†åˆ«åˆ›å»ºä¸¤ä¸ªæ–¹æ³•ç”¨æ¥è·å– Proxy ç±»ã€‚ä¸€ä¸ªé’ˆå¯¹ NonOwnerï¼Œå¦ä¸€ä¸ªé’ˆå¯¹ Ownerï¼›")]),t._v(" "),a("li",[t._v("ä½¿ç”¨ "),a("code",[t._v("Proxy.newProxyInstance")]),t._v(" æ¥åˆ›å»ºåŠ¨æ€ä»£ç†ï¼Œåˆ†åˆ«æ¥å—ä¸‰ä¸ªå‚æ•°ï¼š\n"),a("ul",[a("li",[t._v("ç›®æ ‡æ¥å£çš„ç±»åŠ è½½å™¨ï¼›")]),t._v(" "),a("li",[t._v("ç›®æ ‡æ¥å£ï¼›")]),t._v(" "),a("li",[t._v("è°ƒç”¨å¤„ç†å™¨ InvocationHandlerï¼›")])])])]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("lang"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("reflect")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Proxy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¿™ä¸ªç±»æ˜¯å®¢æˆ·çš„ç±»ï¼›")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å®¢æˆ·åœ¨é‡Œé¢é€šè¿‡ getOwnerProxy å’Œ getNonOwnerProxy æ–¹æ³•è·å–åŠ¨æ€ä»£ç†ï¼›")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MatchMakingTestDrive")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PersonBean")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getOwnerProxy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PersonBean")]),t._v(" person"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Proxy ä»£ç†æ˜¯å¯¹ PersonBean æ¥å£çš„å®ç°ï¼›")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ‰€ä»¥è¿™é‡Œå¯ä»¥è¿›è¡Œå¼ºåˆ¶è½¬å‹ï¼›")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PersonBean")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Proxy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("newProxyInstance")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n                person"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getClass")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getClassLoader")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                person"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getClass")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getInterfaces")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("OwnerInvocationHandler")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("person"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PersonBean")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getNonOwnerProxy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PersonBean")]),t._v(" person"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PersonBean")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Proxy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("newProxyInstance")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n                person"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getClass")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getClassLoader")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                person"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getClass")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getInterfaces")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("NonOwnerInvocationHandler")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("person"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),a("p",[a("strong",[t._v("åœ¨æµ‹è¯•ç±»é‡Œé¢å»æ£€æµ‹åŠŸèƒ½æ˜¯å¦å®ç°æŠŠ")]),t._v("ï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-2-23-14-53-22.png",alt:"2020-2-23-14-53-22.png"}})])])}),[],!1,null,null,null);s.default=e.exports}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[155],{362:function(s,i,e){"use strict";e.r(i);var o=e(0),v=Object(o.a)({},(function(){var s=this,i=s.$createElement,e=s._self._c||i;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"cookie-session"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#cookie-session"}},[s._v("#")]),s._v(" Cookie & Session")]),s._v(" "),e("h2",{attrs:{id:"ä¼šè¯æŠ€æœ¯"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ä¼šè¯æŠ€æœ¯"}},[s._v("#")]),s._v(" ä¼šè¯æŠ€æœ¯")]),s._v(" "),e("p",[s._v("ä»€ä¹ˆæ˜¯ä¼šè¯ï¼š")]),s._v(" "),e("ul",[e("li",[s._v("ç”¨æˆ·ç‚¹å¼€ä¸€ä¸ªé¡µé¢ï¼›")]),s._v(" "),e("li",[s._v("ç‚¹å‡»å¤šä¸ªè¶…é“¾æ¥ï¼Œè®¿é—®æœåŠ¡å™¨èµ„æºï¼›")]),s._v(" "),e("li",[s._v("å…³é—­é¡µé¢ï¼›")]),s._v(" "),e("li",[s._v("ä¸Šé¢çš„æ•´ä¸ªè¿‡ç¨‹ï¼Œç§°ä¹‹ä¸ºä¼šè¯ï¼›")])]),s._v(" "),e("p",[s._v("ä¼šè¯æŠ€æœ¯è§£å†³ä»€ä¹ˆé—®é¢˜ï¼š")]),s._v(" "),e("ul",[e("li",[s._v("æ¯ä¸ªç”¨æˆ·åœ¨ä½¿ç”¨æµè§ˆå™¨ä¸æœåŠ¡å™¨è¿›è¡Œä¼šè¯çš„è¿‡ç¨‹ä¸­ï¼›")]),s._v(" "),e("li",[s._v("ä¸å¯é¿å…çš„ä¼šäº§ç”Ÿä¸€äº›æ•°æ®ï¼›")]),s._v(" "),e("li",[s._v("ç¨‹åºéœ€è¦æœ‰åŠæ³•ä¿å­˜ä¸‹è¿™äº›æ•°æ®ï¼›")]),s._v(" "),e("li",[s._v("ä¹Ÿå°±æ˜¯ä¸€ç§ä¿å­˜å®¢æˆ·ç«¯å¯¹æœåŠ¡å™¨çš„è®¿é—®çŠ¶æ€çš„æœºåˆ¶ï¼›")]),s._v(" "),e("li",[s._v("ä¼šè¯æŠ€æœ¯å°±æ˜¯ç”¨æ¥åšè¿™ä¸ªçš„ï¼›")])]),s._v(" "),e("p",[s._v("ServletContext åŸŸå­˜åœ¨çš„é—®é¢˜ï¼š")]),s._v(" "),e("ul",[e("li",[s._v("å‰é¢è¯´è¿‡ ServletContext åŸŸä¹Ÿå¯ä»¥å­˜å–æ¯æ¬¡è¯·æ±‚ç›¸å…³çš„æ•°æ®ï¼›")]),s._v(" "),e("li",[s._v("æœåŠ¡å™¨æä¾›æœåŠ¡æ—¶ï¼ŒServletContext åŸŸä¸€ç›´å­˜åœ¨ï¼Œå®ƒçš„ç”Ÿå‘½å‘¨æœŸæ¯”è¾ƒé•¿ï¼›")]),s._v(" "),e("li",[s._v("å®ƒä¼šåœ¨æ•´ä¸ªæœåŠ¡å™¨å…³é—­çš„æ—¶å€™é”€æ¯ï¼›")]),s._v(" "),e("li",[s._v("å½“å…¶æ¥æ”¶åˆ°å¤šä¸ªå®¢æˆ·ç«¯å‘è¿‡æ¥çš„è¯·æ±‚æ—¶ï¼Œä¼šæŠŠå„è‡ªçš„ä¿¡æ¯éƒ½å­˜ä¸‹æ¥ï¼›")]),s._v(" "),e("li",[s._v("è¿™å®¹æ˜“é€ æˆå„ä¸ªå®¢æˆ·ç«¯ä¹‹é—´çš„æ•°æ®æ··æ·†ï¼›")]),s._v(" "),e("li",[s._v("æµªè´¹æœåŠ¡å™¨å‚¨å­˜ç©ºé—´ï¼›")])]),s._v(" "),e("p",[e("img",{attrs:{src:"https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-2-3-22-25-6.png",alt:"2020-2-3-22-25-6.png"}})]),s._v(" "),e("h2",{attrs:{id:"cookie"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#cookie"}},[s._v("#")]),s._v(" Cookie")]),s._v(" "),e("h3",{attrs:{id:"ä»€ä¹ˆæ˜¯-cookie"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ä»€ä¹ˆæ˜¯-cookie"}},[s._v("#")]),s._v(" ä»€ä¹ˆæ˜¯ Cookie")]),s._v(" "),e("ul",[e("li",[s._v("cookie æ˜¯å®¢æˆ·ç«¯è¯·æ±‚æœåŠ¡å™¨æ—¶ï¼›")]),s._v(" "),e("li",[s._v("æœåŠ¡ç«¯è®°å½•çš„ç”¨æˆ·ä¿¡æ¯ï¼Œå¹¶å“åº”å›æ¥ï¼Œå­˜å‚¨åœ¨å®¢æˆ·ç«¯ï¼›")]),s._v(" "),e("li",[s._v("ä¸‹ä¸€æ¬¡å®¢æˆ·ç«¯å‘é€è¯·æ±‚æ—¶ä¼šå°† cookie ä¸€èµ·å‘é€ï¼›")]),s._v(" "),e("li",[s._v("å…·ä½“è¿‡ç¨‹ï¼š\n"),e("ul",[e("li",[s._v("å®¢æˆ·ç«¯ç¬¬ä¸€æ¬¡è®¿é—®æœåŠ¡å™¨çš„æ—¶å€™, ä¸æºå¸¦ cookieï¼›")]),s._v(" "),e("li",[s._v("æœåŠ¡å™¨æ¥åˆ°è¯·æ±‚å, ä¼šè®°å½•ç”¨æˆ·çš„ä¿¡æ¯, ç„¶ååœ¨å“åº”å¤´ä¸­è®¾ç½® "),e("code",[s._v("set-cookie")]),s._v(" å¤´éƒ¨. å®¢æˆ·ç«¯æ”¶åˆ°åè¿›è¡Œå‚¨å­˜ï¼›")]),s._v(" "),e("li",[s._v("ä¸‹ä¸€æ¬¡å†è¯·æ±‚æœåŠ¡å™¨æ—¶è¯·æ±‚å¤´ä¸­ä¼šåŠ ä¸Š "),e("code",[s._v("cookie")]),s._v(" è¿™ä¸€é¡¹ï¼›")]),s._v(" "),e("li",[s._v("æœåŠ¡å™¨é€šè¿‡ "),e("code",[s._v("cookie")]),s._v(" åˆ¤æ–­å®¢æˆ·ç«¯æ˜¯å¦æ›¾ç»è®¿é—®è¿‡è¯¥ç½‘ç«™ã€‚")])])]),s._v(" "),e("li",[s._v("cookie æ˜¯æœ‰æ—¶é™çš„ã€‚ç§°ä¸ºæŒä¹…åŒ–æ—¶é—´ï¼š\n"),e("ul",[e("li",[s._v("é€šè¿‡å±æ€§ "),e("code",[s._v("maxAge")]),s._v(" å¯ä»¥è®¾ç½® cookie çš„å­˜å‚¨æ—¶é—´ï¼Œè¶…è¿‡æ—¶é—´å cookie ä¼šè¢«åˆ é™¤ï¼›")]),s._v(" "),e("li",[s._v("å¦‚æœä¸è®¾ç½®æŒä¹…åŒ–æ—¶é—´ï¼Œcookie å­˜åœ¨æµè§ˆå™¨å†…å­˜ä¸­ï¼Œåœ¨ä¼šè¯ç»“æŸåï¼ˆé¡µé¢å…³é—­ï¼‰cookie å°±ä¼šè¢«é”€æ¯ï¼›")]),s._v(" "),e("li",[s._v("æŒä¹…åŒ–åï¼Œcookie å­˜åœ¨è®¡ç®—æœºç£ç›˜æ–‡ä»¶ä¸­ï¼›")])])])]),s._v(" "),e("h3",{attrs:{id:"åœ¨-java-ä¸­ä½¿ç”¨-cookie"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#åœ¨-java-ä¸­ä½¿ç”¨-cookie"}},[s._v("#")]),s._v(" åœ¨ Java ä¸­ä½¿ç”¨ Cookie")]),s._v(" "),e("p",[e("strong",[s._v("åˆ›å»º cookie")]),s._v("ï¼š")]),s._v(" "),e("ul",[e("li",[e("code",[s._v('Cookie c = new Cookie("key", "value")')])])]),s._v(" "),e("p",[e("strong",[s._v("è®¾ç½®æŒä¹…åŒ–æ—¶é—´")]),s._v("ï¼š")]),s._v(" "),e("ul",[e("li",[e("code",[s._v("cookie.setMaxAge(int second)")]),s._v(";")]),s._v(" "),e("li",[s._v("è®¾ç½®çš„æ—¶é—´å•ä½ä¸ºç§’ï¼›")])]),s._v(" "),e("p",[e("strong",[s._v("å“åº”ç»™æµè§ˆå™¨")]),s._v("ï¼š")]),s._v(" "),e("ul",[e("li",[e("code",[s._v("response.addCookie(cookie)")])])]),s._v(" "),e("p",[e("img",{attrs:{src:"https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-2-4-0-52-39.png",alt:"2020-2-4-0-52-39.png"}})]),s._v(" "),e("p",[e("img",{attrs:{src:"https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-2-4-0-20-7.png",alt:"2020-2-4-0-20-7.png"}})]),s._v(" "),e("p",[e("strong",[s._v("è®¾ç½® Cookie çš„æºå¸¦è·¯å¾„")]),s._v("ï¼š")]),s._v(" "),e("ul",[e("li",[s._v("å¯¹äºä¸éœ€è¦ cookie ä¿¡æ¯çš„èµ„æºè®¿é—®ï¼Œæºå¸¦ cookie ä¼šé€ æˆæ•°æ®ä¼ è¾“é‡çš„åŠ å¤§ï¼Œé™ä½æ•ˆç‡å’Œé€Ÿåº¦ï¼›")]),s._v(" "),e("li",[s._v("é»˜è®¤æƒ…å†µä¸‹ï¼Œä¼šåœ¨è®¿é—®ä¸åˆ›å»º cookie çš„ Web èµ„æºæœ‰ç›¸åŒè·¯å¾„çš„èµ„æºæ—¶ï¼Œéƒ½æºå¸¦ cookie ä¿¡æ¯ï¼›\n"),e("ul",[e("li",[s._v("ğŸŒ° ä¾‹å¦‚ï¼šåˆ›å»º cookie çš„ Servlet åœ°å€æ˜¯ "),e("code",[s._v("http://localhost:8080/xxx/CookieServlet")]),s._v(";")]),s._v(" "),e("li",[s._v("é‚£ä¹ˆåªè¦è®¿é—®çš„èµ„æºï¼Œå‰é¢è·¯å¾„æ˜¯ "),e("code",[s._v("http://localhost:8080/xxx/")]),s._v(" é‚£ä¹ˆéƒ½ä¼šæºå¸¦ä¸Š cookie ä¿¡æ¯ï¼›")]),s._v(" "),e("li",[s._v("æ¯”æ–¹è¯´ "),e("code",[s._v("http://localhost:8080/xxx/LoginServlet")]),s._v(" å°±ä¼šæœ‰ cookie ä¿¡æ¯ï¼›")]),s._v(" "),e("li",[s._v("ä½†æ˜¯ "),e("code",[s._v("http://localhost:8080/xxx/product/BuyServlet")]),s._v(" å°±æ²¡æœ‰ï¼›")])])]),s._v(" "),e("li",[s._v("è®¾ç½®æºå¸¦è·¯å¾„ï¼š\n"),e("ul",[e("li",[e("code",[s._v("cookie.setPath(String path)")]),s._v("ï¼›\n"),e("ul",[e("li",[e("code",[s._v('cookie.setPath("/CookiePro/cookieServlet")')]),s._v("ï¼šåªæœ‰è®¿é—® cookieServlet æ‰æºå¸¦ cookie ä¿¡æ¯ï¼›")]),s._v(" "),e("li",[e("code",[s._v('cookie.setPath("/CookiePro")')]),s._v("ï¼šè®¿é—®æŒ‡å®šçš„å·¥ç¨‹æ—¶ï¼Œéƒ½ä¼šæºå¸¦ cookie ä¿¡æ¯ï¼›")]),s._v(" "),e("li",[e("code",[s._v('cookie.setPath("/")')]),s._v("ï¼šè®¿é—®æœåŠ¡å™¨ä¸‹éƒ¨ç½²çš„æ‰€æœ‰å·¥ç¨‹æ—¶ï¼Œéƒ½ä¼šæºå¸¦ cookie ä¿¡æ¯ï¼›")])])])])])]),s._v(" "),e("p",[e("strong",[s._v("åˆ é™¤ Cookie")]),s._v("ï¼š")]),s._v(" "),e("ul",[e("li",[s._v("æŠŠåŒåï¼ŒåŒè·¯å¾„çš„ Cookie çš„æŒä¹…åŒ–æ—¶é—´è®¾ç½®ä¸º 0ï¼›")]),s._v(" "),e("li",[e("code",[s._v("cookie.setMaxAge(0)")]),s._v("ï¼›")])]),s._v(" "),e("p",[e("strong",[s._v("åœ¨æœåŠ¡å™¨è·å–å®¢æˆ·ç«¯æºå¸¦çš„ Cookie")]),s._v("ï¼š")]),s._v(" "),e("ul",[e("li",[s._v("é€šè¿‡ Request å¯¹è±¡çš„ "),e("code",[s._v("getCookies()")]),s._v(" æ–¹æ³•è·å–æ‰€æœ‰çš„ cookieï¼›")]),s._v(" "),e("li",[s._v("é€šè¿‡éå†ï¼Œæ‰¾å‡ºè‡ªå·±æƒ³è¦çš„é‚£ä¸€ä¸ªï¼›")])]),s._v(" "),e("p",[e("img",{attrs:{src:"https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-2-4-0-57-45.png",alt:"2020-2-4-0-57-45.png"}})]),s._v(" "),e("h2",{attrs:{id:"session"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#session"}},[s._v("#")]),s._v(" Session")]),s._v(" "),e("h3",{attrs:{id:"ä»€ä¹ˆæ˜¯-session"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ä»€ä¹ˆæ˜¯-session"}},[s._v("#")]),s._v(" ä»€ä¹ˆæ˜¯ Session")]),s._v(" "),e("ul",[e("li",[s._v("session å’Œ cookie çš„ä½œç”¨æ˜¯ä¸€æ ·çš„ï¼Œä¹Ÿæ˜¯å­˜å‚¨ç”¨æˆ·ä¿¡æ¯ã€‚ä½†æ˜¯ session æ˜¯å­˜å‚¨åœ¨æœåŠ¡å™¨ç«¯çš„ï¼›")]),s._v(" "),e("li",[s._v("session è¿˜éœ€å€ŸåŠ© cookie å°†å”¯ä¸€æ ‡è¯† sessionID å­˜åˆ°å®¢æˆ·ç«¯ï¼›")]),s._v(" "),e("li",[s._v("å½“å®¢æˆ·ç«¯è®¿é—®æœåŠ¡å™¨æ—¶ï¼Œä¼šç”Ÿæˆä¸€ä¸ªå…¨å±€å”¯ä¸€æ ‡è¯† sessionIDï¼›")]),s._v(" "),e("li",[s._v("ç„¶åæœåŠ¡å™¨ä¼šè®°å½•ç”¨æˆ·çš„ä¿¡æ¯ç„¶åå­˜å‚¨åˆ°æœåŠ¡å™¨ session ä¸­ï¼Œå¹¶å°† id å“åº”ç»™å®¢æˆ·ç«¯ï¼›")]),s._v(" "),e("li",[s._v("æœåŠ¡å™¨ä½¿ç”¨ä¸€ç§ç±»ä¼¼äºæ•£åˆ—è¡¨çš„ç»“æ„æ¥ä¿å­˜ä¿¡æ¯, å½“ç¨‹åºéœ€è¦ä¸ºæŸä¸ªå®¢æˆ·ç«¯çš„è¯·æ±‚åˆ›å»ºä¸€ä¸ª session æ—¶ï¼š\n"),e("ul",[e("li",[s._v("æœåŠ¡å™¨é¦–å…ˆæ£€æŸ¥è¿™ä¸ªå®¢æˆ·ç«¯çš„è¯·æ±‚é‡Œæ˜¯å¦å·²åŒ…å«äº†ä¸€ä¸ª session æ ‡è¯† (session id)ï¼›\n"),e("ul",[e("li",[s._v("å¦‚æœå·²åŒ…å«åˆ™è¯´æ˜ä»¥å‰å·²ç»ä¸ºæ­¤å®¢æˆ·ç«¯åˆ›å»ºè¿‡ sessionï¼ŒæœåŠ¡å™¨å°±æŒ‰ç…§ session id æŠŠå¯¹åº”çš„ session æ£€ç´¢å‡ºæ¥ï¼›")]),s._v(" "),e("li",[s._v("å¦‚æœæ£€ç´¢ä¸åˆ°ï¼Œä¼šæ–°å»ºä¸€ä¸ªï¼›")])])]),s._v(" "),e("li",[s._v("å¦‚æœå®¢æˆ·ç«¯è¯·æ±‚ä¸åŒ…å« session idï¼›\n"),e("ul",[e("li",[s._v("åˆ™ä¸ºæ­¤å®¢æˆ·ç«¯åˆ›å»ºä¸€ä¸ª session å¹¶ä¸”ç”Ÿæˆä¸€ä¸ªä¸æ­¤ session ç›¸å…³è”çš„ session idï¼›")]),s._v(" "),e("li",[s._v("ç„¶ååœ¨æœ¬æ¬¡å“åº”ä¸­è¿”å›ç»™å®¢æˆ·ç«¯ä¿å­˜ï¼›")])])])])])]),s._v(" "),e("h3",{attrs:{id:"åœ¨-java-ä¸­ä½¿ç”¨-session"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#åœ¨-java-ä¸­ä½¿ç”¨-session"}},[s._v("#")]),s._v(" åœ¨ Java ä¸­ä½¿ç”¨ Session")]),s._v(" "),e("p",[e("strong",[s._v("è·å– Session å¯¹è±¡")]),s._v("ï¼š")]),s._v(" "),e("ul",[e("li",[e("code",[s._v("HttpSession s = request.getSession()")]),s._v(" è·å–å½“å‰ä¼šè¯çš„ Session å¯¹è±¡ï¼›\n"),e("ul",[e("li",[s._v("å¦‚æœæœåŠ¡å™¨æ²¡æœ‰å½“å‰ä¼šè¯çš„ Session å¯¹è±¡ï¼Œé‚£ä¹ˆå°±åˆ›å»ºä¸€ä¸ªæ–°çš„è¿”å›ï¼›")]),s._v(" "),e("li",[s._v("å¦‚æœå·²ç»æœ‰äº†å±äºè¯¥ä¼šè¯çš„ Session å°±ç›´æ¥è¿”å›ï¼›")]),s._v(" "),e("li",[s._v("æœ¬è´¨å°±æ˜¯æ ¹æ® Session Id æ¥åˆ¤æ–­æ˜¯å¦æœåŠ¡å™¨å·²ç»æœ‰ Session äº†ï¼›")])])])]),s._v(" "),e("p",[e("strong",[s._v("ç”¨ Session å­˜å–æ•°æ®")]),s._v("ï¼š")]),s._v(" "),e("ul",[e("li",[e("code",[s._v("session.setAttribute(String name, Object obj)")]),s._v(" ä¿å­˜")]),s._v(" "),e("li",[e("code",[s._v("session.getAttribute(String name)")]),s._v(" è¯»å–")]),s._v(" "),e("li",[e("code",[s._v("session.removeAttribute(String name)")]),s._v(" åˆ é™¤")])]),s._v(" "),e("p",[e("img",{attrs:{src:"https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-2-4-1-15-57.png",alt:"2020-2-4-1-15-57.png"}})]),s._v(" "),e("p",[e("strong",[s._v("Session ç”Ÿå‘½å‘¨æœŸ")]),s._v("ï¼š")]),s._v(" "),e("ul",[e("li",[s._v("åˆ›å»ºï¼šç¬¬ä¸€æ¬¡æ‰§è¡Œ "),e("code",[s._v("request.getSession()")]),s._v(" æ—¶åˆ›å»ºï¼›")]),s._v(" "),e("li",[s._v("é”€æ¯ï¼š\n"),e("ul",[e("li",[s._v("æœåŠ¡å™¨å…³é—­æ—¶é”€æ¯ï¼›")]),s._v(" "),e("li",[s._v("é»˜è®¤ 30 åˆ†é’Ÿä¹Ÿé”€æ¯ã€‚åœ¨ web.xml ä¸­ï¼Œå¯ä»¥ä¿®æ”¹è¿™ä¸ªæ—¶é—´ï¼š\n"),e("ul",[e("li",[e("img",{attrs:{src:"https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-2-4-1-18-34.png",alt:"2020-2-4-1-18-34.png"}})])])]),s._v(" "),e("li",[s._v("æ‰‹åŠ¨é”€æ¯ï¼š"),e("code",[s._v("session.invalidate()")]),s._v(" æ–¹æ³•ä¸»åŠ¨é”€æ¯ï¼›")])])]),s._v(" "),e("li",[s._v("ä½œç”¨èŒƒå›´ï¼šé»˜è®¤åœ¨ä¸€æ¬¡ä¼šè¯ä¸­ï¼Œæ‰€æœ‰èµ„æºå…±ç”¨ä¸€ä¸ª session å¯¹è±¡ï¼›")]),s._v(" "),e("li",[s._v("JsessionID çš„æŒä¹…åŒ–ï¼š\n"),e("ul",[e("li",[s._v("å½“æœåŠ¡å™¨æŠŠ session id å‘ç»™æµè§ˆå™¨æ—¶ï¼Œæµè§ˆå™¨æŠŠ id å‚¨å­˜ä¸º cookieï¼Œç„¶åä¸‹æ¬¡è¯·æ±‚çš„æ—¶å€™å†å‘ç»™æœåŠ¡å™¨ï¼›")]),s._v(" "),e("li",[s._v("ä½†æ˜¯ï¼Œå¦‚æœæŠŠæµè§ˆå™¨å…³æ‰ï¼Œæ–­å¼€ä¼šè¯ï¼›")]),s._v(" "),e("li",[s._v("é»˜è®¤ cookie å°±è¢«é”€æ¯äº†ï¼›")]),s._v(" "),e("li",[s._v("æ‰€ä»¥éœ€è¦è®¾ç½® cookie æŒä¹…åŒ–æ—¶é—´ï¼›\n"),e("img",{attrs:{src:"https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-2-4-19-4-13.png",alt:"2020-2-4-19-4-13.png"}})])])])])])}),[],!1,null,null,null);i.default=v.exports}}]);
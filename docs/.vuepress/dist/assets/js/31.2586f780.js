(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{207:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[t._m(0),a("p",[a("a",{attrs:{href:"https://docs.mongodb.com/manual/core/document/",target:"_blank",rel:"noopener noreferrer"}},[t._v("文档"),a("OutboundLink")],1)]),t._m(1),a("p",[t._v("MongoDB 是一个基于分布式文件存储的数据库.\n属于 NoSql (非关系型数据库) 的一种\n旨在为 WEB 应用提供可扩展的高性能数据存储解决方案。")]),a("p",[t._v("MongoDB 是一个介于关系数据库和非关系数据库之间的产品")]),a("p",[t._v("MongoDB 将数据存储为一个文档，数据结构由键值(key => value)对组成。MongoDB 文档类似于 JSON 对象。字段值可以包含其他文档，数组及文档数组。")]),t._m(2),t._m(3),a("p",[t._v("通过下图实例，我们也可以更直观的了解Mongo中的一些概念：")]),t._m(4),t._m(5),a("p",[t._v("在 mongodb 中可以建立多个数据库。")]),a("p",[t._v('MongoDB 的默认数据库为 "db"，该数据库存储在 data 目录中。')]),t._m(6),a("p",[t._v("数据库名可以是满足以下条件的任意 UTF-8 字符串:")]),t._m(7),a("p",[t._v("有一些数据库名是保留的，可以直接访问这些有特殊作用的数据库:")]),t._m(8),t._m(9),t._m(10),t._m(11),t._m(12),t._m(13),t._m(14),t._m(15),t._m(16),t._m(17),t._m(18),a("p",[t._v("刚创建的数据库并不在数据库的列表中, 要显示它，我们需要向数据库插入一些数据。")]),t._m(19),t._m(20),t._m(21),t._m(22),a("p",[t._v("集合就是 MongoDB 文档组，类似于关系型数据库\b中的表格 ( table )。")]),a("p",[t._v("集合存在于数据库中，集合没有固定的结构，这意味着你在对集合可以插入不同格式和类型的数据，但通常情况下我们插入集合的数据都会有一定的关联性。")]),a("p",[t._v("实例:")]),t._m(23),a("p",[t._v("当第一个文档插入时，集合就会被创建。")]),t._m(24),t._m(25),t._m(26),t._m(27),t._m(28),t._m(29),t._m(30),t._m(31),t._m(32),t._m(33),a("p",[t._v("在插入文档时，MongoDB 首先检查固定集合的 size 字段，然后检查 max 字段。")]),t._m(34),a("p",[t._v("在 MongoDB 中，你不需要创建集合。当你插入一些文档时，MongoDB 会自动创建集合。")]),a("p",[t._v("语法:")]),t._m(35),a("p",[t._v("实例:")]),t._m(36),t._m(37),a("p",[t._v("语法:")]),t._m(38),a("p",[t._v("\b实例:")]),t._m(39),t._m(40),t._m(41),a("p",[t._v("文档是一组键值( key - value )。MongoDB 的文档不需要设置相同的字段，并且相同的字段不需要相同的数据类型.")]),a("p",[t._v("文档的数据结构和 JSON 基本一样。所有存储在集合中的数据都是 BSON 格式。")]),a("p",[t._v("BSON 是一种 类json 的二进制形式的存储格式, 简称 Binary JSON。")]),a("p",[t._v("\b实例:")]),t._m(42),a("p",[t._v("MongoDB 区分类型和大小写。")]),t._m(43),t._m(44),t._m(45),t._m(46),t._m(47),a("p",[t._v("\b语法:")]),t._m(48),a("p",[t._v("插入文档到 col 集合中:")]),a("p",[t._v("\b实例:")]),t._m(49),a("p",[t._v("也可以将文档定义为一个变量:")]),a("p",[t._v("\b实例:")]),t._m(50),t._m(51),a("p",[t._v("\b语法:")]),t._m(52),a("p",[t._v("\b实例:")]),t._m(53),t._m(54),t._m(55),t._m(56),a("p",[t._v("\b语法:")]),t._m(57),t._m(58),a("p",[t._v("\b实例:")]),t._m(59),t._m(60),a("p",[t._v("语法:")]),t._m(61),t._m(62),a("p",[t._v("实例:")]),t._m(63),t._m(64),t._m(65),t._m(66),a("p",[t._v("语法:")]),t._m(67),t._m(68),a("p",[t._v("实例\b:")]),t._m(69),t._m(70),t._m(71),a("p",[t._v("实例:")]),t._m(72),a("p",[t._v("删除所有数据，可以使用以下方式:")]),a("p",[t._v("实例:")]),t._m(73),t._m(74),t._m(75),a("p",[t._v("语法:")]),t._m(76),t._m(77),t._m(78),a("p",[t._v("实例:")]),t._m(79),t._m(80),t._m(81),t._m(82),a("p",[t._v("语法:")]),t._m(83),t._m(84),t._m(85),a("p",[t._v("语法:")]),t._m(86),a("p",[t._v("AND 和 OR 联合使用:")]),a("p",[t._v("实例:")]),t._m(87),t._m(88),a("p",[t._v("不太懂, 下回再说")]),a("p",[a("a",{attrs:{href:"http://www.runoob.com/mongodb/mongodb-databases-documents-collections.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("链接"),a("OutboundLink")],1)]),t._m(89),t._m(90),t._m(91),a("p",[t._v("ObjectId 类似唯一主键，可以很快的去生成和排序，包含 12 bytes")]),t._m(92),t._m(93),t._m(94),t._m(95),t._m(96),a("p",[t._v("ObjectId 转为字符串:")]),t._m(97)])},[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"mongodb-基础知识"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mongodb-基础知识","aria-hidden":"true"}},[this._v("#")]),this._v(" MongoDB 基础知识")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"什么是-mongodb"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#什么是-mongodb","aria-hidden":"true"}},[this._v("#")]),this._v(" 什么是 MongoDB")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"概念解析"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#概念解析","aria-hidden":"true"}},[this._v("#")]),this._v(" 概念解析")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("table",[a("thead",[a("tr",[a("th",[t._v("SQL术语/概念")]),a("th",[t._v("MongoDB术语/概念")]),a("th",[t._v("解释/说明")])])]),a("tbody",[a("tr",[a("td",[t._v("database")]),a("td",[t._v("database")]),a("td",[t._v("数据库")])]),a("tr",[a("td",[t._v("table")]),a("td",[t._v("collection")]),a("td",[t._v("数据库表/集合")])]),a("tr",[a("td",[t._v("row")]),a("td",[t._v("document")]),a("td",[t._v("数据记录行/文档")])]),a("tr",[a("td",[t._v("column")]),a("td",[t._v("field")]),a("td",[t._v("数据字段/域")])]),a("tr",[a("td",[t._v("index")]),a("td",[t._v("index")]),a("td",[t._v("索引")])]),a("tr",[a("td",[t._v("table joins")]),a("td"),a("td",[t._v("表连接, MongoDB不支持")])]),a("tr",[a("td",[t._v("primary key")]),a("td",[t._v("primary key")]),a("td",[t._v("主键, MongoDB自动将"),a("code",[t._v("_id")]),t._v("字段设置为主键")])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:"https://i.imgur.com/JJSX0wg.png",alt:"Figure-1-Mapping-Table-to-Collection-1"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"数据库-database"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#数据库-database","aria-hidden":"true"}},[this._v("#")]),this._v(" 数据库 - database")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"数据库命名"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#数据库命名","aria-hidden":"true"}},[this._v("#")]),this._v(" 数据库命名")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[t._v("不能是空字符串")]),a("li",[t._v("不得含有 "),a("code",[t._v("空格")]),t._v("、"),a("code",[t._v(".")]),t._v("、"),a("code",[t._v("$")]),t._v("、"),a("code",[t._v("/")]),t._v("、"),a("code",[t._v("\\")]),t._v(" 和 "),a("code",[t._v("\\0 (空字符)")])]),a("li",[t._v("应全部小写")]),a("li",[t._v("最多64字节")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[s("code",[this._v("admin")]),this._v(': 从权限的角度来看，这是 "root" 数据库。要是将一个用户添加到这个数据库，这个用户自动继承所有数据库的权限。一些特定的服务器端命令也只能从这个数据库运行，比如列出所有的数据库或者关闭服务器。')]),s("li",[s("code",[this._v("local")]),this._v(": 这个数据永远不会被复制，可以用来存储限于本地单台服务器的任意集合")]),s("li",[s("code",[this._v("config")]),this._v(": 当 Mongo 用于分片设置时，config 数据库在内部使用，用于保存分片的相关信息。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"基本操作"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#基本操作","aria-hidden":"true"}},[this._v("#")]),this._v(" 基本操作")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"显示数据库列表"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#显示数据库列表","aria-hidden":"true"}},[this._v("#")]),this._v(" 显示数据库列表")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("show dbs")]),this._v(" 命令可以显示数据库列表。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{attrs:{class:"token operator"}},[this._v(">")]),this._v(" show dbs\nadmin   0.000GB\nconfig  0.000GB\nlocal   0.000GB\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"显示当前数据库"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#显示当前数据库","aria-hidden":"true"}},[this._v("#")]),this._v(" 显示当前数据库")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("db")]),this._v(" 命令可以显示当前数据库对象或集合。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{attrs:{class:"token operator"}},[this._v(">")]),this._v(" db\n"),s("span",{attrs:{class:"token function"}},[this._v("test")]),this._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"创建-切换-数据库"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#创建-切换-数据库","aria-hidden":"true"}},[this._v("#")]),this._v(" 创建/切换 数据库")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("use")]),this._v(" + "),s("code",[this._v("数据库名")]),this._v(" 命令可以连接到一个指定的数据库, 如果数据库不存在，则创建数据库.")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token operator"}},[this._v(">")]),this._v(" use mytest\nswitched to db mytest\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("MongoDB 中默认的数据库为 "),s("code",[this._v("test")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"删除数据库"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#删除数据库","aria-hidden":"true"}},[this._v("#")]),this._v(" 删除数据库")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("db.dropDatabase()")]),this._v(" 命令可以删除当前数据库.")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"集合-collection"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#集合-collection","aria-hidden":"true"}},[this._v("#")]),this._v(" 集合 - collection")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v('"site"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"www.baidu.com"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v('"name"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"百度"')]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v('"site"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"www.google.com"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v('"name"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"Google"')]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v('"site"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"www.runoob.com"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v('"name"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"菜鸟教程"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v('"num"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("5")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"集合命名"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#集合命名","aria-hidden":"true"}},[this._v("#")]),this._v(" 集合命名:")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[t._v("集合名不能是空字符串。")]),a("li",[t._v("集合名不能含有 "),a("code",[t._v("\\0（空字符)")]),t._v("，这个字符表示集合名的结尾。")]),a("li",[t._v("集合名不能以 "),a("code",[t._v("system.")]),t._v(" 开头，这是为系统集合保留的前缀。")]),a("li",[t._v("用户创建的集合名字不能含有保留字符。有些驱动程序的确支持在集合名里面包含，这是因为某些系统生成的集合中包含该字符。除非你要访问这种系统创建的集合，否则千万不要在名字里出现 "),a("code",[t._v("$")]),t._v("。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"基本操作-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#基本操作-2","aria-hidden":"true"}},[this._v("#")]),this._v(" 基本操作")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"查看已有集合"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看已有集合","aria-hidden":"true"}},[this._v("#")]),this._v(" 查看已有集合")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{attrs:{class:"token operator"}},[this._v(">")]),this._v(" show collections\ntest1\ntest2\ntest3\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"创建集合"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#创建集合","aria-hidden":"true"}},[this._v("#")]),this._v(" 创建集合")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("使用 "),s("code",[this._v("createCollection()")]),this._v(" 方法来创建集合。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[this._v("db.createCollection"),s("span",{attrs:{class:"token punctuation"}},[this._v("(")]),this._v("name, options"),s("span",{attrs:{class:"token punctuation"}},[this._v(")")]),this._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("name: 要创建的集合名称")]),s("li",[this._v("options: 可选参数, 指定有关内存大小及索引的选项")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("table",[a("thead",[a("tr",[a("th",[t._v("字段")]),a("th",[t._v("类型")]),a("th",[t._v("描述")])])]),a("tbody",[a("tr",[a("td",[t._v("capped")]),a("td",[t._v("布尔")]),a("td",[t._v("（可选）如果为 true，则创建固定集合。固定集合是指有着固定大小的集合，当达到最大值时，它会自动覆盖最早的文档。当该值为 true 时，必须指定 size 参数。")])]),a("tr",[a("td",[t._v("autoIndexId")]),a("td",[t._v("布尔")]),a("td",[t._v("（可选）如为 true，自动在 _id 字段创建索引。默认为 false。")])]),a("tr",[a("td",[t._v("size")]),a("td",[t._v("数值")]),a("td",[t._v("（可选）为固定集合指定一个最大值（以字节计）。如果 capped 为 true，也需要指定该字段。")])]),a("tr",[a("td",[t._v("max")]),a("td",[t._v("数值")]),a("td",[t._v("（可选）指定固定集合中包含文档的最大数量。")])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"插入集合"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#插入集合","aria-hidden":"true"}},[this._v("#")]),this._v(" 插入集合")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[this._v("db.COLLECTION_NAME.insert"),s("span",{attrs:{class:"token punctuation"}},[this._v("(")]),this._v("DOCUMENT"),s("span",{attrs:{class:"token punctuation"}},[this._v(")")]),this._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" db.test4.insert"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{attrs:{class:"token string"}},[t._v("'name'")]),a("span",{attrs:{class:"token keyword"}},[t._v(":")]),a("span",{attrs:{class:"token string"}},[t._v("'test4'")]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nWriteResult"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"nInserted"')]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v(":")]),t._v(" 1 "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" show collections\ntest1\ntest2\ntest3\ntest4\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"删除集合"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#删除集合","aria-hidden":"true"}},[this._v("#")]),this._v(" 删除集合")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{attrs:{class:"token operator"}},[this._v(">")]),this._v(" db.COLLECTION_NAME.drop"),s("span",{attrs:{class:"token punctuation"}},[this._v("(")]),s("span",{attrs:{class:"token punctuation"}},[this._v(")")]),this._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" db.mycol2.drop"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("如果成功删除选定集合，则 "),s("code",[this._v("drop()")]),this._v(" 方法返回 "),s("code",[this._v("true")]),this._v("，否则返回 "),s("code",[this._v("false")]),this._v("。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"文档-document"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#文档-document","aria-hidden":"true"}},[this._v("#")]),this._v(" 文档 - document")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token string"}},[t._v('"site"')]),a("span",{attrs:{class:"token keyword"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"www.runoob.com"')]),t._v(", \n    "),a("span",{attrs:{class:"token string"}},[t._v('"name"')]),a("span",{attrs:{class:"token keyword"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"菜鸟教程"')]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"文档键命名"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#文档键命名","aria-hidden":"true"}},[this._v("#")]),this._v(" 文档键命名")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[t._v("键不能含有 "),a("code",[t._v("\\0 (空字符)")]),t._v("。这个字符用来表示键的结尾")]),a("li",[a("code",[t._v(".")]),t._v(" 和 "),a("code",[t._v("$")]),t._v(" 有特别的意义，只有在特定环境下才能使用")]),a("li",[t._v("以下划线 "),a("code",[t._v("_")]),t._v(" 开头的键是保留的 (不是严格要求的)")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"基本操作-3"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#基本操作-3","aria-hidden":"true"}},[this._v("#")]),this._v(" 基本操作")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"插入文档"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#插入文档","aria-hidden":"true"}},[this._v("#")]),this._v(" 插入文档")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("使用 "),s("code",[this._v("insert()")]),this._v(" 或 "),s("code",[this._v("save()")]),this._v(" 方法向集合中插入文档, 如果该集合不在该数据库中， MongoDB 会自动创建该集合并插入文档.")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[this._v("db.COLLECTION_NAME.insert"),s("span",{attrs:{class:"token punctuation"}},[this._v("(")]),this._v("document"),s("span",{attrs:{class:"token punctuation"}},[this._v(")")]),this._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" db.col.insert"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    title: "),a("span",{attrs:{class:"token string"}},[t._v("'MongoDB 教程'")]),t._v(", \n    description: "),a("span",{attrs:{class:"token string"}},[t._v("'MongoDB 是一个 Nosql 数据库'")]),t._v(",\n    by: "),a("span",{attrs:{class:"token string"}},[t._v("'菜鸟教程'")]),t._v(",\n    url: "),a("span",{attrs:{class:"token string"}},[t._v("'http://www.runoob.com'")]),t._v(",\n    tags: "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token string"}},[t._v("'mongodb'")]),t._v(", "),a("span",{attrs:{class:"token string"}},[t._v("'database'")]),t._v(", "),a("span",{attrs:{class:"token string"}},[t._v("'NoSQL'")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v(",\n    likes: 100\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" document "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("title: "),a("span",{attrs:{class:"token string"}},[t._v("'MongoDB 教程'")]),t._v(", \n    description: "),a("span",{attrs:{class:"token string"}},[t._v("'MongoDB 是一个 Nosql 数据库'")]),t._v(",\n    by: "),a("span",{attrs:{class:"token string"}},[t._v("'菜鸟教程'")]),t._v(",\n    url: "),a("span",{attrs:{class:"token string"}},[t._v("'http://www.runoob.com'")]),t._v(",\n    tags: "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token string"}},[t._v("'mongodb'")]),t._v(", "),a("span",{attrs:{class:"token string"}},[t._v("'database'")]),t._v(", "),a("span",{attrs:{class:"token string"}},[t._v("'NoSQL'")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v(",\n    likes: 100\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" db.col.insert"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("document"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nWriteResult"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"nInserted"')]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v(":")]),t._v(" 1 "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" \n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"查看已插入文档"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看已插入文档","aria-hidden":"true"}},[this._v("#")]),this._v(" 查看已插入文档")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[this._v("db.COLLECTION_NAME.find"),s("span",{attrs:{class:"token punctuation"}},[this._v("(")]),s("span",{attrs:{class:"token punctuation"}},[this._v(")")]),this._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" db.col.find"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" \n    "),a("span",{attrs:{class:"token string"}},[t._v('"_id"')]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v(":")]),t._v(" ObjectId"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"56064886ade2f21f36b03134"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(", \n    "),a("span",{attrs:{class:"token string"}},[t._v('"title"')]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"MongoDB 教程"')]),t._v(", \n    "),a("span",{attrs:{class:"token string"}},[t._v('"description"')]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"MongoDB 是一个 Nosql 数据库"')]),t._v(", \n    "),a("span",{attrs:{class:"token string"}},[t._v('"by"')]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"菜鸟教程"')]),t._v(", \n    "),a("span",{attrs:{class:"token string"}},[t._v('"url"')]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"http://www.runoob.com"')]),t._v(", \n    "),a("span",{attrs:{class:"token string"}},[t._v('"tags"')]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"mongodb"')]),t._v(", "),a("span",{attrs:{class:"token string"}},[t._v('"database"')]),t._v(", "),a("span",{attrs:{class:"token string"}},[t._v('"NoSQL"')]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v(", \n    "),a("span",{attrs:{class:"token string"}},[t._v('"likes"')]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v(":")]),t._v(" 100 \n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"更新文档"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#更新文档","aria-hidden":"true"}},[this._v("#")]),this._v(" 更新文档")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("使用 "),s("code",[this._v("update()")]),this._v(" 和 "),s("code",[this._v("save()")]),this._v(" 方法来更新集合中的文档")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("update()")]),this._v(" 方法用于更新已存在的文档:")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("db.collection.update"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n   "),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("query"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(",\n   "),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("update"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(",\n   "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n     upsert: "),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("boolean"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(",\n     multi: "),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("boolean"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(",\n     writeConcern: "),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("document"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v("\n   "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[a("code",[t._v("query")]),t._v(" : update 的查询条件，类似 sql update 查询内 where 后面的。")]),a("li",[a("code",[t._v("update")]),t._v(" : update 的对象和一些更新的操作符（如 "),a("code",[t._v("$")]),t._v(","),a("code",[t._v("$inc")]),t._v("...）等，也可以理解为 sql update 查询内 set 后面的")]),a("li",[a("code",[t._v("upsert")]),t._v(" : 可选，这个参数的意思是，如果不存在 update 的记录，是否插入 objNew , true 为插入，默认是 false，不插入。")]),a("li",[a("code",[t._v("multi")]),t._v(" : 可选，mongodb 默认是 false,只更新找到的第一条记录，如果这个参数为 true, 就把按条件查出来多条记录全部更新。")]),a("li",[a("code",[t._v("writeConcern")]),t._v(" : 可选，抛出异常的级别。")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" db.col.insert"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token string"}},[t._v('"title"')]),a("span",{attrs:{class:"token keyword"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'MongoDB 教程'")]),t._v(", \n    "),a("span",{attrs:{class:"token string"}},[t._v('"description"')]),a("span",{attrs:{class:"token keyword"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'MongoDB 是一个 Nosql 数据库'")]),t._v(",\n    "),a("span",{attrs:{class:"token string"}},[t._v('"by"')]),a("span",{attrs:{class:"token keyword"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'菜鸟教程'")]),t._v(",\n    "),a("span",{attrs:{class:"token string"}},[t._v('"url"')]),a("span",{attrs:{class:"token keyword"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'http://www.runoob.com'")]),t._v(",\n    "),a("span",{attrs:{class:"token string"}},[t._v('"tags"')]),a("span",{attrs:{class:"token keyword"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token string"}},[t._v("'mongodb'")]),t._v(", "),a("span",{attrs:{class:"token string"}},[t._v("'database'")]),t._v(", "),a("span",{attrs:{class:"token string"}},[t._v("'NoSQL'")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v(",\n    "),a("span",{attrs:{class:"token string"}},[t._v('"likes"')]),a("span",{attrs:{class:"token keyword"}},[t._v(":")]),t._v(" 100\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" db.col.update"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{attrs:{class:"token string"}},[t._v("'title'")]),a("span",{attrs:{class:"token keyword"}},[t._v(":")]),a("span",{attrs:{class:"token string"}},[t._v("'MongoDB 教程'")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(", \n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{attrs:{class:"token variable"}},[t._v("$set")]),t._v(":"),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{attrs:{class:"token string"}},[t._v("'title'")]),a("span",{attrs:{class:"token keyword"}},[t._v(":")]),a("span",{attrs:{class:"token string"}},[t._v("'MongoDB'")]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nWriteResult"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"nMatched"')]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v(":")]),t._v(" 1, "),a("span",{attrs:{class:"token string"}},[t._v('"nUpserted"')]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v(":")]),t._v(" 0, "),a("span",{attrs:{class:"token string"}},[t._v('"nModified"')]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v(":")]),t._v(" 1 "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("   \n\n"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" db.col.find"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".pretty"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token string"}},[t._v('"_id"')]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v(":")]),t._v(" ObjectId"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"56064f89ade2f21f36b03136"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(",\n    "),a("span",{attrs:{class:"token string"}},[t._v('"title"')]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"MongoDB"')]),t._v(",\n    "),a("span",{attrs:{class:"token string"}},[t._v('"description"')]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"MongoDB 是一个 Nosql 数据库"')]),t._v(",\n    "),a("span",{attrs:{class:"token string"}},[t._v('"by"')]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"菜鸟教程"')]),t._v(",\n    "),a("span",{attrs:{class:"token string"}},[t._v('"url"')]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"http://www.runoob.com"')]),t._v(",\n    "),a("span",{attrs:{class:"token string"}},[t._v('"tags"')]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n            "),a("span",{attrs:{class:"token string"}},[t._v('"mongodb"')]),t._v(",\n            "),a("span",{attrs:{class:"token string"}},[t._v('"database"')]),t._v(",\n            "),a("span",{attrs:{class:"token string"}},[t._v('"NoSQL"')]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v(",\n    "),a("span",{attrs:{class:"token string"}},[t._v('"likes"')]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v(":")]),t._v(" 100\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("save()")]),this._v(" 方法通过传入的文档来替换已有文档。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("db.collection.save"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n   "),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("document"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(",\n   "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n     writeConcern: "),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("document"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v("\n   "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[s("code",[this._v("document")]),this._v(" : 文档数据。")]),s("li",[s("code",[this._v("writeConcern")]),this._v(" :可选，抛出异常的级别。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("以下实例中我们替换了 _id 为 "),s("code",[this._v("56064f89ade2f21f36b03136")]),this._v(" 的文档数据：")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v("db.col.save"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token string"}},[t._v('"_id"')]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v(":")]),t._v(" ObjectId"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"56064f89ade2f21f36b03136"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(",\n    "),a("span",{attrs:{class:"token string"}},[t._v('"title"')]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"MongoDB"')]),t._v(",\n    "),a("span",{attrs:{class:"token string"}},[t._v('"description"')]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"MongoDB 是一个 Nosql 数据库"')]),t._v(",\n    "),a("span",{attrs:{class:"token string"}},[t._v('"by"')]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"Runoob"')]),t._v(",\n    "),a("span",{attrs:{class:"token string"}},[t._v('"url"')]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"http://www.runoob.com"')]),t._v(",\n    "),a("span",{attrs:{class:"token string"}},[t._v('"tags"')]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n            "),a("span",{attrs:{class:"token string"}},[t._v('"mongodb"')]),t._v(",\n            "),a("span",{attrs:{class:"token string"}},[t._v('"NoSQL"')]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v(",\n    "),a("span",{attrs:{class:"token string"}},[t._v('"likes"')]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v(":")]),t._v(" 110\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"删除文档"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#删除文档","aria-hidden":"true"}},[this._v("#")]),this._v(" 删除文档")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("remove()")]),this._v("方法用来移除集合中的数据")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("db.collection.remove"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n   "),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("query"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(",\n   "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n     justOne: "),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("boolean"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(",\n     writeConcern: "),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("document"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v("\n   "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[s("code",[this._v("query")]),this._v(" :（可选）删除的文档的条件。")]),s("li",[s("code",[this._v("justOne")]),this._v(" : （可选）如果设为 true 或 1，则只删除一个文档。")]),s("li",[s("code",[this._v("writeConcern")]),this._v(" :（可选）抛出异常的级别。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("移除 "),s("code",[this._v("title")]),this._v(" 为 'MongoDB 教程' 的文档:")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" db.col.remove"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{attrs:{class:"token string"}},[t._v("'title'")]),a("span",{attrs:{class:"token keyword"}},[t._v(":")]),a("span",{attrs:{class:"token string"}},[t._v("'MongoDB 教程'")]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nWriteResult"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"nRemoved"')]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v(":")]),t._v(" 2 "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("           "),a("span",{attrs:{class:"token comment"}},[t._v("# 删除了两条数据")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("只想删除第一条找到的记录可以设置 "),s("code",[this._v("justOne")]),this._v(" 为 "),s("code",[this._v("1")]),this._v(":")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" db.col.remove"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{attrs:{class:"token string"}},[t._v("'title'")]),a("span",{attrs:{class:"token keyword"}},[t._v(":")]),a("span",{attrs:{class:"token string"}},[t._v("'MongoDB 教程'")]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(", 1"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{attrs:{class:"token operator"}},[this._v(">")]),this._v(" db.col.remove"),s("span",{attrs:{class:"token punctuation"}},[this._v("(")]),s("span",{attrs:{class:"token punctuation"}},[this._v("{")]),s("span",{attrs:{class:"token punctuation"}},[this._v("}")]),s("span",{attrs:{class:"token punctuation"}},[this._v(")")]),this._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"查询文档"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查询文档","aria-hidden":"true"}},[this._v("#")]),this._v(" 查询文档")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("查询文档使用 "),s("code",[this._v("find()")]),this._v(" 方法")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[this._v("db.collection.find"),s("span",{attrs:{class:"token punctuation"}},[this._v("(")]),this._v("query, projection"),s("span",{attrs:{class:"token punctuation"}},[this._v(")")]),this._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[s("code",[this._v("query")]),this._v(" ：可选，使用查询操作符指定查询条件")]),s("li",[s("code",[this._v("projection")]),this._v(" ：可选，使用投影操作符指定返回的键。查询时返回文档中所有键值， 只需省略该参数即可（默认省略）。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("需要以易读的方式来读取数据，可以使用 "),s("code",[this._v("pretty()")]),this._v(" 方法:")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" db.col.find"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".pretty"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("table",[a("thead",[a("tr",[a("th",[t._v("操作")]),a("th",[t._v("格式")]),a("th",[t._v("范例")]),a("th",[t._v("RDBMS中的类似语句")])])]),a("tbody",[a("tr",[a("td",[t._v("等于")]),a("td",[a("code",[t._v("{<key>:<value>}")])]),a("td",[a("code",[t._v('db.col.find({"by":"菜鸟教程"}).pretty()')])]),a("td",[t._v("where by = '菜鸟教程'")])]),a("tr",[a("td",[t._v("小于")]),a("td",[a("code",[t._v("{<key>:{$lt:<value>}}")])]),a("td",[a("code",[t._v('db.col.find({"likes":{$lt:50}}).pretty()')])]),a("td",[t._v("where likes < 50")])]),a("tr",[a("td",[t._v("小于或等于")]),a("td",[a("code",[t._v("{<key>:{$lte:<value>}}")])]),a("td",[a("code",[t._v('db.col.find({"likes":{$lte:50}}).pretty()')])]),a("td",[t._v("where likes <= 50")])]),a("tr",[a("td",[t._v("大于")]),a("td",[a("code",[t._v("{<key>:{$gt:<value>}}")])]),a("td",[a("code",[t._v('db.col.find({"likes":{$gt:50}}).pretty()')])]),a("td",[t._v("where likes > 50")])]),a("tr",[a("td",[t._v("大于或等于")]),a("td",[a("code",[t._v("{<key>:{$gte:<value>}}")])]),a("td",[a("code",[t._v('db.col.find({"likes":{$gte:50}}).pretty()')])]),a("td",[t._v("where likes >= 50")])]),a("tr",[a("td",[t._v("不等于")]),a("td",[a("code",[t._v("{<key>:{$ne:<value>}}")])]),a("td",[a("code",[t._v('db.col.find({"likes":{$ne:50}}).pretty()')])]),a("td",[t._v("where likes != 50")])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("AND 条件:")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("find()")]),this._v(" 方法可以传入多个键 ( key )，每个键 ( key ) 以逗号隔开.")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("db.collection.find"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("key1:value1, key2:value2"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".pretty"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("OR 条件:")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("OR 条件语句使用了关键字 "),s("code",[this._v("$or")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("db.collection.find"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n   "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{attrs:{class:"token variable"}},[t._v("$or")]),a("span",{attrs:{class:"token keyword"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n         "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("key1: value1"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(", "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("key2:value2"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n   "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".pretty"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v("db.col.find"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{attrs:{class:"token string"}},[t._v('"likes"')]),a("span",{attrs:{class:"token keyword"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{attrs:{class:"token variable"}},[t._v("$gt")]),t._v(":50"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(", \n        "),a("span",{attrs:{class:"token variable"}},[t._v("$or")]),a("span",{attrs:{class:"token keyword"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n            "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{attrs:{class:"token string"}},[t._v('"by"')]),a("span",{attrs:{class:"token keyword"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"菜鸟教程"')]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(",\n            "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{attrs:{class:"token string"}},[t._v('"title"')]),a("span",{attrs:{class:"token keyword"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"MongoDB 教程"')]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".pretty"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{attrs:{class:"token comment"}},[t._v("# 等价于 WHERE likes > 50 AND (by = '菜鸟教程' OR title = 'MongoDB 教程')")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"元数据"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#元数据","aria-hidden":"true"}},[this._v("#")]),this._v(" 元数据")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"数据类型"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#数据类型","aria-hidden":"true"}},[this._v("#")]),this._v(" 数据类型")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("table",[a("thead",[a("tr",[a("th",[t._v("数据类型")]),a("th",[t._v("描述")])])]),a("tbody",[a("tr",[a("td",[t._v("String")]),a("td",[t._v("字符串。存储数据常用的数据类型。在 MongoDB 中，UTF-8 编码的字符串才是合法的。")])]),a("tr",[a("td",[t._v("Integer")]),a("td",[t._v("整型数值。用于存储数值。根据你所采用的服务器，可分为 32 位或 64 位。")])]),a("tr",[a("td",[t._v("Boolean")]),a("td",[t._v("布尔值。用于存储布尔值（真/假）。")])]),a("tr",[a("td",[t._v("Double")]),a("td",[t._v("双精度浮点值。用于存储浮点值。")])]),a("tr",[a("td",[t._v("Min/Max keys")]),a("td",[t._v("将一个值与 BSON（二进制的 JSON）元素的最低值和最高值相对比。")])]),a("tr",[a("td",[t._v("Array")]),a("td",[t._v("用于将数组或列表或多个值存储为一个键。")])]),a("tr",[a("td",[t._v("Timestamp")]),a("td",[t._v("时间戳。记录文档修改或添加的具体时间。")])]),a("tr",[a("td",[t._v("Object")]),a("td",[t._v("用于内嵌文档。")])]),a("tr",[a("td",[t._v("Null")]),a("td",[t._v("用于创建空值。")])]),a("tr",[a("td",[t._v("Symbol")]),a("td",[t._v("符号。该数据类型基本上等同于字符串类型，但不同的是，它一般用于采用特殊符号类型的语言。")])]),a("tr",[a("td",[t._v("Date")]),a("td",[t._v("日期时间。用 UNIX 时间格式来存储当前日期或时间。你可以指定自己的日期时间：创建 Date 对象，传入年月日信息。")])]),a("tr",[a("td",[t._v("Object ID")]),a("td",[t._v("对象 ID。用于创建文档的 ID。")])]),a("tr",[a("td",[t._v("Binary Data")]),a("td",[t._v("二进制数据。用于存储二进制数据。")])]),a("tr",[a("td",[t._v("Code")]),a("td",[t._v("代码类型。用于在文档中存储 JavaScript 代码。")])]),a("tr",[a("td",[t._v("Regular expression")]),a("td",[t._v("正则表达式类型。用于存储正则表达式。")])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"objectid"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#objectid","aria-hidden":"true"}},[this._v("#")]),this._v(" ObjectId")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("前 4 个字节表示创建 unix 时间戳,格林尼治时间 UTC 时间，比北京时间晚了 8 个小时")]),s("li",[this._v("接下来的 3 个字节是机器标识码")]),s("li",[this._v("紧接的两个字节由进程 id 组成 PID")]),s("li",[this._v("最后三个字节是随机数")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:"https://i.imgur.com/cB7Ce75.jpg",alt:"2875754375-5a19268f0fd9b_articlex"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("MongoDB 中存储的文档必须有一个 "),s("code",[this._v("_id")]),this._v(" 键。这个键的值可以是任何类型的，默认是个 ObjectId 对象")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("由于 ObjectId 中保存了创建的时间戳，所以你不需要为你的文档保存时间戳字段\n可以通过 "),s("code",[this._v("getTimestamp")]),this._v(" 函数来获取文档的创建时间")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" var newObject "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" ObjectId"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" newObject.getTimestamp"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nISODate"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"2017-11-25T07:21:10Z"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{attrs:{class:"token operator"}},[this._v(">")]),this._v(" newObject.str\n\n5a1919e63df83ce79df8b38f\n")])])])}],!1,null,null,null);s.default=e.exports}}]);
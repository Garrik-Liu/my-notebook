(window.webpackJsonp=window.webpackJsonp||[]).push([[104],{318:function(a,t,v){"use strict";v.r(t);var _=v(0),s=Object(_.a)({},(function(){var a=this,t=a.$createElement,v=a._self._c||t;return v("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[v("h1",{attrs:{id:"tomcat-服务器"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#tomcat-服务器"}},[a._v("#")]),a._v(" Tomcat 服务器")]),a._v(" "),v("h2",{attrs:{id:"web-服务器"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#web-服务器"}},[a._v("#")]),a._v(" Web 服务器")]),a._v(" "),v("ul",[v("li",[a._v("所有的 Web 资源放到在 Web 服务器中；")]),a._v(" "),v("li",[a._v("Web 服务器是可以供外界访问 Web 资源的一个软件；")]),a._v(" "),v("li",[a._v("请求 & 响应：\n"),v("ul",[v("li",[a._v("请求：客户端向服务器请求数据；")]),a._v(" "),v("li",[a._v("响应：服务器把对应的数据返回给客户端；")]),a._v(" "),v("li",[a._v("客户端和服务器之间通过 HTTP 协议来约定请求和响应的格式；")])])])]),a._v(" "),v("h2",{attrs:{id:"java-服务器"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#java-服务器"}},[a._v("#")]),a._v(" Java 服务器")]),a._v(" "),v("ul",[v("li",[v("strong",[a._v("Java 分类")]),a._v("：\n"),v("ul",[v("li",[a._v("Java SE：Java 的标准版，一般用来开发桌面应用程序，但是没什么优势；")]),a._v(" "),v("li",[a._v("Java EE：Java 的企业版，开发 Web 应用程序；\n"),v("ul",[v("li",[a._v("初级用 JSP + Servlet + Javabean 来开发；")]),a._v(" "),v("li",[a._v("大型网站用框架来开发 Spring")])])]),a._v(" "),v("li",[a._v("Java ME：Java 的微型版，曾用于开发诺基亚手机上的 Java 程序；")])])]),a._v(" "),v("li",[v("strong",[a._v("Java EE 规范")]),a._v("：\n"),v("ul",[v("li",[a._v("Java EE 有 13 个技术规范（JDBC, JSP, Servlet, XML, EJB, RMI, JMS, ......）")]),a._v(" "),v("li",[a._v("sun 公司定义了这些标准，其他公司根据这些标准来做 Java EE 程序；")])])]),a._v(" "),v("li",[v("strong",[a._v("常见 JavaWeb 服务器")]),a._v("：\n"),v("ul",[v("li",[a._v("WebLogic：Oracle 公司的收费服务器，支持 JavaEE 的全部规范；")]),a._v(" "),v("li",[a._v("WebSphere：IBM 公司的收费服务器，支持 JavaEE 的全部规范；")]),a._v(" "),v("li",[a._v("Tomcat：Apache 的开源免费的中小型 Web 服务器，支持 JavaEE 的部分规范（Servlet, JSP）；")])])])]),a._v(" "),v("h3",{attrs:{id:"tomcat-目录："}},[v("a",{staticClass:"header-anchor",attrs:{href:"#tomcat-目录："}},[a._v("#")]),a._v(" Tomcat 目录：")]),a._v(" "),v("ul",[v("li",[a._v("bin：脚本程序")]),a._v(" "),v("li",[a._v("conf：配置目录\n"),v("ul",[v("li",[a._v("其中的 server.xml 是核心配置文件")])])]),a._v(" "),v("li",[a._v("lib：依赖库")]),a._v(" "),v("li",[a._v("logs：日志信息")]),a._v(" "),v("li",[a._v("temps：临时文件")]),a._v(" "),v("li",[a._v("webapps：Web 应用发布目录\n"),v("ul",[v("li",[a._v("把开发的项目放到该目录中运行")])])]),a._v(" "),v("li",[a._v("work：tomcat 处理 jsp 的工作目录")])]),a._v(" "),v("h3",{attrs:{id:"启动-tomcat："}},[v("a",{staticClass:"header-anchor",attrs:{href:"#启动-tomcat："}},[a._v("#")]),a._v(" 启动 Tomcat：")]),a._v(" "),v("ul",[v("li",[a._v("进入 bin 目录；")]),a._v(" "),v("li",[a._v("运行 startup.sh 脚本启动；")]),a._v(" "),v("li",[a._v("运行 shutdown.sh 脚本关闭；")]),a._v(" "),v("li",[a._v("相关配置，例如端口，可以在 conf/server.xml 里面去改；")])]),a._v(" "),v("h3",{attrs:{id:"手动创建-web-应用："}},[v("a",{staticClass:"header-anchor",attrs:{href:"#手动创建-web-应用："}},[a._v("#")]),a._v(" 手动创建 Web 应用：")]),a._v(" "),v("ul",[v("li",[a._v("在 webapps 目录下创建一个目录（例：myApp）")]),a._v(" "),v("li",[a._v("myApp 目录结构：\n"),v("ul",[v("li",[a._v("html, jsp, js 文件；")]),a._v(" "),v("li",[a._v("WEB-INP 目录：\n"),v("ul",[v("li",[a._v("classes 目录：存放 Java 类字节码文件；")]),a._v(" "),v("li",[a._v("lib 目录：Java 程序需要的 jar 包；")]),a._v(" "),v("li",[a._v("web.xml 文件：Web 应用的核心配置文件；")])])])])]),a._v(" "),v("li",[a._v("WEB-INP 目录下的文件都是受保护的，不能被外界直接访问；")])]),a._v(" "),v("p",[v("img",{attrs:{src:"https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-1-22-14-40-11.png",alt:"2020-1-22-14-40-11.png"}})]),a._v(" "),v("h3",{attrs:{id:"使用-eclipse-创建-web-应用："}},[v("a",{staticClass:"header-anchor",attrs:{href:"#使用-eclipse-创建-web-应用："}},[a._v("#")]),a._v(" 使用 Eclipse 创建 Web 应用：")]),a._v(" "),v("ul",[v("li",[a._v("New -> Projects -> Web / Dynamic Web Project；")]),a._v(" "),v("li",[a._v("写工程名，选 Tomcat 服务器，选 Tomcat 存放地址；")]),a._v(" "),v("li",[a._v("部署版本选 2.5；\n"),v("ul",[v("li",[a._v("v2.5 版本会自动生成 "),v("code",[a._v("web.xml")]),a._v(" 文件；")])])]),a._v(" "),v("li",[a._v("完成；")])]),a._v(" "),v("p",[v("img",{attrs:{src:"https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-1-22-14-47-49.png",alt:"2020-1-22-14-47-49.png"}})]),a._v(" "),v("h3",{attrs:{id:"项目部署"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#项目部署"}},[a._v("#")]),a._v(" 项目部署")]),a._v(" "),v("h4",{attrs:{id:"创建服务器"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#创建服务器"}},[a._v("#")]),a._v(" 创建服务器")]),a._v(" "),v("p",[a._v("在 Server 下，创建新的服务器：")]),a._v(" "),v("p",[v("img",{attrs:{src:"https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-1-22-15-8-11.png",alt:"2020-1-22-15-8-11.png"}})]),a._v(" "),v("p",[a._v("点击 next，把项目添加进去：")]),a._v(" "),v("p",[v("img",{attrs:{src:"https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-1-22-15-8-31.png",alt:"2020-1-22-15-8-31.png"}})]),a._v(" "),v("h4",{attrs:{id:"发布工程"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#发布工程"}},[a._v("#")]),a._v(" 发布工程")]),a._v(" "),v("ul",[v("li",[a._v("将未发布的工程，发布到 webapps 下面；")]),a._v(" "),v("li",[a._v("这部操作，会在 Tomcat 的 webapps 目录下创建一个名称为 <项目名> 的目录；")]),a._v(" "),v("li",[a._v("会把 WebContent 当中的所有内容放入到 webapps 目录下的 <项目名> 目录中；")]),a._v(" "),v("li",[a._v("不会把你写的 java 源代码放到 webapps 当中，运行只需要字节码；")])]),a._v(" "),v("p",[a._v("双击 Server，设置项目部署位置；")]),a._v(" "),v("p",[v("img",{attrs:{src:"https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-1-22-15-54-21.png",alt:"2020-1-22-15-54-21.png"}})]),a._v(" "),v("p",[a._v("右键 Server，点击 Start 启动 Tomcat 服务器;")]),a._v(" "),v("ul",[v("li",[a._v("如果端口被占了：\n"),v("ul",[v("li",[a._v("lsof -i tcp:xxxx")]),a._v(" "),v("li",[a._v("kill -9 PID")])])])]),a._v(" "),v("p",[v("img",{attrs:{src:"https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-1-22-15-9-56.png",alt:"2020-1-22-15-9-56.png"}})]),a._v(" "),v("p",[a._v("之后就可以在本地的 Tomcat 服务器中的 webapps 目录下看到项目目录了。")]),a._v(" "),v("p",[v("img",{attrs:{src:"https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-1-22-15-55-12.png",alt:"2020-1-22-15-55-12.png"}})]),a._v(" "),v("p",[a._v("在浏览器上可以访问项目了。")]),a._v(" "),v("p",[v("img",{attrs:{src:"https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-1-22-15-41-21.png",alt:"2020-1-22-15-41-21.png"}})]),a._v(" "),v("h3",{attrs:{id:"tomcat-服务器体系结构"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#tomcat-服务器体系结构"}},[a._v("#")]),a._v(" Tomcat 服务器体系结构")]),a._v(" "),v("ul",[v("li",[v("strong",[a._v("Server")]),a._v("：整个 Servlet 容器组合，可以包含多个 Service 服务；")]),a._v(" "),v("li",[v("strong",[a._v("Service")]),a._v("：由一个或多个 Connector，以及一个 Engine 组成，负责处理所有 Connector 所获得的客户请求；")]),a._v(" "),v("li",[v("strong",[a._v("Connector")]),a._v("：负责接收请求，以及向客户端返回响应；")]),a._v(" "),v("li",[v("strong",[a._v("Engine")]),a._v("：处理连接器接收到的请求，将请求流转到对应的 Host 虚拟主机；")]),a._v(" "),v("li",[v("strong",[a._v("Host")]),a._v("：虚拟主机，下面包含多个 Context，将请求交给对应的 Context；")]),a._v(" "),v("li",[v("strong",[a._v("Context")]),a._v("：一个 Context 对应一个 Web Application 应用；")])]),a._v(" "),v("p",[v("img",{attrs:{src:"https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-1-22-16-14-18.png",alt:"2020-1-22-16-14-18.png"}})]),a._v(" "),v("p",[a._v("Tomcat 服务器下的 "),v("code",[a._v("conf")]),a._v(" 目录下的 "),v("code",[a._v("server.xml")]),a._v(" 文件结构就反映出了整个 Tomcat 服务器体系结构。")]),a._v(" "),v("p",[a._v("下图是，本地浏览器访问 Tomcat 服务器时的请求流转。")]),a._v(" "),v("p",[v("img",{attrs:{src:"https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-1-22-16-16-39.png",alt:"2020-1-22-16-16-39.png"}})]),a._v(" "),v("p",[a._v("Host 虚拟主机：")]),a._v(" "),v("ul",[v("li",[a._v("输入网址时，会先去 host 文件中查找有没有对应的 ip 地址，如果有就直接访问；")]),a._v(" "),v("li",[a._v("如果没有，就会去外网找 DNS 服务器进行域名解析，找到对应的 IP 地址，进行访问；")]),a._v(" "),v("li",[a._v("多个域名可以访问同一个 IP；")]),a._v(" "),v("li",[a._v("一个 IP 对应一台电脑；")]),a._v(" "),v("li",[a._v("通过虚拟主机名不同，可以让用户通过对不同的域名的访问，去使用不同的 Web 应用；")])])])}),[],!1,null,null,null);t.default=s.exports}}]);
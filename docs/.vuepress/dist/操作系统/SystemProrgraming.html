<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>System Programing | Garrik 的笔记</title>
    <meta name="description" content="这里是 Garrik 的前端笔记本">
    
    
    <link rel="preload" href="/my-notebook/assets/css/0.styles.5c4a3b3d.css" as="style"><link rel="preload" href="/my-notebook/assets/js/app.48b3e102.js" as="script"><link rel="preload" href="/my-notebook/assets/js/2.3651e544.js" as="script"><link rel="preload" href="/my-notebook/assets/js/163.6f9ab859.js" as="script"><link rel="prefetch" href="/my-notebook/assets/js/10.f9ef989c.js"><link rel="prefetch" href="/my-notebook/assets/js/100.7645c2e5.js"><link rel="prefetch" href="/my-notebook/assets/js/101.2dabd972.js"><link rel="prefetch" href="/my-notebook/assets/js/102.594527ad.js"><link rel="prefetch" href="/my-notebook/assets/js/103.43342b81.js"><link rel="prefetch" href="/my-notebook/assets/js/104.346a9f15.js"><link rel="prefetch" href="/my-notebook/assets/js/105.45a2acd9.js"><link rel="prefetch" href="/my-notebook/assets/js/106.974a99db.js"><link rel="prefetch" href="/my-notebook/assets/js/107.fe9b4e96.js"><link rel="prefetch" href="/my-notebook/assets/js/108.d77016d4.js"><link rel="prefetch" href="/my-notebook/assets/js/109.c16ed369.js"><link rel="prefetch" href="/my-notebook/assets/js/11.f8a1ce13.js"><link rel="prefetch" href="/my-notebook/assets/js/110.a13969c6.js"><link rel="prefetch" href="/my-notebook/assets/js/111.66acc509.js"><link rel="prefetch" href="/my-notebook/assets/js/112.9b1d3188.js"><link rel="prefetch" href="/my-notebook/assets/js/113.75750918.js"><link rel="prefetch" href="/my-notebook/assets/js/114.839c6360.js"><link rel="prefetch" href="/my-notebook/assets/js/115.8d78d456.js"><link rel="prefetch" href="/my-notebook/assets/js/116.b8e66e02.js"><link rel="prefetch" href="/my-notebook/assets/js/117.d26c17cf.js"><link rel="prefetch" href="/my-notebook/assets/js/118.15518a0a.js"><link rel="prefetch" href="/my-notebook/assets/js/119.586d374b.js"><link rel="prefetch" href="/my-notebook/assets/js/12.28b61d11.js"><link rel="prefetch" href="/my-notebook/assets/js/120.07e6a2cc.js"><link rel="prefetch" href="/my-notebook/assets/js/121.84d96ec8.js"><link rel="prefetch" href="/my-notebook/assets/js/122.6392c91b.js"><link rel="prefetch" href="/my-notebook/assets/js/123.4999419b.js"><link rel="prefetch" href="/my-notebook/assets/js/124.3dead400.js"><link rel="prefetch" href="/my-notebook/assets/js/125.94bda5d1.js"><link rel="prefetch" href="/my-notebook/assets/js/126.b5c8c3b0.js"><link rel="prefetch" href="/my-notebook/assets/js/127.580b720a.js"><link rel="prefetch" href="/my-notebook/assets/js/128.1c9d43b7.js"><link rel="prefetch" href="/my-notebook/assets/js/129.84c30f53.js"><link rel="prefetch" href="/my-notebook/assets/js/13.6084dc06.js"><link rel="prefetch" href="/my-notebook/assets/js/130.144eac27.js"><link rel="prefetch" href="/my-notebook/assets/js/131.00881859.js"><link rel="prefetch" href="/my-notebook/assets/js/132.6bb6e482.js"><link rel="prefetch" href="/my-notebook/assets/js/133.32e07bee.js"><link rel="prefetch" href="/my-notebook/assets/js/134.001b6781.js"><link rel="prefetch" href="/my-notebook/assets/js/135.8ac986ce.js"><link rel="prefetch" href="/my-notebook/assets/js/136.f0f95ed0.js"><link rel="prefetch" href="/my-notebook/assets/js/137.52bbb3d7.js"><link rel="prefetch" href="/my-notebook/assets/js/138.0a02480a.js"><link rel="prefetch" href="/my-notebook/assets/js/139.01886a72.js"><link rel="prefetch" href="/my-notebook/assets/js/14.67c1a601.js"><link rel="prefetch" href="/my-notebook/assets/js/140.cd2b2fbe.js"><link rel="prefetch" href="/my-notebook/assets/js/141.4ab3a563.js"><link rel="prefetch" href="/my-notebook/assets/js/142.20008c7a.js"><link rel="prefetch" href="/my-notebook/assets/js/143.a569f31f.js"><link rel="prefetch" href="/my-notebook/assets/js/144.477c67aa.js"><link rel="prefetch" href="/my-notebook/assets/js/145.7ff58167.js"><link rel="prefetch" href="/my-notebook/assets/js/146.de1d26f8.js"><link rel="prefetch" href="/my-notebook/assets/js/147.1265aff4.js"><link rel="prefetch" href="/my-notebook/assets/js/148.f9df79d3.js"><link rel="prefetch" href="/my-notebook/assets/js/149.14f70fde.js"><link rel="prefetch" href="/my-notebook/assets/js/15.b9deacc2.js"><link rel="prefetch" href="/my-notebook/assets/js/150.e491ebc8.js"><link rel="prefetch" href="/my-notebook/assets/js/151.69e19617.js"><link rel="prefetch" href="/my-notebook/assets/js/152.70ba0f25.js"><link rel="prefetch" href="/my-notebook/assets/js/153.05ce1362.js"><link rel="prefetch" href="/my-notebook/assets/js/154.988a370a.js"><link rel="prefetch" href="/my-notebook/assets/js/155.649bf74f.js"><link rel="prefetch" href="/my-notebook/assets/js/156.df671325.js"><link rel="prefetch" href="/my-notebook/assets/js/157.975456c7.js"><link rel="prefetch" href="/my-notebook/assets/js/158.0743c8b7.js"><link rel="prefetch" href="/my-notebook/assets/js/159.1ae891d8.js"><link rel="prefetch" href="/my-notebook/assets/js/16.71c8e32a.js"><link rel="prefetch" href="/my-notebook/assets/js/160.8f8effb3.js"><link rel="prefetch" href="/my-notebook/assets/js/161.141f55b6.js"><link rel="prefetch" href="/my-notebook/assets/js/162.e213c326.js"><link rel="prefetch" href="/my-notebook/assets/js/164.5a6c6089.js"><link rel="prefetch" href="/my-notebook/assets/js/165.fdffa34b.js"><link rel="prefetch" href="/my-notebook/assets/js/166.667ed7ce.js"><link rel="prefetch" href="/my-notebook/assets/js/167.fe729d6c.js"><link rel="prefetch" href="/my-notebook/assets/js/168.c2c97efb.js"><link rel="prefetch" href="/my-notebook/assets/js/169.2b1ba36f.js"><link rel="prefetch" href="/my-notebook/assets/js/17.1021be0f.js"><link rel="prefetch" href="/my-notebook/assets/js/170.46e56c25.js"><link rel="prefetch" href="/my-notebook/assets/js/171.f54bdbaa.js"><link rel="prefetch" href="/my-notebook/assets/js/172.7733c595.js"><link rel="prefetch" href="/my-notebook/assets/js/173.b5cfda9e.js"><link rel="prefetch" href="/my-notebook/assets/js/174.b37c4637.js"><link rel="prefetch" href="/my-notebook/assets/js/175.2399ddcc.js"><link rel="prefetch" href="/my-notebook/assets/js/176.afecea66.js"><link rel="prefetch" href="/my-notebook/assets/js/177.e91bbf66.js"><link rel="prefetch" href="/my-notebook/assets/js/178.2731cf31.js"><link rel="prefetch" href="/my-notebook/assets/js/179.a60311eb.js"><link rel="prefetch" href="/my-notebook/assets/js/18.e6b38e34.js"><link rel="prefetch" href="/my-notebook/assets/js/180.1f5433bd.js"><link rel="prefetch" href="/my-notebook/assets/js/181.7e9b5ec5.js"><link rel="prefetch" href="/my-notebook/assets/js/182.387fd63c.js"><link rel="prefetch" href="/my-notebook/assets/js/183.5f7639c2.js"><link rel="prefetch" href="/my-notebook/assets/js/184.0a805efa.js"><link rel="prefetch" href="/my-notebook/assets/js/185.0003dab2.js"><link rel="prefetch" href="/my-notebook/assets/js/186.a7b49e38.js"><link rel="prefetch" href="/my-notebook/assets/js/187.aaf8b56d.js"><link rel="prefetch" href="/my-notebook/assets/js/188.c1657384.js"><link rel="prefetch" href="/my-notebook/assets/js/189.f9e440cf.js"><link rel="prefetch" href="/my-notebook/assets/js/19.3006d058.js"><link rel="prefetch" href="/my-notebook/assets/js/190.6b97b6ba.js"><link rel="prefetch" href="/my-notebook/assets/js/191.a0565dec.js"><link rel="prefetch" href="/my-notebook/assets/js/192.e57af050.js"><link rel="prefetch" href="/my-notebook/assets/js/193.ec767929.js"><link rel="prefetch" href="/my-notebook/assets/js/194.c5b5aa07.js"><link rel="prefetch" href="/my-notebook/assets/js/195.2bb7b1e6.js"><link rel="prefetch" href="/my-notebook/assets/js/196.2a48efe9.js"><link rel="prefetch" href="/my-notebook/assets/js/197.eba4f2ee.js"><link rel="prefetch" href="/my-notebook/assets/js/198.5e593280.js"><link rel="prefetch" href="/my-notebook/assets/js/199.c9a1f6c6.js"><link rel="prefetch" href="/my-notebook/assets/js/20.d1b9d3d6.js"><link rel="prefetch" href="/my-notebook/assets/js/200.ad30061a.js"><link rel="prefetch" href="/my-notebook/assets/js/201.d3ebcdb3.js"><link rel="prefetch" href="/my-notebook/assets/js/202.be25adb1.js"><link rel="prefetch" href="/my-notebook/assets/js/203.ec19f63e.js"><link rel="prefetch" href="/my-notebook/assets/js/204.9d761de8.js"><link rel="prefetch" href="/my-notebook/assets/js/205.8b5c9706.js"><link rel="prefetch" href="/my-notebook/assets/js/206.a245f177.js"><link rel="prefetch" href="/my-notebook/assets/js/207.2a7bc5f8.js"><link rel="prefetch" href="/my-notebook/assets/js/208.dbda1af8.js"><link rel="prefetch" href="/my-notebook/assets/js/209.685ec632.js"><link rel="prefetch" href="/my-notebook/assets/js/21.14809e7b.js"><link rel="prefetch" href="/my-notebook/assets/js/210.25aae975.js"><link rel="prefetch" href="/my-notebook/assets/js/211.2acd069b.js"><link rel="prefetch" href="/my-notebook/assets/js/212.3159bc82.js"><link rel="prefetch" href="/my-notebook/assets/js/213.f8c08c56.js"><link rel="prefetch" href="/my-notebook/assets/js/214.7b763328.js"><link rel="prefetch" href="/my-notebook/assets/js/215.cb3e0149.js"><link rel="prefetch" href="/my-notebook/assets/js/216.92df486c.js"><link rel="prefetch" href="/my-notebook/assets/js/217.a8566379.js"><link rel="prefetch" href="/my-notebook/assets/js/218.4328fb06.js"><link rel="prefetch" href="/my-notebook/assets/js/219.f0a3c4d1.js"><link rel="prefetch" href="/my-notebook/assets/js/22.31bba5a7.js"><link rel="prefetch" href="/my-notebook/assets/js/220.6b55088d.js"><link rel="prefetch" href="/my-notebook/assets/js/221.6d0ff0f8.js"><link rel="prefetch" href="/my-notebook/assets/js/222.de5ae0ff.js"><link rel="prefetch" href="/my-notebook/assets/js/223.a9f12d76.js"><link rel="prefetch" href="/my-notebook/assets/js/224.0d5f8c2a.js"><link rel="prefetch" href="/my-notebook/assets/js/225.07885f4f.js"><link rel="prefetch" href="/my-notebook/assets/js/226.25335be5.js"><link rel="prefetch" href="/my-notebook/assets/js/227.a2d0b825.js"><link rel="prefetch" href="/my-notebook/assets/js/228.1fc64f7b.js"><link rel="prefetch" href="/my-notebook/assets/js/229.de405129.js"><link rel="prefetch" href="/my-notebook/assets/js/23.f844645e.js"><link rel="prefetch" href="/my-notebook/assets/js/230.11adb376.js"><link rel="prefetch" href="/my-notebook/assets/js/231.e2f08d42.js"><link rel="prefetch" href="/my-notebook/assets/js/232.18890437.js"><link rel="prefetch" href="/my-notebook/assets/js/233.cdb00fd4.js"><link rel="prefetch" href="/my-notebook/assets/js/234.c7472aeb.js"><link rel="prefetch" href="/my-notebook/assets/js/235.05fe1323.js"><link rel="prefetch" href="/my-notebook/assets/js/236.f25c6719.js"><link rel="prefetch" href="/my-notebook/assets/js/237.9ff46690.js"><link rel="prefetch" href="/my-notebook/assets/js/238.3f220811.js"><link rel="prefetch" href="/my-notebook/assets/js/239.c804953b.js"><link rel="prefetch" href="/my-notebook/assets/js/24.85bd8ce1.js"><link rel="prefetch" href="/my-notebook/assets/js/240.2d1216b5.js"><link rel="prefetch" href="/my-notebook/assets/js/241.c1ce15f1.js"><link rel="prefetch" href="/my-notebook/assets/js/242.63d1aef5.js"><link rel="prefetch" href="/my-notebook/assets/js/243.363d59de.js"><link rel="prefetch" href="/my-notebook/assets/js/244.6b13c422.js"><link rel="prefetch" href="/my-notebook/assets/js/245.454478d0.js"><link rel="prefetch" href="/my-notebook/assets/js/246.9f75ef76.js"><link rel="prefetch" href="/my-notebook/assets/js/247.333fb403.js"><link rel="prefetch" href="/my-notebook/assets/js/248.cbab3448.js"><link rel="prefetch" href="/my-notebook/assets/js/249.1c20cefe.js"><link rel="prefetch" href="/my-notebook/assets/js/25.8c6b83ce.js"><link rel="prefetch" href="/my-notebook/assets/js/250.bcdadb1b.js"><link rel="prefetch" href="/my-notebook/assets/js/251.4946deb0.js"><link rel="prefetch" href="/my-notebook/assets/js/252.235f9aaf.js"><link rel="prefetch" href="/my-notebook/assets/js/253.2b0f707a.js"><link rel="prefetch" href="/my-notebook/assets/js/254.502c0042.js"><link rel="prefetch" href="/my-notebook/assets/js/255.3d54026e.js"><link rel="prefetch" href="/my-notebook/assets/js/256.26c31aff.js"><link rel="prefetch" href="/my-notebook/assets/js/257.ecb929d7.js"><link rel="prefetch" href="/my-notebook/assets/js/258.aac71990.js"><link rel="prefetch" href="/my-notebook/assets/js/259.2dfb8a19.js"><link rel="prefetch" href="/my-notebook/assets/js/26.7ced7b74.js"><link rel="prefetch" href="/my-notebook/assets/js/260.7d759c58.js"><link rel="prefetch" href="/my-notebook/assets/js/261.3218253b.js"><link rel="prefetch" href="/my-notebook/assets/js/262.11fa850a.js"><link rel="prefetch" href="/my-notebook/assets/js/263.cc9017fb.js"><link rel="prefetch" href="/my-notebook/assets/js/264.809b3abf.js"><link rel="prefetch" href="/my-notebook/assets/js/265.8130b3b9.js"><link rel="prefetch" href="/my-notebook/assets/js/266.239b04af.js"><link rel="prefetch" href="/my-notebook/assets/js/267.4731e311.js"><link rel="prefetch" href="/my-notebook/assets/js/268.91824854.js"><link rel="prefetch" href="/my-notebook/assets/js/27.a07966ce.js"><link rel="prefetch" href="/my-notebook/assets/js/28.70b468f5.js"><link rel="prefetch" href="/my-notebook/assets/js/29.33216e64.js"><link rel="prefetch" href="/my-notebook/assets/js/3.ff3d6313.js"><link rel="prefetch" href="/my-notebook/assets/js/30.ee21d551.js"><link rel="prefetch" href="/my-notebook/assets/js/31.0506cd65.js"><link rel="prefetch" href="/my-notebook/assets/js/32.8fc1bd64.js"><link rel="prefetch" href="/my-notebook/assets/js/33.12c36f8e.js"><link rel="prefetch" href="/my-notebook/assets/js/34.7e606962.js"><link rel="prefetch" href="/my-notebook/assets/js/35.3f8d292f.js"><link rel="prefetch" href="/my-notebook/assets/js/36.786a791c.js"><link rel="prefetch" href="/my-notebook/assets/js/37.e3c95f9e.js"><link rel="prefetch" href="/my-notebook/assets/js/38.5c000898.js"><link rel="prefetch" href="/my-notebook/assets/js/39.fd05694a.js"><link rel="prefetch" href="/my-notebook/assets/js/4.1c08ef3a.js"><link rel="prefetch" href="/my-notebook/assets/js/40.75df7136.js"><link rel="prefetch" href="/my-notebook/assets/js/41.6af588e3.js"><link rel="prefetch" href="/my-notebook/assets/js/42.112fbb78.js"><link rel="prefetch" href="/my-notebook/assets/js/43.8cb9acd8.js"><link rel="prefetch" href="/my-notebook/assets/js/44.bf5e9e3d.js"><link rel="prefetch" href="/my-notebook/assets/js/45.bdecd4c1.js"><link rel="prefetch" href="/my-notebook/assets/js/46.245dc40f.js"><link rel="prefetch" href="/my-notebook/assets/js/47.ad78d1ae.js"><link rel="prefetch" href="/my-notebook/assets/js/48.d380a74b.js"><link rel="prefetch" href="/my-notebook/assets/js/49.937f55bc.js"><link rel="prefetch" href="/my-notebook/assets/js/5.f4a2cfc4.js"><link rel="prefetch" href="/my-notebook/assets/js/50.e93f6add.js"><link rel="prefetch" href="/my-notebook/assets/js/51.eaea2a63.js"><link rel="prefetch" href="/my-notebook/assets/js/52.033ad069.js"><link rel="prefetch" href="/my-notebook/assets/js/53.8b9fcb94.js"><link rel="prefetch" href="/my-notebook/assets/js/54.ef9a263c.js"><link rel="prefetch" href="/my-notebook/assets/js/55.8dec56f9.js"><link rel="prefetch" href="/my-notebook/assets/js/56.fe261391.js"><link rel="prefetch" href="/my-notebook/assets/js/57.f72c832d.js"><link rel="prefetch" href="/my-notebook/assets/js/58.f012dbaf.js"><link rel="prefetch" href="/my-notebook/assets/js/59.d250c34c.js"><link rel="prefetch" href="/my-notebook/assets/js/6.a9229c3c.js"><link rel="prefetch" href="/my-notebook/assets/js/60.a752b52f.js"><link rel="prefetch" href="/my-notebook/assets/js/61.4586bcff.js"><link rel="prefetch" href="/my-notebook/assets/js/62.212cd750.js"><link rel="prefetch" href="/my-notebook/assets/js/63.9afd48c5.js"><link rel="prefetch" href="/my-notebook/assets/js/64.620355f7.js"><link rel="prefetch" href="/my-notebook/assets/js/65.1e077182.js"><link rel="prefetch" href="/my-notebook/assets/js/66.3a3a4dc6.js"><link rel="prefetch" href="/my-notebook/assets/js/67.9e9b35cc.js"><link rel="prefetch" href="/my-notebook/assets/js/68.b55e8324.js"><link rel="prefetch" href="/my-notebook/assets/js/69.d104569f.js"><link rel="prefetch" href="/my-notebook/assets/js/7.9c51ced0.js"><link rel="prefetch" href="/my-notebook/assets/js/70.89344fef.js"><link rel="prefetch" href="/my-notebook/assets/js/71.7e597a92.js"><link rel="prefetch" href="/my-notebook/assets/js/72.c64632b4.js"><link rel="prefetch" href="/my-notebook/assets/js/73.f9e73838.js"><link rel="prefetch" href="/my-notebook/assets/js/74.ce011182.js"><link rel="prefetch" href="/my-notebook/assets/js/75.01caf102.js"><link rel="prefetch" href="/my-notebook/assets/js/76.c18efb67.js"><link rel="prefetch" href="/my-notebook/assets/js/77.dfc8f777.js"><link rel="prefetch" href="/my-notebook/assets/js/78.9c4342e5.js"><link rel="prefetch" href="/my-notebook/assets/js/79.d9ff0629.js"><link rel="prefetch" href="/my-notebook/assets/js/8.04f24be8.js"><link rel="prefetch" href="/my-notebook/assets/js/80.182cf237.js"><link rel="prefetch" href="/my-notebook/assets/js/81.c48bc614.js"><link rel="prefetch" href="/my-notebook/assets/js/82.27f302af.js"><link rel="prefetch" href="/my-notebook/assets/js/83.a16306a6.js"><link rel="prefetch" href="/my-notebook/assets/js/84.1ee699dd.js"><link rel="prefetch" href="/my-notebook/assets/js/85.bf16fc16.js"><link rel="prefetch" href="/my-notebook/assets/js/86.d71397a7.js"><link rel="prefetch" href="/my-notebook/assets/js/87.79b7e1fb.js"><link rel="prefetch" href="/my-notebook/assets/js/88.248e8ab5.js"><link rel="prefetch" href="/my-notebook/assets/js/89.d77ad0a9.js"><link rel="prefetch" href="/my-notebook/assets/js/9.57a3b1d0.js"><link rel="prefetch" href="/my-notebook/assets/js/90.375f9536.js"><link rel="prefetch" href="/my-notebook/assets/js/91.c7e5c6bf.js"><link rel="prefetch" href="/my-notebook/assets/js/92.ad8d0c54.js"><link rel="prefetch" href="/my-notebook/assets/js/93.c1e15fb9.js"><link rel="prefetch" href="/my-notebook/assets/js/94.621abf3c.js"><link rel="prefetch" href="/my-notebook/assets/js/95.5dc654cc.js"><link rel="prefetch" href="/my-notebook/assets/js/96.37607126.js"><link rel="prefetch" href="/my-notebook/assets/js/97.0473dbff.js"><link rel="prefetch" href="/my-notebook/assets/js/98.06e27bae.js"><link rel="prefetch" href="/my-notebook/assets/js/99.03e2b9d4.js">
    <link rel="stylesheet" href="/my-notebook/assets/css/0.styles.5c4a3b3d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/my-notebook/" class="home-link router-link-active"><!----> <span class="site-name">Garrik 的笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/my-notebook/" class="nav-link">主页</a></div><div class="nav-item"><a href="https://github.com/Garrik-Liu/my-notebook" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/my-notebook/" class="nav-link">主页</a></div><div class="nav-item"><a href="https://github.com/Garrik-Liu/my-notebook" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>System Programing</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/my-notebook/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/SystemProrgraming.html#introduction-to-the-unixoperating-system" class="sidebar-link">INTRODUCTION TO THE UNIXOPERATING SYSTEM</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/my-notebook/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/SystemProrgraming.html#unix-shells" class="sidebar-link">UNIX SHELLS</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/my-notebook/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/SystemProrgraming.html#standard-input-output-library" class="sidebar-link">STANDARD INPUT/OUTPUT LIBRARY</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="system-programing"><a href="#system-programing" class="header-anchor">#</a> System Programing</h1> <h2 id="introduction-to-the-unixoperating-system"><a href="#introduction-to-the-unixoperating-system" class="header-anchor">#</a> INTRODUCTION TO THE UNIXOPERATING SYSTEM</h2> <ul><li>A computer hardware cannot function without software;</li> <li>a computer system must possess an operating system;</li> <li>UNIX is available for all platforms;</li> <li>UNIX allows more than one user to share a computer system;</li> <li>UNIX is best choice for big businesses;</li> <li>Unix is case sensitive;</li></ul> <h4 id="unix-philosophy"><a href="#unix-philosophy" class="header-anchor">#</a> Unix Philosophy:</h4> <ul><li>a program (utility) should do one thing and do it well;</li> <li>a complex problem should be solved by combining multiple existing utilities;</li> <li>UNIX achieves this gaol using <strong>pipes</strong>;</li></ul> <h4 id="pipe"><a href="#pipe" class="header-anchor">#</a> Pipe:</h4> <ul><li>a mechanism that allows the user to specify that the <strong>output</strong> of one program is to be used as the <strong>input</strong> of another program;</li> <li><img src="https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-2-8-9-44-56.png" alt="2020-2-8-9-44-56.png"></li> <li>🌰 <code>ps -e|grep netscape|more</code> <ul><li><code>ps -e</code>: report status on every process now running</li> <li><code>grep</code> : search a file for a pattern</li> <li><code>more</code> : page through a text file</li></ul></li></ul> <h4 id="login-name-and-passwd"><a href="#login-name-and-passwd" class="header-anchor">#</a> Login name and passwd:</h4> <ul><li>Unix check our login name in <code>/etc/passwd</code></li> <li>match our password with the one in the encripted file <code>/etc/shadow</code></li> <li><code>/etc/shadow</code> can only be read by super users</li></ul> <h4 id="shells"><a href="#shells" class="header-anchor">#</a> Shells:</h4> <ul><li>A shell is a command line interpreter that reads and executes user commands</li> <li>A shell reads user inputs either from a terminal or,from a file called script file</li></ul> <p><img src="https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-2-8-9-50-48.png" alt="2020-2-8-9-50-48.png"></p> <h4 id="files-and-directory"><a href="#files-and-directory" class="header-anchor">#</a> Files and Directory:</h4> <ul><li>The Unix file system is a hierarchical arrangement of files and directories</li> <li>The <strong>root</strong> directory is represented by the slash character (<code>/</code>)</li> <li>When a new directory is created, two filenames are automatically created
<ul><li>.(called dot) that refers to the <strong>current</strong> directory</li> <li>..(called dot-dot) that refers to the <strong>parent</strong> directory.</li></ul></li></ul> <h4 id="standard-input-standard-output-andstandard-error"><a href="#standard-input-standard-output-andstandard-error" class="header-anchor">#</a> Standard Input, Standard Output, andStandard Error:</h4> <p>Whenever a new program is run, three <strong>file descriptors</strong> are opened:</p> <ul><li>the standard input <strong>stdin</strong>, by default the keyboard</li> <li>the standard output <strong>stdout</strong>, by default the monitor</li> <li>the standard error <strong>stderr</strong>, by default the monitor.</li></ul> <p>Shells provide ways to redirect standard input and standard output:</p> <ul><li><code>ls &gt; ls.output</code>, the outputs are stored in the newly created file <code>ls.output</code> instead of the monitor</li> <li><code>mailx admin256@uwindsor.ca &lt; assignment1.c</code>, the inputs for mailx come from the file assignment1.c instead of the keyboard</li></ul> <h4 id="programs-and-processes"><a href="#programs-and-processes" class="header-anchor">#</a> Programs and Processes:</h4> <ul><li>A <strong>program</strong> is an executable file residing on a disk;</li> <li>A <strong>process</strong> is an executing (running) program,usually with a limited life-time;</li> <li>A <strong>process ID</strong> (PID)is a unique nonnegative integer assigned by Unix, used to identify a process.</li> <li><code>ps</code> reports process status.</li> <li>A process can obtain its PID by the <code>getpid()</code> system call, in C;</li> <li>A process can obtain its parent ID PPID by the <code>getppid()</code> system call, in C;</li></ul> <div class="language-c extra-class"><pre class="language-c"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;Hello, my PID is %d\n&quot;</span><span class="token punctuation">,</span> <span class="token function">getpid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;Hello, my PPID is %d\n&quot;</span><span class="token punctuation">,</span> <span class="token function">getppid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Shell-Prompt &gt; a.out</span>
<span class="token comment">// Hello, my PID is 11723</span>
<span class="token comment">// Hello, my PPID is 5598</span>
</code></pre></div><h4 id="process-control"><a href="#process-control" class="header-anchor">#</a> Process Control</h4> <p>There are three primary functions (system calls)for process control:</p> <ul><li><strong>fork</strong>: allows an existing process to create a new process which is a copy of the caller</li> <li><strong>exec</strong>: allows an existing process to be replaced with a new one.</li> <li><strong>wait</strong>: allows a process to wait for one of its child processes to finish and also to get the termination status value.</li></ul> <h4 id="user-identification"><a href="#user-identification" class="header-anchor">#</a> User Identification</h4> <ul><li>User Id: Each user is assigned a user ID, aunique nonnegative integer called <strong>uid</strong>;</li> <li>The user ID is used by the kernel to check if the user has the appropriate permissions to perform certain tasks like accessing files;</li> <li>The user root(superuser) has <strong>uid=0</strong></li> <li>A process can obtain its uid using the system call <code>getuid()</code></li> <li>Group ID: a positive integer allowing to group different users into different categories with different privileges;</li> <li>both the user ID and the group ID are assigned by the system administrator at the time of the creation of the user account</li> <li>There is a group file, <code>/etc/group</code>, that maps group names into numeric IDs</li></ul> <h4 id="signals"><a href="#signals" class="header-anchor">#</a> Signals</h4> <p>Signals are used to <strong>notify</strong> a process of the occurrence of some condition:</p> <ul><li>A division by zero : the signal <strong>SIGFPE</strong> is sent to the responsible process that has three choices:
<ul><li>Ignore the signal,</li> <li>terminate the process</li> <li>call a function tohandle the situation</li></ul></li> <li>The Control-C key : when pressed, it generates a signal that causes the process receiving it to interrupt;</li> <li>Calling the functionkill: a process can send a signal to another process causing its death;</li></ul> <h4 id="system-calls-and-library-functions"><a href="#system-calls-and-library-functions" class="header-anchor">#</a> System calls and library functions</h4> <ul><li>Operating systems provide entry points forprograms to request services from the kernel.</li> <li>Entry points are called <strong>system calls</strong> in Unix.</li> <li>a system call cannot be replaced, however, a library function can be rewritten by the user.</li> <li>that a user process can invoke either asystem call or a library function.</li> <li>A library function might invoke a system call.</li></ul> <p><img src="https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-2-8-10-17-47.png" alt="2020-2-8-10-17-47.png"></p> <h2 id="unix-shells"><a href="#unix-shells" class="header-anchor">#</a> UNIX SHELLS</h2> <ul><li>A shell is a program that acts as an interface between a user and the operating system.</li> <li>A Unix shell is basically acommand interpreter</li> <li>A shell command can be：
<ul><li>internal(built-in) : the code to be executed is part ofthe shell；</li> <li>external : the code to be executed resides in a sperate binary file；</li></ul></li> <li>Shell terminates when the special character <strong>CTR-D</strong> is entered</li></ul> <h4 id="path-and-external-commands"><a href="#path-and-external-commands" class="header-anchor">#</a> Path and external commands</h4> <ul><li>For an external command, the shell searches for its file in the directories whose names are stored inthe shell variable <strong>PATH</strong>;</li> <li>Define the shell varibale PATH：
<ul><li>🌰 <code>PATH=./:/usr/bin:∼/bin</code></li> <li>the shell looks for the command in order in：
<ul><li>the current directory, called <code>./</code>,</li> <li><code>/usr/bin/</code></li> <li>your-login-directory <code>/bin/</code></li></ul></li></ul></li> <li>You can view your path : <code>echo $PATH</code></li> <li>The command <code>which command-name</code> allows you to find the file location of the command.</li> <li>PATH is set in a shell start-up file <code>∼/.profile</code></li> <li><code>∼/</code> represents the current user loggin directory</li></ul> <h4 id="shells-2"><a href="#shells-2" class="header-anchor">#</a> Shells</h4> <p>Popular Unix Shell:
<img src="https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-2-8-10-29-10.png" alt="2020-2-8-10-29-10.png"></p> <ul><li>The name of your shell is in <code>/etc/passwd</code></li> <li>You can get your running shell by typing <code>echo $SHELL</code></li> <li>A shell is invoked either automatically, at the login, or manually;</li> <li>When a shell starts,
<ol><li>reads special startup files (e.g., <code>/etc/profile</code> then <code>∼/.profile</code> for bash) that contain some initialization information,</li> <li>displays a &quot;prompt&quot; and waits for user commands then,</li> <li>the shell executes the user’s command and returns to step 2 unless the user has typed the characters <code>CTR-D</code> which will cause the shell to terminate.</li></ol></li></ul> <h4 id="metacharacters"><a href="#metacharacters" class="header-anchor">#</a> Metacharacters</h4> <p>These are special characters with special meanings :</p> <ul><li><code>&gt;</code>: Output redirection;</li> <li><code>&lt;</code>: Input redirection;</li> <li><code>&gt;&gt;</code>: Output redirection, appends to a file;</li> <li><code>*</code>: filename Wild card, matches 0 or more characters;</li> <li><code>?</code>: filename Wild card, matches 1 character;</li> <li><code>`command`</code>: command substitution, replaced by thecommand output;
<ul><li>echo The date of today is date:
<ul><li>The date of today is date;</li></ul></li> <li>echo The date of today is <code>`date`</code>:
<ul><li>The date of today is Sat Feb 8 10:46:41 EST 2020;</li></ul></li></ul></li> <li><code>|</code>: Pipe between two commands;
<ul><li><code>ls|wc -w</code></li> <li>output of ls is piped to wc to getthe number of files/directories.</li> <li><code>wc</code> displays a count of lines, wordsand characters in a file</li></ul></li> <li><code>;</code>: Used to sequence commands;
<ul><li><code>date; ls; date</code></li></ul></li> <li><code>||</code>: Executes a command if the previous one fails;
<ul><li><code>cc prog1.c||CC prog1.c||gcc prog1.c</code></li></ul></li> <li><code>&amp;&amp;</code>: Executes a command if the previous one succeeds;
<ul><li><code>CC prog1.c -o prog1 &amp;&amp; ./prog1</code></li></ul></li> <li><code>&amp;</code>: Executes a command in the background;
<ul><li><code>netscape &amp;</code></li></ul></li> <li><code>#</code>: characters after this are ignored (comment);</li> <li><code>$</code>: Expands the value of a shell variable;
<ul><li><code>echo $PATH</code></li></ul></li> <li><code>\</code>: Prevents special interpretation of next character;
<ul><li><code>echo this is\&amp;→this is &amp;</code></li></ul></li></ul> <h4 id="scripts"><a href="#scripts" class="header-anchor">#</a> Scripts</h4> <ul><li>Shell have their own programming languages.</li> <li>A shell script, like a shell program, is a file that contains shell commands;</li> <li>Make the file executable: <code>chmod +x script_file</code></li> <li>By running the <code>/bin/sh</code>: <code>sh script_file</code></li> <li>Different shells have different syntax</li></ul> <h4 id="shell-variables"><a href="#shell-variables" class="header-anchor">#</a> Shell variables</h4> <ul><li>Two kinds of variables are supported by a shell:
<ul><li>user-defined variables</li> <li>shell environment variables.</li></ul></li> <li>When a subshell is created, it gets of copy of its parent shell environment variables</li> <li><strong>Shell environment variables</strong>:
<ul><li>Used to customize the environment in which your shell runs</li> <li>Most of these variables are initialized by the start-up file /etc/profile.</li> <li>You can customize your environment by assigning different values to these variales in your <code>∼/.profile</code> file</li></ul></li> <li><strong>User-defined variables</strong>:
<ul><li>Used within shell scripts as temporary storage</li> <li>You can use the <strong>set</strong> command without any parameters to display all the shell variables andtheir values.</li></ul></li></ul> <p><strong>Some important read/write shell environment variables</strong>:</p> <ul><li>HOME: Full path name of your home directory</li> <li>PATH: List of directories to search for commands</li> <li>MAIL: Full path name of your mailbox</li> <li>USER: Your user-name</li> <li>SHELL: Your login shell</li> <li>PWD: Current working directory</li> <li>TERM: Type of your terminal</li></ul> <p><strong>Some important read-only shell variables</strong>:</p> <ul><li><code>$0</code>: name of the program that is runing</li> <li><code>$1. . .\$9</code>: values of command line arguments 1 through 9</li> <li><code>$*</code>: values of all command line arguments</li> <li><code>$#</code>: total number of command line arguments</li> <li><code>$$</code>: Process ID of current process</li> <li><code>$?</code>: Exit status of most recent command</li> <li><code>$!</code>: PID of most recent background process</li></ul> <p><strong>Defining an environment(global) variable</strong>:</p> <ul><li>A user can also define a local shell variable thatcan be made a shell environment variable.</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">INCLUDES</span><span class="token operator">=</span><span class="token environment constant">$HOME</span>/includes <span class="token comment">#local variable</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$INCLUDES</span> <span class="token comment">#/users/boufama/includesBecause</span>
</code></pre></div><ul><li>INCLUDES is local variable, it will not be accessible by subshells</li> <li>INCLUDES can be made an environment variable</li> <li>By <code>export INCLUDES</code></li></ul> <p><strong>Quoting</strong>:</p> <ul><li>The shell’s wildcard/variable/commandsubstitution mechanism can be inhibited using quotes;
<ul><li>Single quotes (’) inhibit wildcard/variable/command substitution.</li> <li>Double quotes (“) inhibit wildcard (通配符) replacement only.</li></ul></li> <li>🌰：</li> <li><img src="https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-2-8-11-7-25.png" alt="2020-2-8-11-7-25.png"></li></ul> <h4 id="list-variables"><a href="#list-variables" class="header-anchor">#</a> List variables</h4> <p>Syntax: <code>name=(arg1 arg2 ...)</code></p> <p><img src="https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-2-8-11-11-5.png" alt="2020-2-8-11-11-5.png"></p> <ul><li>上面 👆<code>${names[@]}</code> <code>@{names[*]}</code> 是一样的，都是输出数组的数量；</li></ul> <h4 id="if-statement"><a href="#if-statement" class="header-anchor">#</a> If Statement</h4> <p><img src="https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-2-8-11-9-53.png" alt="2020-2-8-11-9-53.png"></p> <h4 id="file-expressions"><a href="#file-expressions" class="header-anchor">#</a> File expressions</h4> <ul><li>Syntax: <code>-option filename</code></li> <li>The value is 1 if the selcted option is true and 0 otherwise.</li></ul> <p><img src="https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-2-8-11-16-54.png" alt="2020-2-8-11-16-54.png"></p> <p><img src="https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-2-8-11-17-43.png" alt="2020-2-8-11-17-43.png"></p> <h4 id="while-statement"><a href="#while-statement" class="header-anchor">#</a> while statement</h4> <p><img src="https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-2-8-11-18-5.png" alt="2020-2-8-11-18-5.png"></p> <p><img src="https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-2-8-11-18-42.png" alt="2020-2-8-11-18-42.png"></p> <h4 id="switch-statement"><a href="#switch-statement" class="header-anchor">#</a> switch statement</h4> <p><img src="https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-2-8-11-19-27.png" alt="2020-2-8-11-19-27.png"></p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">echo</span> <span class="token string">'输入 1 到 4 之间的数字:'</span>
<span class="token builtin class-name">echo</span> <span class="token string">'你输入的数字为:'</span>
<span class="token builtin class-name">read</span> aNum
<span class="token keyword">case</span> <span class="token variable">$aNum</span> <span class="token keyword">in</span>
    <span class="token number">1</span><span class="token punctuation">)</span>  <span class="token builtin class-name">echo</span> <span class="token string">'你选择了 1'</span>
    <span class="token punctuation">;</span><span class="token punctuation">;</span>
    <span class="token number">2</span><span class="token punctuation">)</span>  <span class="token builtin class-name">echo</span> <span class="token string">'你选择了 2'</span>
    <span class="token punctuation">;</span><span class="token punctuation">;</span>
    <span class="token number">3</span><span class="token punctuation">)</span>  <span class="token builtin class-name">echo</span> <span class="token string">'你选择了 3'</span>
    <span class="token punctuation">;</span><span class="token punctuation">;</span>
    <span class="token number">4</span><span class="token punctuation">)</span>  <span class="token builtin class-name">echo</span> <span class="token string">'你选择了 4'</span>
    <span class="token punctuation">;</span><span class="token punctuation">;</span>
    *<span class="token punctuation">)</span>  <span class="token builtin class-name">echo</span> <span class="token string">'你没有输入 1 到 4 之间的数字'</span>
    <span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token keyword">esac</span>
</code></pre></div><h4 id="for-statements"><a href="#for-statements" class="header-anchor">#</a> for statements</h4> <p><img src="https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-2-8-11-20-32.png" alt="2020-2-8-11-20-32.png"></p> <h2 id="standard-input-output-library"><a href="#standard-input-output-library" class="header-anchor">#</a> STANDARD INPUT/OUTPUT LIBRARY</h2> <ul><li>This library is specified by the ANSI C standard；</li> <li>this library handles details such as:
<ul><li>buffer allocation</li> <li>performing I/O in optimal-sized chunks</li></ul></li> <li>The header file ofthis library is <code>/usr/include/stdio.h</code></li></ul> <h4 id="streams-and-file-objects"><a href="#streams-and-file-objects" class="header-anchor">#</a> Streams and FILE objects</h4> <ul><li>Opening or creating a file, associating a <strong>stream</strong> with the file;</li> <li>The function <code>fopen()</code> returns a pointer to the a FILE object;</li> <li>A FILE object is a structure that contains all needed information to manage a stream:
<ul><li>the file descriptor : a nonnegative integer used for the actual I/O</li> <li>a pointer to a buffer for the stream</li> <li>the size of the buffer</li> <li>a count of the characters currently in the buffer</li> <li>an error flag</li> <li>an end-of-file flag</li></ul></li></ul> <h4 id="buffering"><a href="#buffering" class="header-anchor">#</a> Buffering</h4> <ul><li>used to minimize the number of I/O system calls</li> <li>There are three types of buffering provided :
<ul><li>fully buffered</li> <li>line buffered</li> <li>unbuffered</li></ul></li> <li>Fully buffered I/O:
<ul><li>In this case, actual I/O takes place only when the I/O buffer is full.</li> <li>In particular, disk files are fully buffered by the standard I/O library</li> <li>The buffer is usually created using <strong>malloc</strong> the first time I/O is performed on a stream</li> <li>we can call the function <strong>fflush()</strong> to flush a stream forcing its associated buffer to be written even when it is partially filled</li></ul></li> <li>Line buffered I/O:
<ul><li>In this case, actual I/O takesplace only when a new line character is encouteredon input or output.</li> <li>Line buffering is typically used for the standard input and standard output streams.</li> <li>actual I/O will also take place when theline buffer is full before a new line is encoutered.</li></ul></li> <li>Unbuffered I/O:
<ul><li>The standard I/O library does notbuffer the characters;</li> <li>each time we print or read a single character, the actual I/O operation takes place.</li> <li>the standard error stream is normally unbuffered</li></ul></li></ul> <h4 id="opening-a-stream"><a href="#opening-a-stream" class="header-anchor">#</a> Opening a Stream</h4> <ul><li>Three functions can be used to open a standard I/O stream：
<ul><li><code>FILE *fopen(const char *f, const char *t)</code> <ul><li>this is the most used one.</li></ul></li> <li><code>FILE *freopen(const char *f,const char *t, FILE *fp)</code> <ul><li>Opens a specified file on a specified stream, closingthe stream first if it was already open</li></ul></li> <li><code>FILE *fdopen(int filedesc, const char *t)</code> <ul><li>associates a standard I/O streamwith an existing file descriptor</li></ul></li></ul></li> <li>A file descriptor is a nonnegative integer used by thekernel to specify any open file
<ul><li>A file descriptor is typically returned by the system call <code>open()</code> that opens/creates a file, a pipe or, anetwork communication channel.</li> <li>The function <code>fopen()</code> cannot be used to open a pipeor a network communication channel</li> <li>we use the system call <code>open()</code> to get a file descriptor for a pipe or a channel</li> <li>then we use <code>fdopen()</code> to associate it with a standard stream</li></ul></li> <li>The argument type, <code>const char *t</code>, specifies how a stream is to be opened:
<ul><li>r for read</li> <li>w for write</li> <li>a for append at the end of the file</li> <li>r+ for read and write</li> <li>w+ for read and write</li> <li>a+ for read and write at the end of the file.</li> <li><img src="https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-2-8-12-48-1.png" alt="2020-2-8-12-48-1.png"></li></ul></li></ul> <h4 id="closing-a-file"><a href="#closing-a-file" class="header-anchor">#</a> Closing a file</h4> <ul><li><code>nt fclose(FILE *fp)</code></li> <li>This function will close any opened stream</li> <li>Any buffered output data is flushed,</li> <li>Any buffered input data is discarded,</li> <li>Any allocated buffer is released.</li></ul> <h4 id="reading-from-and-writing-to-a-stream"><a href="#reading-from-and-writing-to-a-stream" class="header-anchor">#</a> Reading from and writing to a stream</h4> <p><strong>There are 3 types of unformatted I/O</strong> :</p> <ul><li>Single-character I/O</li> <li>Line I/O: to read or write a line at a time</li> <li>Direct I/O: also called binary I/O. Useful whendealing with structures and binary information</li></ul> <h4 id="single-character-input-functions"><a href="#single-character-input-functions" class="header-anchor">#</a> Single-character Input functions</h4> <ul><li><code>int getc(FILE *)</code></li> <li><code>int fgetc(FILE *)</code></li> <li><code>int getchar(void)</code></li></ul> <p><img src="https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-2-8-12-57-4.png" alt="2020-2-8-12-57-4.png"></p> <ul><li>these 3 functions returns -1 whether anerror or the end-of-file occurs</li> <li>For each stream, two flags are maintained in the FILE object : an error flag and an end-of-file flag.
<ul><li><code>int ferror(FILE*)</code> returns nonzero for true, 0 otherwise</li> <li><code>int feof(FILE*)</code> returns nonzero for true, 0 otherwise</li> <li><code>void clearerr(FILE*)</code> clears both the error and the end-of-file flags.</li></ul></li></ul> <h4 id="single-character-output-functions"><a href="#single-character-output-functions" class="header-anchor">#</a> Single-character Output functions</h4> <ul><li><code>int putc(int c, FILE *fp)</code>: print a single character</li> <li><code>int fputc(int c, FILE *fp)</code>: same asputc()exceptthat, <code>putc()</code> can be implemented as a macro whereas <code>fputc()</code> cannot.</li> <li><code>int putchar(int c)</code>: equivalent toputc(c, stdin).</li> <li>All these functions returns the printed character <strong>c</strong> as an <strong>int</strong> when succesful and -1 otherwise.</li></ul> <p><img src="https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-2-8-13-1-59.png" alt="2020-2-8-13-1-59.png"></p> <h4 id="random-file-access"><a href="#random-file-access" class="header-anchor">#</a> Random file access</h4> <ul><li><code>long ftell(FILE *stream)</code>;
<ul><li>get the current value of the file-position indicator ofa stream</li></ul></li> <li><code>void rewind(FILE *stream)</code>;
<ul><li>reset file position indicator in a stream</li></ul></li> <li><code>int fseek(FILE *fp, long offset, int whence)</code> <ul><li>redefine a file-position indicator in a stream :</li> <li>SEEKSET: set position equal to offset bytes</li> <li>SEEKCUR: set position to current locationplus offset</li> <li>SEEKEND: set position to EOF plus offset.</li></ul></li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2/8/2020, 1:10:45 PM</span></div></footer> <!----> </main></div><div class="global-ui"><!----></div></div>
    <script src="/my-notebook/assets/js/app.48b3e102.js" defer></script><script src="/my-notebook/assets/js/2.3651e544.js" defer></script><script src="/my-notebook/assets/js/163.6f9ab859.js" defer></script>
  </body>
</html>

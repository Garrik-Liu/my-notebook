# å•†åŸåå°é¡¹ç›®

## ç™»å½•æ³¨å†Œ

![2020-2-3-9-57-42.png](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-2-3-9-57-42.png)

### åˆ›å»º User æ•°æ®è¡¨

User æ•°æ®è¡¨æœ‰å¦‚ä¸‹å­—æ®µï¼š

- uid;
- username;
- password;
- phone;

![2020-2-3-10-55-7.png](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-2-3-10-55-7.png)

ä¹‹ååœ¨é¡¹ç›®ç›®å½•é‡Œï¼Œåˆ›å»ºå¯¹åº”çš„ User çš„ Domainã€‚

![2020-2-3-11-4-15.png](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-2-3-11-4-15.png)

### ä½¿ç”¨ Lombok

- ä¸Šé¢ ğŸ‘†Domain ä¸­ï¼Œæˆ‘ä»¬å†™äº†å¾ˆå¤š Getter / Setter æ–¹æ³•ï¼›
- Lombok æ˜¯ä¸€ä¸ªä»£ç ç”Ÿæˆå·¥å…·ï¼›
- å®ƒå¯ä»¥è‡ªåŠ¨ç”Ÿæˆ Getter / Setter æ–¹æ³•ï¼Œä»è€Œæé«˜å¼€å‘æ•ˆç‡ï¼›
- ä½¿ä»£ç æ›´åŠ ç®€æ´ï¼Œç›´è§‚ï¼Œå‡å°‘å¤§é‡çš„å†—ä½™ä»£ç ï¼›
- å‡å°‘åæœŸç»´æŠ¤æˆæœ¬ï¼›

#### å®‰è£… Lombok

ä¸‹è½½ï¼š[https://projectlombok.org/download](https://projectlombok.org/download)

å®‰è£… Eclipse æ’ä»¶ï¼š

- è¦æƒ³ä½¿ç”¨ Lombok æ’ä»¶ï¼Œä¸‹è½½å®Œ jar åŒ…ä¹‹åï¼Œè¿˜éœ€è¦å…ˆå®‰è£…ä¸€ä¸‹ï¼›
- å‘½ä»¤è¡Œæ‰§è¡Œå‘½ä»¤ `java -jar ./lombok.jar` è¿›å…¥å®‰è£…ç•Œé¢ï¼›
- ç‚¹å‡» Installï¼ŒæŠŠæ’ä»¶å®‰è£…åˆ° Eclipseï¼›

![2020-2-3-11-25-19.png](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-2-3-11-25-19.png)

- ä¹‹åå°†åˆšæ‰ä¸‹è½½çš„ Lombok çš„ jar åŒ…å¼•å…¥åˆ°é¡¹ç›®ä¸­ï¼š
  ![2020-2-3-11-27-38.png](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-2-3-11-27-38.png)

- ä¹‹åé‡å¯ä¸€ä¸‹ Eclipseï¼›

#### å¼•å…¥ jar åŒ…çš„ä¸¤ç§æ–¹å¼

**ç¬¬ä¸€ç§**ï¼š

- æˆ‘ä»¬ä¸Šé¢ ğŸ‘† å¼•å…¥ jar åŒ…çš„å½¢å¼ï¼›
- å…ˆæŠŠ jar åŒ…æ‹·è´åˆ° WEB-INF ç›®å½•ä¸‹çš„ libï¼›
- ç„¶åå³é”® jar åŒ…ï¼ŒBuild Pathï¼›
- è¿™ç§æ–¹å¼å¾ˆéº»çƒ¦ï¼Œæ¯æ¬¡åˆ›å»ºæ–°é¡¹ç›®ï¼Œéƒ½è¦æ‹·è´ç¡¬ç›˜ä¸­çš„ jar åŒ…ï¼›

**ç¬¬äºŒç§**ï¼š

- å³é”®é¡¹ç›®ï¼Œç‚¹å‡» Build Pathï¼Œç‚¹å‡» Configure Build Pathï¼›
  ![2020-2-3-11-36-14.png](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-2-3-11-36-14.png)

- ç‚¹å‡» Librariesï¼Œç‚¹å‡» Add Libraryï¼Œç‚¹å‡» User Libraryï¼›
  ![2020-2-3-11-37-49.png](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-2-3-11-37-49.png)

- æ–°å»ºä¸€ä¸ªè‡ªå®šä¹‰çš„åŒ…ï¼›
  ![2020-2-3-11-39-42.png](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-2-3-11-39-42.png)

- ç‚¹å‡» Add External Jarsï¼ŒæŠŠå¤–éƒ¨çš„ jar åŒ…å’Œè‡ªå®šä¹‰çš„åŒ…å…³è”èµ·æ¥ï¼›
  ![2020-2-3-11-42-0.png](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-2-3-11-42-0.png)

- ç‚¹å‡»ç¡®è®¤åï¼Œä½ å°±å¯ä»¥çœ‹åˆ°åŒ…å·²ç»å¼•å…¥åˆ° Libraries é‡Œé¢äº†ï¼›
  ![2020-2-3-11-43-33.png](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-2-3-11-43-33.png)

#### ä½¿ç”¨ Lombok

- Lombok é€šè¿‡åœ¨ç±»ä¸ŠåŠ æ³¨è§£çš„å½¢å¼ä½¿ç”¨ï¼›
- å¸¸ç”¨æ³¨è§£ï¼šï¼ˆä¸‹é¢ ğŸ‘‡ è¿™äº›æ³¨è§£éƒ½ä¸éœ€è¦è®°ä½ï¼Œå¼€å‘ä¸­å¾ˆå°‘ä½¿ç”¨ï¼‰
  - `@Data`ï¼šæŠŠä¸‹é¢çš„æ–¹æ³•éƒ½ç»™ä½ ç”Ÿæˆä¸€ä»½ï¼›
  - `@Setter` `@Getter`ï¼šè‡ªåŠ¨ç”Ÿæˆ Getter / Setter æ–¹æ³•ï¼›
  - `@ToString`ï¼šç”Ÿæˆ toString æ–¹æ³•ï¼›
  - `@EqualsAndHashCode`ï¼šç”Ÿæˆ equals å’Œ hashCode æ–¹æ³•ï¼›
  - `@NoArgsConstructor`ï¼šæ— å‚æ„é€ å™¨ï¼›
  - `@AllArgsConstructor`ï¼šå…¨å‚æ„é€ å™¨ï¼›
- å¼€å‘ä¸­ä¸€èˆ¬åªç”¨ `@Setter` `@Getter`ï¼›
- `@Setter` `@Getter` å†™åœ¨ç±»ä¸Šï¼Œç»™ç±»ä¸­æ¯ä¸ªå±æ€§éƒ½åŠ  Getter å’Œ Setterï¼›
- å†™åœ¨å•ç‹¬ä¸€ä¸ªå±æ€§ä¸Šï¼Œåªç»™è¿™ä¸ªå±æ€§åŠ  Getter å’Œ Setterï¼›

![2020-2-3-11-53-3.png](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-2-3-11-53-3.png)

### æ³¨å†ŒéªŒè¯

#### å‰ç«¯éªŒè¯

åœ¨æäº¤è¡¨å•åˆ°åç«¯ä¹‹å‰ï¼Œå…ˆè¿›è¡Œå‰ç«¯éªŒè¯ï¼Œè¿™é‡Œå°±ä¸å¤šè¯´äº†ã€‚

![2020-2-3-19-40-34.png](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-2-3-19-40-34.png)

#### æ³¨å†Œè¡¨å•å‘é€ POST è¯·æ±‚åˆ° Servlet

![2020-2-3-20-56-6.png](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-2-3-20-56-6.png)

#### åç«¯éªŒè¯ç åˆ¤æ–­

![2020-2-3-20-54-46.png](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-2-3-20-54-46.png)

#### åç«¯è·å–è¡¨å•å‚æ•°ï¼ŒæŠŠæ³¨å†Œä¿¡æ¯å†™å…¥æ•°æ®åº“

- ç”¨ `request.getParameterMap` æ¥æ”¶è¡¨å• POST è¯·æ±‚å‘æ¥çš„æ‰€æœ‰å‚æ•°ï¼›
- ç”¨ BeanUtils çš„ `populate` æŠŠæ¥æ”¶çš„å‚æ•°å°è£…æˆ User å¯¹è±¡ï¼›
- ç”¨ UUID å»ç”Ÿæˆéšæœºçš„ç”¨æˆ· UIDï¼›
- é€šè¿‡ QueryRunner æŠŠ User ä¿¡æ¯å†™å…¥æ•°æ®åº“ï¼›

![2020-2-3-21-12-27.png](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-2-3-21-12-27.png)

### ç™»å½•éªŒè¯

- è·å–ç”¨æˆ·åå’Œå¯†ç å‚æ•°ï¼›
- å»æ•°æ®åº“æŸ¥è¯¢ç”¨æˆ·æ˜¯å¦ç”¨æˆ·ä¿¡æ¯æ­£ç¡®ï¼›
- å¦‚æœæ­£ç¡®ï¼Œå°±è·³è½¬åˆ°ä¸»é¡µé¢ï¼›
- ä¸æ­£ç¡®ï¼Œå°±è·³è½¬åˆ°ç™»å½•é¡µé¢ï¼›

![2020-2-3-22-10-19.png](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-2-3-22-10-19.png)

![2020-2-3-22-9-21.png](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-2-3-22-9-21.png)

## å•†å“åˆ—è¡¨

### åˆ›å»ºå•†å“æ•°æ®è¡¨

![2020-2-4-21-41-8.png](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-2-4-21-41-8.png)

ä¹‹ååˆ›å»ºå¯¹åº”çš„å•†å“ Domainï¼š

![2020-2-4-21-42-34.png](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-2-4-21-42-34.png)

### å°†å•†å“æ•°æ®æ¸²æŸ“åˆ°é¡µé¢

#### æœåŠ¡å™¨æŸ¥è¯¢æ•°æ®ï¼Œå¹¶è½¬å‘ç»™é¡µé¢

- ç¼–å†™ GoodsServlet æ¥æŸ¥è¯¢æ•°æ®ï¼›
- æŠŠæ•°æ®åº“ä¸­å–å‡ºæ¥çš„æ•°æ®ï¼Œå­˜æ”¾åˆ° request åŸŸä¸­ï¼›
- è¯·æ±‚è½¬å‘åˆ° goods_list.jspï¼ŒåŒæ—¶æŠŠ request, response å¯¹è±¡ä¼ å…¥ï¼›
- è¿™æ ·å°±å¯ä»¥åœ¨ goods_list.jsp ä¸­è®¿é—®è·å–çš„å•†å“æ•°æ®äº†ï¼›

![2020-2-4-21-56-37.png](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-2-4-21-56-37.png)

#### å°†å•†å“æ•°æ®æ¸²æŸ“åˆ°é¡µé¢

- ç”¨ JSP æ ‡ç­¾å°†æŸ¥è¯¢åˆ°çš„æ•°æ®æ¸²æŸ“åˆ°é¡µé¢ï¼›

![2020-2-4-22-14-25.png](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-2-4-22-14-25.png)

- ä¹‹å‰è®¿é—®å•†å“é¡µé¢ï¼Œæ˜¯è¯·æ±‚ goods-list.jspï¼›
- ç°åœ¨åº”è¯¥æ”¹æˆï¼Œè¯·æ±‚ GoodsServletï¼›

![2020-2-4-22-15-47.png](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-2-4-22-15-47.png)

#### ç”¨ EL å’Œ JSTL ä¼˜åŒ–ä¸Šé¢ä»£ç 

ä¸Šé¢çš„ä»£ç å¯ä»¥ç”¨ EL å’Œ JSTL æ¥ç®€åŒ–ä»£ç é‡ã€‚

![2020-2-5-0-44-25.png](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-2-5-0-44-25.png)

### MVC è®¾è®¡æ¨¡å¼

è®¾è®¡æ¨¡å¼ï¼Œæ˜¯å¼€å‘è¿‡ç¨‹æ€»æ€»ç»“å‡ºæ¥çš„ä¸€å¥—çº¦å®šä¿—æˆçš„å¼€å‘å¥—è·¯ï¼›

JavaEE æ¨¡å¼ï¼š

- model 1 æ¨¡å¼ï¼šJSP + JavaBeanï¼›
  - JavaBean å°è£…æ•°æ®ï¼Œåœ¨ JSP ä¸­æ“ä½œæ•°æ®ï¼Œå¹¶ä¸”å±•ç¤ºï¼›
  - å¼Šç«¯ï¼šä¸šåŠ¡å¤æ‚æ—¶ï¼ŒJSP ä»£ç å®¹æ˜“æ··ä¹±ï¼Œä¸æ˜“äºå¼€å‘ç»´æŠ¤ï¼›
- model 2 æ¨¡å¼ï¼šJSP + Servlet + JavaBeanï¼›
  - MVCï¼š
    - Modelï¼šå¯¹åº” JavaBean - å°è£…æ•°æ®ï¼›
    - Viewï¼šå¯¹åº” JSP - é¡µé¢å±•ç¤ºï¼›
    - Controllerï¼šå¯¹åº” Servlet - æ“ä½œæ•°æ®ï¼Œå¹¶æŠŠæ•°æ®æ”¾åˆ° View å±‚å±•ç¤ºï¼›
- Java Web å¼€å‘ä¸‰å±‚æ¶æ„ï¼š
  - Web å±‚ï¼šä¸æµè§ˆå™¨äº¤äº’ï¼Œè´Ÿè´£æ¥æ”¶è¯·æ±‚ï¼Œåšå‡ºå“åº”ï¼›
  - Service å±‚ï¼šå¤„ç†ä¸šåŠ¡é€»è¾‘ï¼Œæ“ä½œæ•°æ®ï¼ŒæŠŠå°è£…å¥½çš„ç»“æœè¿”å›ç»™ Web å±‚ï¼›
  - DAO å±‚ï¼šç›´æ¥ä¸æ•°æ®åº“ç›¸è¿ï¼Œå°è£…æ•°æ®ï¼Œè¿”å›ç»™ Service å±‚ï¼›

![2020-2-7-19-46-21.png](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-2-7-19-46-21.png)

### ç”¨ MVC é‡æ„å•†å“åˆ—è¡¨

![2020-2-7-19-58-16.png](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-2-7-19-58-16.png)

å…ˆåˆ›å»º web, service, dao ä¸‰ä¸ªç›®å½•ï¼š

![2020-2-7-21-2-52.png](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-2-7-21-2-52.png)

ç¼–å†™å•†å“çš„ DAO ä»£ç ï¼Œåœ¨è¿™æ®µç¨‹åºä¸­ï¼š

- éœ€è¦è¿æ¥æ•°æ®åº“ï¼›
- æŸ¥è¯¢æ•°æ®ï¼›
- å†æŠŠæŸ¥è¯¢åˆ°çš„ç»“æœé›†è¿”å›å‡ºå»ï¼›

![2020-2-7-21-4-54.png](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-2-7-21-4-54.png)

ç¼–å†™å•†å“çš„ Service ä»£ç ï¼Œåœ¨è¿™æ®µä»£ç ä¸­ï¼š

- è°ƒç”¨ DAO å»æŸ¥æ•°æ®ï¼›
- æŠŠé€šè¿‡ DAO æŸ¥è¯¢åˆ°çš„ç»“æœï¼Œå†è¿”å›ç»™ Web å±‚ï¼›

![2020-2-7-21-5-32.png](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-2-7-21-5-32.png)

ç¼–å†™ Web å±‚ä»£ç ï¼Œåœ¨è¿™æ®µä»£ç ä¸­ï¼š

- æ¥æ”¶æµè§ˆå™¨å‘æ¥çš„è¯·æ±‚ï¼›
- æ”¶åˆ°è¯·æ±‚åå»è°ƒç”¨ Service æŸ¥æ•°æ®ï¼›
- ä¹‹åæŠŠè¿”å›æ¥ç»“æœï¼Œæ”¾åˆ° request åŸŸä¸­å“åº”ç»™æµè§ˆå™¨ï¼›

![2020-2-7-21-8-18.png](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-2-7-21-8-18.png)

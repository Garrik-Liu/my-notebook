# é“¾è¡¨

## åè½¬é“¾è¡¨

ç»™å®šä¸€ä¸ªå¸¦å¤´ç»“ç‚¹çš„å•é“¾è¡¨ï¼Œè¯·å°†å…¶é€†åºã€‚

- å³å¦‚æœå•é“¾è¡¨åŸæ¥ä¸º `headâ†’1â†’2â†’3â†’4â†’5â†’6â†’7`
- é€†åºåå˜ä¸º `headâ†’7â†’6â†’5â†’4â†’3â†’2â†’1`

### æ–¹æ³•ä¸€ï¼šå°±åœ°é€†åº

![2020-08-15-09-32-47](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-08-15-09-32-47.png)

ğŸ’¡**æ€è·¯**ï¼š

- åœ¨éå†é“¾è¡¨æ—¶ï¼Œä¿®æ”¹å½“å‰ç»“ç‚¹çš„ `next` æŒ‡é’ˆçš„æŒ‡å‘ï¼Œè®©å…¶æŒ‡å‘å®ƒçš„å‰é©±ç»“ç‚¹ã€‚ä¸ºæ­¤ï¼Œéœ€è¦ç”¨ä¸€ä¸ªæŒ‡é’ˆå˜é‡æ¥ä¿å­˜å‰é©±ç»“ç‚¹çš„åœ°å€ã€‚
- æ­¤å¤–ï¼Œä¸ºäº†åœ¨è°ƒæ•´å½“å‰ç»“ç‚¹çš„ `next` æŒ‡é’ˆçš„æŒ‡å‘åè¿˜èƒ½æ‰¾åˆ°åç»§ç»“ç‚¹ï¼Œè¿˜éœ€è¦å¦å¤–ä¸€ä¸ªæŒ‡é’ˆå˜é‡æ¥ä¿å­˜åç»§ç»“ç‚¹çš„åœ°å€ã€‚
- ç„¶åä»å‰åˆ°åä¸€ä¸ªä¸ªåœ°è¿›è¡Œéå†ä¿®æ”¹ã€‚
- è¿˜éœ€è¦ç‰¹åˆ«æ³¨æ„å¯¹é“¾è¡¨é¦–å°¾ç»“ç‚¹çš„ç‰¹æ®Šå¤„ç†ã€‚

```java
public ListNode reverseList(ListNode head) {
    // åˆ¤æ–­é“¾è¡¨æ˜¯å¦ä¸ºç©ºï¼Œæˆ–è€…åªæœ‰ä¸€ä¸ªå…ƒç´ 
    if(head == null || head.next == null) {
        return head;
    }

    ListNode pre = null;  // å‰é©±ç»“ç‚¹
    ListNode cur = null;  // å½“å‰ç»“ç‚¹
    ListNode next = null; // åé©±ç»“ç‚¹

    pre = head;
    cur = pre.next;
    pre.next = null;

    while(cur.next != null) {
        next = cur.next;
        cur.next = pre;            // cur.next æŒ‡å‘å‰é©±ç»“ç‚¹
        pre = cur;                 // æ­¤æ¬¡éå†çš„ cur å˜æˆä¸‹æ¬¡éå†çš„ pre
        cur = next;                // æ­¤æ¬¡éå†çš„ next å˜æˆä¸‹æ¬¡éå†çš„ cur
    }

    // æœ€åä¸€ä¸ªç»“ç‚¹æŒ‡å‘å®ƒçš„å‰ä¸€ä¸ªç»“ç‚¹
    cur.next = pre;
    // é“¾è¡¨çš„å¤´ç»“ç‚¹æŒ‡å‘æœ€åä¸€ä¸ªèŠ‚ç‚¹
    head = cur;

    return head;
}
```

ğŸ“ **ç®—æ³•æ€§èƒ½åˆ†æ**ï¼š

- ä»¥ä¸Šè¿™ç§æ–¹æ³•åªéœ€è¦å¯¹é“¾è¡¨è¿›è¡Œä¸€æ¬¡éå†ï¼Œå› æ­¤ï¼Œ**æ—¶é—´å¤æ‚åº¦** ä¸º $O(n)$ã€‚å…¶ä¸­ï¼Œ$n$ ä¸ºé“¾è¡¨çš„é•¿åº¦ã€‚
- éœ€è¦å¸¸æ•°ä¸ªé¢å¤–çš„å˜é‡æ¥ä¿å­˜å½“å‰ç»“ç‚¹ï¼Œå‰é©±ç»“ç‚¹ï¼Œåç»§ç»“ç‚¹ã€‚å› æ­¤ï¼Œ**ç©ºé—´å¤æ‚åº¦** ä¸º $O(1)$ã€‚

### æ–¹æ³•äºŒï¼šé€’å½’æ³•

```java

public ListNode reverseList(ListNode head) {
    // åˆ¤æ–­é“¾è¡¨æ˜¯å¦ä¸ºç©º
    if(head == null) {
        return head;
    }

    ListNode newHead = recursiveReverse(head);
    return newHead;
}

private ListNode recursiveReverse(ListNode head) {
    //
    if(head.next == null) {
        return head;
    }

    // é€’å½’ç¿»è½¬é“¾è¡¨ï¼Œè¿”å›æ–°é“¾è¡¨çš„å¤´ç»“ç‚¹
    ListNode newHead = recursiveReverse(head.next);
    ListNode newTail = head.next;
    newTail.next = head;
    head.next = null;
    return newHead;
}
```

ğŸ“ **ç®—æ³•æ€§èƒ½åˆ†æ**ï¼š

- ç”±äºé€’å½’æ³•ä¹Ÿåªéœ€è¦å¯¹é“¾è¡¨è¿›è¡Œä¸€æ¬¡éå†ï¼Œå› æ­¤ï¼Œç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¹Ÿä¸º $O(n)$ã€‚
- ä½†æ˜¯ç”±äºéœ€è¦é¢å¤–çš„å‹æ ˆä¸å¼¹æ ˆæ“ä½œï¼Œå› æ­¤æ‰€éœ€ç©ºé—´ä¼šæ›´å¤§ï¼Œä¸ã€Œ æ–¹æ³• 1 - å°±åœ°é€†åº ã€ç›¸æ¯”æ€§èƒ½ä¼šæœ‰æ‰€ä¸‹é™ã€‚

### é€’å½’é€†åºæ‰“å°é“¾è¡¨ ( ä¸æ”¹å˜åŸå§‹ç»“æ„ )

```java
void recursiveReversePrint(ListNode head) {
    if(head == null) return;

    recursiveReversePrint(head.next);
    System.out.printf("%d ", head.val);
}
```

## ä»æ— åºé“¾è¡¨ä¸­ç§»é™¤é‡å¤é¡¹

[LeetCode ç»ƒä¹ ](https://leetcode-cn.com/problems/remove-duplicate-node-lcci/)

ç»™å®šä¸€ä¸ªæ²¡æœ‰æ’åºçš„é“¾è¡¨ï¼Œå»æ‰å…¶é‡å¤é¡¹ï¼Œå¹¶ä¿ç•™åŸé¡ºåºã€‚

- å¦‚åŸå§‹é“¾è¡¨ä¸º `1â†’3â†’1â†’5â†’5â†’7`ï¼Œ
- å»æ‰é‡å¤é¡¹åå˜ä¸º `1â†’3â†’5â†’7`ã€‚

### æ–¹æ³•ä¸€ï¼šé¡ºåºåˆ é™¤

ğŸ’¡ **æ€è·¯**ï¼šé€šè¿‡åŒé‡å¾ªç¯ç›´æ¥åœ¨é“¾è¡¨ä¸Šæ‰§è¡Œåˆ é™¤æ“ä½œã€‚å¤–å±‚å¾ªç¯ç”¨ä¸€ä¸ªæŒ‡é’ˆä»ç¬¬ä¸€ä¸ªç»“ç‚¹å¼€å§‹éå†æ•´ä¸ªé“¾è¡¨ï¼Œç„¶åå†…å±‚å¾ªç¯ç”¨å¦å¤–ä¸€ä¸ªæŒ‡é’ˆéå†å…¶ä½™ç»“ç‚¹ï¼Œå°†ä¸å¤–å±‚å¾ªç¯éå†åˆ°çš„æŒ‡é’ˆæ‰€æŒ‡ç»“ç‚¹çš„æ•°æ®åŸŸç›¸åŒçš„ç»“ç‚¹åˆ é™¤ã€‚

```java
public ListNode removeDuplicateNodes(ListNode head) {
    if(head == null || head.next == null) return head;

    ListNode outerCur, innerCur, innerPre;

    outerCur = head;

    while(outerCur != null) {
        innerCur = outerCur.next;
        innerPre = outerCur;

        while(innerCur != null) {
            if(innerCur.val == outerCur.val) innerPre.next = innerCur.next;
            else innerPre = innerCur;

            innerCur = innerCur.next;
        }

        outerCur = outerCur.next;
    }
    return head;
}
```

ğŸ“ **ç®—æ³•æ€§èƒ½åˆ†æ**ï¼š

- ç”±äºè¿™ç§æ–¹æ³•é‡‡ç”¨åŒé‡å¾ªç¯å¯¹é“¾è¡¨è¿›è¡Œéå†ã€‚**æ—¶é—´å¤æ‚åº¦**ä¸º $O(n^2)$
- ã€‚åœ¨éå†é“¾è¡¨çš„è¿‡ç¨‹ä¸­ï¼Œä½¿ç”¨äº†å¸¸é‡ä¸ªé¢å¤–çš„æŒ‡é’ˆå˜é‡æ¥ä¿å­˜å½“å‰éå†çš„ç»“ç‚¹ï¼Œå‰é©±ç»“ç‚¹ã€‚**ç©ºé—´å¤æ‚åº¦**ä¸º $O(1)$

### æ–¹æ³•äºŒï¼šä½¿ç”¨ HashSet

ğŸ’¡ **æ€è·¯**ï¼š

- å»ºç«‹ä¸€ä¸ª HashSetã€‚ä»å¤´å¼€å§‹éå†é“¾è¡¨ä¸­çš„æ‰€ä»¥ç»“ç‚¹ã€‚
- å¦‚æœç»“ç‚¹å†…å®¹å·²ç»åœ¨ HashSet ä¸­ï¼Œåˆ™åˆ é™¤æ­¤ç»“ç‚¹ï¼Œç»§ç»­å‘åéå†ã€‚
- å¦‚æœç»“ç‚¹å†…å®¹ä¸åœ¨ HashSet ä¸­ï¼Œå°†æ­¤ç»“ç‚¹å†…å®¹æ·»åŠ åˆ° HashSet ä¸­ï¼Œç»§ç»­å‘åéå†ã€‚

```java
public ListNode removeDuplicateNodes(ListNode head) {
    if(head == null || head.next == null) return head;

    // å»ºç«‹ HashSet
    HashSet hashSet = new HashSet();
    ListNode curNode = head;
    ListNode preNode = curNode;

    // éå†é“¾è¡¨
    while(curNode != null) {
        // ç»“ç‚¹ä¸­çš„æ•°å­—ä¸åœ¨ HashSet ä¹‹ä¸­
        if(!hashSet.contains(curNode.val)) {
            hashSet.add(curNode.val);
            preNode = curNode;
        }
        // å¦‚æœå·²å­˜åœ¨ï¼Œåˆ™ç›´æ¥è·³è¿‡
        else {
            preNode.next = curNode.next;
        }
        curNode = curNode.next;
    }

    return head;
}
```

## ä»æœ‰åºé“¾è¡¨ä¸­ç§»é™¤é‡å¤é¡¹

[LeetCode ç»ƒä¹ ](https://leetcode-cn.com/problems/remove-duplicates-from-sorted-list/)

ğŸ’¡ **æ€è·¯**ï¼šç”±äºè¾“å…¥çš„åˆ—è¡¨å·²æ’åºï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥é€šè¿‡å°†ç»“ç‚¹çš„å€¼ä¸å®ƒä¹‹åçš„ç»“ç‚¹è¿›è¡Œæ¯”è¾ƒæ¥ç¡®å®šå®ƒæ˜¯å¦ä¸ºé‡å¤ç»“ç‚¹ã€‚å¦‚æœå®ƒæ˜¯é‡å¤çš„ï¼Œæˆ‘ä»¬æ›´æ”¹å½“å‰ç»“ç‚¹çš„ next æŒ‡é’ˆï¼Œä»¥ä¾¿å®ƒè·³è¿‡ä¸‹ä¸€ä¸ªç»“ç‚¹å¹¶ç›´æ¥æŒ‡å‘ä¸‹ä¸€ä¸ªç»“ç‚¹ä¹‹åçš„ç»“ç‚¹ã€‚

```java
public ListNode deleteDuplicates(ListNode head) {

    ListNode curNode = head;

    while (curNode != null && curNode.next != null) {
        if(curNode.val == curNode.next.val) {
            curNode.next = curNode.next.next;
        } else {
            curNode = curNode.next;
        }
    }

    return head;
}
```

## è®¡ç®—ä¸¤ä¸ªå•é“¾è¡¨æ‰€ä»£è¡¨çš„æ•°ä¹‹å’Œ

[LeetCode ç»ƒä¹ ](https://leetcode-cn.com/problems/add-two-numbers/)

ç»™å®šä¸¤ä¸ªå•é“¾è¡¨ï¼Œé“¾è¡¨çš„æ¯ä¸ªç»“ç‚¹ä»£è¡¨ä¸€ä½æ•°ï¼Œè®¡ç®—ä¸¤ä¸ªæ•°çš„å’Œï¼Œå¹¶ä¸”è¿”å›ä¸€ä¸ªæ–°çš„é“¾è¡¨æ¥è¡¨ç¤ºå®ƒä»¬çš„å’Œã€‚

### ä¸¤ä¸ªé“¾è¡¨æ˜¯é€†åºçš„

![2020-08-15-13-27-05](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-08-15-13-27-05.png)

```java
public ListNode addTwoNumbers(ListNode l1, ListNode l2) {

    ListNode result = new ListNode(0);
    ListNode curl1 = l1, curl2 = l2, curResult = result, nextResult;
    int vall1, vall2, sum, carry;

    while(curl1 != null || curl2 != null) {
        vall1 = (curl1 != null) ? curl1.val : 0;
        vall2 = (curl2 != null) ? curl2.val : 0;

        sum = curResult.val + vall1 + vall2;
        carry = sum / 10;
        curResult.val = sum % 10;
        nextResult = new ListNode(carry);

        if(curl1 != null) curl1 = curl1.next;
        if(curl2 != null) curl2 = curl2.next;

        if(curl1 == null && curl2 == null && carry == 0) {
            curResult.next = null;
        } else  {
            curResult.next = nextResult;
            curResult = nextResult;
        }
    }

    return result;
}
```

### ä¸¤ä¸ªé“¾è¡¨æ˜¯é¡ºåºçš„

## åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨

[LeetCode ç»ƒä¹ ](https://leetcode-cn.com/leetbook/read/top-interview-questions-easy/xnnbp2/)

å°†ä¸¤ä¸ªæœ‰åºé“¾è¡¨åˆå¹¶ä¸ºä¸€ä¸ªæ–°çš„æœ‰åºé“¾è¡¨å¹¶è¿”å›ã€‚

```java
public ListNode mergeTwoLists(ListNode l1, ListNode l2) {
    ListNode curMerged = new ListNode(0);
    ListNode merged = curMerged;

    while(l1 != null && l2 != null) {
        if(l1.val <= l2.val) {
            curMerged.next = l1;
            l1 = l1.next;
        } else {
            curMerged.next = l2;
            l2 = l2.next;
        }
        curMerged = curMerged.next;
    }

    curMerged.next = l1 != null ? l1 : l2;
    return merged.next;
}
```

ğŸ“ **ç®—æ³•æ€§èƒ½åˆ†æ**ï¼š

- æ—¶é—´å¤æ‚åº¦ï¼š$O(n + m)$ï¼Œ$n$ å’Œ $m$ åˆ†åˆ«æ˜¯ä¸¤ä¸ªé“¾è¡¨çš„é•¿åº¦ã€‚
- ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$ æˆ‘ä»¬åªéœ€è¦å¸¸æ•°çš„ç©ºé—´å­˜æ”¾è‹¥å¹²å˜é‡ã€‚

## é“¾è¡¨æ’åº

[LeetCode ç»ƒä¹ ](https://leetcode-cn.com/problems/sort-list/)

ç»™å®šä¸€ä¸ªé“¾è¡¨è¿›è¡Œæ’åºã€‚è¦æ±‚ï¼š

1. åªèƒ½ä¿®æ”¹ç»“ç‚¹çš„ `next`ï¼Œä¸èƒ½ä¿®æ”¹æ•°æ®ï¼›
2. æ—¶é—´å¤æ‚åº¦æ§åˆ¶åœ¨ $O(nlogn)$ï¼Œç©ºé—´å¤æ‚åº¦ä¸º $O(1)$

### æ–¹æ³•ä¸€ï¼šå½’å¹¶æ’åº ( é€’å½’æ³• )

å¯¹æ•°ç»„åšå½’å¹¶æ’åºçš„ç©ºé—´å¤æ‚åº¦ä¸º $O(n)$ï¼Œåˆ†åˆ«ç”±æ–°å¼€è¾Ÿæ•°ç»„ $O(n)$ å’Œé€’å½’å‡½æ•°è°ƒç”¨ $O(logn)$ ç»„æˆï¼Œè€Œæ ¹æ®é“¾è¡¨ç‰¹æ€§ï¼š

- æ•°ç»„é¢å¤–ç©ºé—´ï¼šé“¾è¡¨å¯ä»¥é€šè¿‡ä¿®æ”¹å¼•ç”¨æ¥æ›´æ”¹èŠ‚ç‚¹é¡ºåºï¼Œæ— éœ€åƒæ•°ç»„ä¸€æ ·å¼€è¾Ÿé¢å¤–ç©ºé—´ï¼›
- é€’å½’é¢å¤–ç©ºé—´ï¼šé€’å½’è°ƒç”¨å‡½æ•°å°†å¸¦æ¥ $O(logn)$ çš„ç©ºé—´å¤æ‚åº¦ï¼Œå› æ­¤è‹¥å¸Œæœ›è¾¾åˆ° $O(1)$ ç©ºé—´å¤æ‚åº¦ï¼Œåˆ™ä¸èƒ½ä½¿ç”¨é€’å½’ã€‚

é€šè¿‡é€’å½’å®ç°é“¾è¡¨å½’å¹¶æ’åºï¼Œæœ‰ä»¥ä¸‹ä¸¤ä¸ªç¯èŠ‚ï¼š

- **åˆ†å‰² cut ç¯èŠ‚**ï¼š

  - æ‰¾åˆ°å½“å‰é“¾è¡¨ä¸­ç‚¹ï¼Œå¹¶ä»ä¸­ç‚¹å°†é“¾è¡¨æ–­å¼€ã€‚
  - æˆ‘ä»¬ä½¿ç”¨ `fast`, `slow` å¿«æ…¢åŒæŒ‡é’ˆæ³•ï¼Œå¥‡æ•°ä¸ªèŠ‚ç‚¹æ‰¾åˆ°ä¸­ç‚¹ï¼Œå¶æ•°ä¸ªèŠ‚ç‚¹æ‰¾åˆ°ä¸­å¿ƒå·¦è¾¹çš„èŠ‚ç‚¹ã€‚
  - æ‰¾åˆ°ä¸­ç‚¹ `slow` åï¼Œæ‰§è¡Œ `slow.next = null` å°†é“¾è¡¨åˆ‡æ–­ã€‚
  - cut é€’å½’ç»ˆæ­¢æ¡ä»¶ï¼šå½“ `head.next == null` æ—¶ï¼Œè¯´æ˜åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹äº†ï¼Œç›´æ¥è¿”å›æ­¤èŠ‚ç‚¹ã€‚

- **åˆå¹¶ merge ç¯èŠ‚**ï¼š
  - åŒæŒ‡é’ˆæ³•åˆå¹¶ã€‚è®¾ç½®ä¸¤æŒ‡é’ˆ `left`, `right` åˆ†åˆ«æŒ‡å‘ä¸¤é“¾è¡¨å¤´éƒ¨ï¼Œæ¯”è¾ƒä¸¤æŒ‡é’ˆå¤„èŠ‚ç‚¹å€¼å¤§å°ï¼Œç”±å°åˆ°å¤§åŠ å…¥åˆå¹¶é“¾è¡¨å¤´éƒ¨ï¼ŒæŒ‡é’ˆäº¤æ›¿å‰è¿›ï¼Œç›´è‡³æ·»åŠ å®Œä¸¤ä¸ªé“¾è¡¨ã€‚

![2020-08-15-14-57-21](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-08-15-14-57-21.png)

```java
public ListNode sortList(ListNode head) {
    if(head == null) return head;
    return divide(head);
}

private ListNode divide(ListNode head) {

    if(head.next == null) return head;

    ListNode slow = head, fast = head;

    while(fast.next != null && fast.next.next != null) {
      slow = slow.next;
      fast = fast.next.next;
    }

    ListNode left = head;
    ListNode right = slow.next;
    slow.next = null;

    return merge(divide(left), divide(right));
}

private ListNode merge(ListNode left, ListNode right) {
    ListNode curMerged = new ListNode(0);
    ListNode merged = curMerged;

    while(left != null && right != null) {
        if(left.val <= right.val) {
            curMerged.next = left;
            left = left.next;
        } else {
            curMerged.next = right;
            right = right.next;
        }
        curMerged = curMerged.next;
    }

    curMerged.next = left != null ? left : right;
    return merged.next;
}
```

## æ‰¾å‡ºå•é“¾è¡¨ä¸­çš„å€’æ•°ç¬¬ k ä¸ªå…ƒç´ 

ğŸ’¡ **æ€è·¯**ï¼šä½¿ç”¨å¿«æ…¢æŒ‡é’ˆæ³•ã€‚

## æŠŠé“¾è¡¨ç›¸é‚»å…ƒç´ ç¿»è½¬

## æŠŠé“¾è¡¨ä»¥ k ä¸ªç»“ç‚¹ä¸ºä¸€ç»„è¿›è¡Œç¿»è½¬

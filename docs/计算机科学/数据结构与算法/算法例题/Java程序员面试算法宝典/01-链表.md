# é“¾è¡¨

## å¦‚ä½•å®ç°é“¾è¡¨çš„é€†åº

ç»™å®šä¸€ä¸ªå¸¦å¤´ç»“ç‚¹çš„å•é“¾è¡¨ï¼Œè¯·å°†å…¶é€†åºã€‚

- å³å¦‚æœå•é“¾è¡¨åŸæ¥ä¸º `headâ†’1â†’2â†’3â†’4â†’5â†’6â†’7`
- é€†åºåå˜ä¸º `headâ†’7â†’6â†’5â†’4â†’3â†’2â†’1`

### æ–¹æ³•ä¸€ï¼šå°±åœ°é€†åº

![2020-08-15-09-32-47](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-08-15-09-32-47.png)

ğŸ’¡**æ€è·¯**ï¼š

- åœ¨éå†é“¾è¡¨æ—¶ï¼Œä¿®æ”¹å½“å‰ç»“ç‚¹çš„ `next` æŒ‡é’ˆçš„æŒ‡å‘ï¼Œè®©å…¶æŒ‡å‘å®ƒçš„å‰é©±ç»“ç‚¹ã€‚ä¸ºæ­¤ï¼Œéœ€è¦ç”¨ä¸€ä¸ªæŒ‡é’ˆå˜é‡æ¥ä¿å­˜å‰é©±ç»“ç‚¹çš„åœ°å€ã€‚
- æ­¤å¤–ï¼Œä¸ºäº†åœ¨è°ƒæ•´å½“å‰ç»“ç‚¹çš„ `next` æŒ‡é’ˆçš„æŒ‡å‘åè¿˜èƒ½æ‰¾åˆ°åç»§ç»“ç‚¹ï¼Œè¿˜éœ€è¦å¦å¤–ä¸€ä¸ªæŒ‡é’ˆå˜é‡æ¥ä¿å­˜åç»§ç»“ç‚¹çš„åœ°å€ã€‚
- ç„¶åä»å‰åˆ°åä¸€ä¸ªä¸ªåœ°è¿›è¡Œéå†ä¿®æ”¹ã€‚
- è¿˜éœ€è¦ç‰¹åˆ«æ³¨æ„å¯¹é“¾è¡¨é¦–å°¾ç»“ç‚¹çš„ç‰¹æ®Šå¤„ç†ã€‚

```java
public ListNode reverseList(ListNode head) {
    // åˆ¤æ–­é“¾è¡¨æ˜¯å¦ä¸ºç©ºï¼Œæˆ–è€…åªæœ‰ä¸€ä¸ªå…ƒç´ 
    if(head == null || head.next == null) {
        return head;
    }

    ListNode pre = null;  // å‰é©±ç»“ç‚¹
    ListNode cur = null;  // å½“å‰ç»“ç‚¹
    ListNode next = null; // åé©±ç»“ç‚¹

    pre = head;
    cur = pre.next;
    pre.next = null;

    while(cur.next != null) {
        next = cur.next;
        cur.next = pre;            // cur.next æŒ‡å‘å‰é©±ç»“ç‚¹
        pre = cur;                 // æ­¤æ¬¡éå†çš„ cur å˜æˆä¸‹æ¬¡éå†çš„ pre
        cur = next;                // æ­¤æ¬¡éå†çš„ next å˜æˆä¸‹æ¬¡éå†çš„ cur
    }

    // æœ€åä¸€ä¸ªç»“ç‚¹æŒ‡å‘å®ƒçš„å‰ä¸€ä¸ªç»“ç‚¹
    cur.next = pre;
    // é“¾è¡¨çš„å¤´ç»“ç‚¹æŒ‡å‘æœ€åä¸€ä¸ªèŠ‚ç‚¹
    head = cur;

    return head;
}
```

ğŸ“ **ç®—æ³•æ€§èƒ½åˆ†æ**ï¼š

- ä»¥ä¸Šè¿™ç§æ–¹æ³•åªéœ€è¦å¯¹é“¾è¡¨è¿›è¡Œä¸€æ¬¡éå†ï¼Œå› æ­¤ï¼Œ**æ—¶é—´å¤æ‚åº¦** ä¸º $O(n)$ã€‚å…¶ä¸­ï¼Œ$n$ ä¸ºé“¾è¡¨çš„é•¿åº¦ã€‚
- éœ€è¦å¸¸æ•°ä¸ªé¢å¤–çš„å˜é‡æ¥ä¿å­˜å½“å‰ç»“ç‚¹ï¼Œå‰é©±ç»“ç‚¹ï¼Œåç»§ç»“ç‚¹ã€‚å› æ­¤ï¼Œ**ç©ºé—´å¤æ‚åº¦** ä¸º $O(1)$ã€‚

### æ–¹æ³•äºŒï¼šé€’å½’æ³•

```java

public ListNode reverseList(ListNode head) {
    // åˆ¤æ–­é“¾è¡¨æ˜¯å¦ä¸ºç©º
    if(head == null) {
        return head;
    }

    ListNode newHead = recursiveReverse(head);
    return newHead;
}

private ListNode recursiveReverse(ListNode head) {
    //
    if(head.next == null) {
        return head;
    }

    // é€’å½’ç¿»è½¬é“¾è¡¨ï¼Œè¿”å›æ–°é“¾è¡¨çš„å¤´ç»“ç‚¹
    ListNode newHead = recursiveReverse(head.next);
    ListNode newTail = head.next;
    newTail.next = head;
    head.next = null;
    return newHead;
}
```

ğŸ“ **ç®—æ³•æ€§èƒ½åˆ†æ**ï¼š

- ç”±äºé€’å½’æ³•ä¹Ÿåªéœ€è¦å¯¹é“¾è¡¨è¿›è¡Œä¸€æ¬¡éå†ï¼Œå› æ­¤ï¼Œç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¹Ÿä¸º $O(n)$ã€‚
- ä½†æ˜¯ç”±äºéœ€è¦é¢å¤–çš„å‹æ ˆä¸å¼¹æ ˆæ“ä½œï¼Œå› æ­¤æ‰€éœ€ç©ºé—´ä¼šæ›´å¤§ï¼Œä¸ã€Œ æ–¹æ³• 1 - å°±åœ°é€†åº ã€ç›¸æ¯”æ€§èƒ½ä¼šæœ‰æ‰€ä¸‹é™ã€‚

### é€’å½’é€†åºæ‰“å°é“¾è¡¨ ( ä¸æ”¹å˜åŸå§‹ç»“æ„ )

```java
void recursiveReversePrint(ListNode head) {
    if(head == null) return;

    recursiveReversePrint(head.next);
    System.out.printf("%d ", head.val);
}
```

## å¦‚ä½•ä»æ— åºé“¾è¡¨ä¸­ç§»é™¤é‡å¤é¡¹

ç»™å®šä¸€ä¸ªæ²¡æœ‰æ’åºçš„é“¾è¡¨ï¼Œå»æ‰å…¶é‡å¤é¡¹ï¼Œå¹¶ä¿ç•™åŸé¡ºåºã€‚

- å¦‚åŸå§‹é“¾è¡¨ä¸º `1â†’3â†’1â†’5â†’5â†’7`ï¼Œ
- å»æ‰é‡å¤é¡¹åå˜ä¸º `1â†’3â†’5â†’7`ã€‚

### æ–¹æ³•ä¸€ï¼šé¡ºåºåˆ é™¤

### æ–¹æ³•äºŒï¼šé€’å½’æ³•

## å¦‚ä½•è®¡ç®—ä¸¤ä¸ªå•é“¾è¡¨æ‰€ä»£è¡¨çš„æ•°ä¹‹å’Œ

# é€‚é…å™¨ & å¤–è§‚æ¨¡å¼

## é€‚é…å™¨æ¨¡å¼

- é€‚é…å™¨æ¨¡å¼ï¼šå°†ä¸€ä¸ªç±»çš„æ¥å£ï¼Œè½¬æ¢æˆå®¢æˆ·æœŸæœ›çš„å¦ä¸€ä¸ªæ¥å£ï¼›
- é€‚é…å™¨è®©åŸæœ¬æ¥å£ä¸å…¼å®¹çš„ç±»å¯ä»¥äº’ç›¸åˆä½œï¼›

#### å®ç°é€‚é…å™¨æ¨¡å¼

- é¦–å…ˆæˆ‘ä»¬å®šä¹‰å‡ºä¸€ä¸ª â€œç›®æ ‡æ¥å£â€ï¼Œé‡Œé¢ç»™å‡ºæƒ³æš´éœ²ç»™å®¢æˆ·çš„æ¥å£ï¼›
- ç„¶åå®¢æˆ·æ ¹æ® â€œç›®æ ‡æ¥å£â€ é‡Œé¢å®šä¹‰çš„æ–¹æ³•å»å®ç°ä»£ç ï¼›
- é€‚é…å™¨ä¹Ÿæ ¹æ® â€œç›®æ ‡æ¥å£â€ å»å®ç°ï¼Œå¹¶ä¸”æŒæœ‰è¢«é€‚é…è€…çš„å®ä¾‹ï¼›
- ä¹‹åå®¢æˆ·é€šè¿‡è°ƒç”¨é€‚é…å™¨çš„æ–¹æ³•ï¼Œå¯¹é€‚é…å™¨å‘å‡ºè¯·æ±‚ï¼›
- é€‚é…å™¨æŠŠè¯·æ±‚è½¬æ¢æˆå¯¹è¢«é€‚é…è€…çš„æ¥å£çš„è°ƒç”¨ï¼›
- é€‚é…å™¨å†è°ƒç”¨å®Œæ¯•åï¼ŒæŠŠç»“æœå†è¿”å›ç»™å®¢æˆ·ï¼›
- ä»å§‹è‡³ç»ˆï¼Œå®¢æˆ·å¹¶ä¸éœ€è¦çŸ¥é“è¢«é€‚é…è€…çš„æ¥å£å«ä»€ä¹ˆã€‚å®ƒåªå’Œé€‚é…å™¨äº¤äº’ï¼›

![2020-2-21-17-5-39.png](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-2-21-17-5-39.png)

#### ğŸŒ° ç¤ºä¾‹

ä¸‹é¢ ğŸ‘‡ æˆ‘ä»¬ç”¨ â€œé¸­å­â€ å’Œ â€œç«é¸¡â€ ä¸¾ä¾‹ã€‚é€šè¿‡é€‚é…å™¨ï¼Œè®©ç«é¸¡ä¹Ÿèƒ½è°ƒç”¨é¸­å­çš„æ–¹æ³•ï¼š

```java
public interface Duck {
  public void quack();
  public void fly();
}

public interface Turkey {
  public void gobble();
  public void fly();
}
```

```java
public class MallardDuck implements Duck {
  public void quack() {
    System.out.println("é¸­å­å«");
  }
  public void fly() {
    System.out.println("é¸­å­é£");
  }
}

public class WildTurkey implements Turkey {
  public void gobble() {
    System.out.println("ç«é¸¡å«");
  }
  public void fly() {
    System.out.println("ç«é¸¡é£");
  }
}
```

æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ¥å®ç°**é€‚é…å™¨**ï¼š

```java
public class TurkeyAdapter implements Duck {
  // å¯¹è¢«é€‚é…è€…çš„å¼•ç”¨
  Turkey turkey;

  public TurkeyAdapter(Turkey turkey) {
    this.turkey = turkey;
  }

  // å®ç° â€œé¸­å­æ¥å£â€ ä¸­å®šä¹‰çš„æ–¹æ³•ï¼›
  // åœ¨æ–¹æ³•å†…éƒ¨å»è°ƒç”¨è¢«é€‚é…è€…å¯¹åº”çš„æ¥å£ï¼›
  public void quack() {
    turkey.gobble();
  }

  // ç«é¸¡é£çš„çŸ­ï¼Œè¿™é‡Œè®©å®ƒå¤šé£ä¸€ä¼šå„¿ï¼›
  public void fly() {
    for(int i = 0; i < 5; i++) {
      turkey.fly();
    }
  }
}
```

æœ€åï¼Œæˆ‘ä»¬è®©å®¢æˆ·å»è°ƒç”¨é€‚é…å™¨ï¼›

```java
WildTurkey turkey = new WildTurkey();
Duck turkeyAdapter = new TurkeyAdapter(turkey);

// é€šè¿‡ä½¿ç”¨é€‚é…å™¨ï¼Œç«é¸¡å°±å¯ä»¥ç”¨é¸­å­çš„æ¥å£äº†
turkeyAdapter.quack();
turkeyAdapter.fly();
```

## å¤–è§‚æ¨¡å¼

- **å¤–è§‚æ¨¡å¼**ï¼š**æä¾›äº†ä¸€ä¸ªç»Ÿä¸€çš„æ¥å£ï¼Œç”¨æ¥è®¿é—®å­ç³»ç»Ÿä¸­çš„ä¸€ç¾¤æ¥å£**ï¼›
- é€šè¿‡å¤–è§‚æ¨¡å¼å®šä¹‰äº†ä¸€ä¸ªé«˜å±‚ç»“æ„ï¼Œè®©å­ç³»ç»Ÿå˜å¾—æ›´å®¹æ˜“ä½¿ç”¨ï¼›

#### ğŸŒ° ç¤ºä¾‹

- å‡å¦‚æˆ‘ä»¬æœ‰ä¸€å¥—å®¶åº­å½±é™¢ç³»ç»Ÿã€‚ä¸ºäº†ä½¿ç”¨å®ƒï¼Œæˆ‘ä»¬éœ€è¦åŒæ—¶æ“ä½œå¾ˆå¤šè®¾å¤‡ï¼Œè¿™æ˜¯ä¸€ä»¶å¾ˆéº»çƒ¦çš„äº‹æƒ…ï¼›

![2020-2-21-17-47-7.png](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-2-21-17-47-7.png)

- ä¸ºäº†ç®€åŒ–æ“ä½œï¼Œæˆ‘ä»¬å¯ä»¥å®šä¹‰ä¸€ä¸ªå¤–è§‚ç±»ï¼ŒæŠŠæ‰€æœ‰çš„æ“ä½œå°è£…åˆ°ç‰¹å®šçš„å‡ ä¸ªæ¥å£ä¸­ï¼›
- è¿™æ ·å¤–éƒ¨é€šè¿‡å¤–è§‚ç±»ï¼Œå°±å¯ä»¥å¾ˆè½»æ¾çš„æ“çºµæ•´ä¸ªå®¶åº­å½±é™¢ï¼›

![2020-2-21-17-47-46.png](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-2-21-17-47-46.png)

- ä¸‹é¢æ˜¯ç®€åŒ–çš„å¤–è§‚ç±»å®ç°ï¼š

```java
public class HomeTheaterFacade {
  Amplifier amp;
  DvdPlayer dvd;
  CdPlayer cd;
  Screen screen;

  public HomeTheaterFacade(Amplifier amp, DvdPlayer dvd, Screen screen) {
    this.amp = amp;
    this.dvd = dvd;
    this.screen = screen;
  }

  // æŠŠå­ç³»ç»Ÿçš„æ“ä½œï¼Œå°è£…åˆ°ä¸€ä¸ªæ¥å£ä¸­ï¼Œä»¥æ­¤æ¥ç®€åŒ–æ“ä½œï¼›
  public void watchMovie(String movieName) {
    screen.down();
    amp.on();
    amp.setDvd(dvd);
    amp.setSurrondSound();
    amp.setVolumn(10);
    dvd.on();
    dvd.play(movieName);
  }
}
```

## æœ€å°‘çŸ¥è¯†åŸåˆ™

- å¤–è§‚æ¨¡å¼ä¾ç…§äº† â€œ**æœ€å°‘çŸ¥è¯†**â€ åŸåˆ™ï¼Œä¹Ÿå°±æ˜¯ â€œ**æˆ‘ä»¬è¦å‡å°‘å¯¹è±¡ä¹‹é—´çš„äº¤äº’**â€ï¼›
- è¿™ä¸ªåŸåˆ™å¸Œæœ›æˆ‘ä»¬åœ¨ä»£ç è®¾è®¡ä¸­ï¼Œ**ä¸è¦è®©å¤ªå¤šçš„ç±»è€¦åˆåœ¨ä¸€èµ·**ï¼Œå…å¾—ä¿®æ”¹ç³»ç»Ÿä¸­çš„ä¸€éƒ¨åˆ†ï¼Œä¼šå½±å“åˆ°å…¶ä»–éƒ¨åˆ†ã€‚å¦‚æœè®¸å¤šç±»ä¹‹é—´äº’ç›¸ä¾èµ–ï¼Œç³»ç»Ÿå°±ä¼šå˜å¾—å¾ˆè„†å¼±ï¼Œä¹Ÿä¸å®¹æ˜“è®©ä»–äººç†è§£ï¼›

å¦‚ä½•éµå®ˆæ­¤åŸåˆ™ï¼Œä¸‹é¢ç»™å‡ºäº†ä¸€äº›æ–¹é’ˆï¼š

- **å°±ä»»ä½•å¯¹è±¡è€Œè¨€ï¼Œåœ¨è¯¥å¯¹è±¡çš„æ–¹æ³•å†…ï¼Œæˆ‘ä»¬åº”è¯¥åªè°ƒç”¨å±äºä»¥ä¸‹èŒƒå›´çš„æ–¹æ³•**ï¼š
  - è¯¥å¯¹è±¡æœ¬èº«ï¼›
  - è¢«å½“åšæ–¹æ³•çš„å‚æ•°ï¼Œè€Œä¼ é€’è¿›æ¥çš„å¯¹è±¡ï¼›
  - æ­¤æ–¹æ³•æ‰€åˆ›å»ºæˆ–å®ä¾‹åŒ–çš„ä»»ä½•å¯¹è±¡ï¼›
  - å¯¹è±¡çš„ä»»ä½• â€œç»„ä»¶â€ï¼Œ ä¹Ÿå°±æ˜¯æŒ‡è¢«å®ä¾‹å˜é‡æ‰€å¼•ç”¨çš„å¯¹è±¡ï¼›
- æˆ‘ä»¬**ä¸èƒ½åœ¨ä¸€ä¸ªæ–¹æ³•ä¸­è°ƒç”¨ï¼Œä»å¦ä¸€ä¸ªè°ƒç”¨ä¸­è¿”å›çš„å¯¹è±¡çš„æ–¹æ³•**ï¼›
- è¿™æ ·ç›¸å½“äºï¼Œä¸€ä¸ªå¯¹è±¡å‘å¦ä¸€ä¸ªå¯¹è±¡çš„å­éƒ¨åˆ†å‘å‡ºè¯·æ±‚ï¼Œä¼šå¢åŠ å¯¹è±¡é—´çš„ä¾èµ–ï¼›

ğŸŒ° ä¾‹å¦‚ï¼š

- æ”¹å†™ä¹‹åï¼Œå¯¹è±¡ä¾èµ–çš„ç±»çš„æ•°ç›®å°±å‡å°‘äº†ï¼›

```java
// ä¸é‡‡ç”¨ â€œæœ€å°‘çŸ¥è¯†â€ åŸåˆ™ï¼š
public float getTemp() {
  // å…ˆä»æ°”è±¡ç«™å–å¾—æ¸©åº¦è®¡ï¼Œç„¶åå†ä»æ¸©åº¦è®¡å–å¾—æ¸©åº¦ï¼›
  Thermometer thermometer = station.getThermometer();
  return thermometer.getTemperature();
}

// é‡‡ç”¨ â€œæœ€å°‘çŸ¥è¯†â€ åŸåˆ™ï¼š
public float getTemp() {
  // ç›´æ¥åœ¨æ°”è±¡ç«™åŠ ä¸€ä¸ªæ–¹æ³•ï¼Œç”¨æ¥å–å¾—æ¸©åº¦ï¼›
  return station.getTemperature();
}
```

ä¸‹é¢ ğŸ‘‡ æ˜¯ä¸€ä¸ªæ±½è½¦ç±»ï¼Œé‡Œé¢å±•ç¤ºäº†å¦‚ä½•åº”ç”¨æœ€å°‘çŸ¥è¯†åŸåˆ™ï¼š

![2020-2-21-18-32-18.png](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-2-21-18-32-18.png)

---

- è™½ç„¶ â€œæœ€å°‘çŸ¥è¯†â€ åŸåˆ™è¾ƒå°‘äº†å¯¹è±¡é—´çš„ä¾èµ–ï¼›
- ä½†æ˜¯è¿™ä¹Ÿä¼šå¯¼è‡´æ›´å¤šçš„ â€œåŒ…è£…ç±»â€ è¢«åˆ¶é€ å‡ºæ¥ï¼Œä»¥å¤„ç†å’Œå…¶ä»–ç»„ä»¶çš„æ²Ÿé€šï¼›
- è¿™ä¼šå¯¼è‡´ä»£ç å¤æ‚åº¦ï¼Œå’Œå¼€å‘æ—¶é—´çš„å¢åŠ ï¼Œå¹¶é™ä½è¿è¡Œæ—¶çš„æ€§èƒ½ï¼›

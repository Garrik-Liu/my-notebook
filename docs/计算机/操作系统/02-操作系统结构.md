# 操作系统结构

## 操作系统服务

操作系统为程序运行提供了环境.

![2020-06-10-16-24-02](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-06-10-16-24-02.png)

操作系统为程序和用户提供了很多有用的功能:

- **用户界面**
- **程序执行**
- **I/O 操作**
- **文件系统操作**
- **通信**
- **错误检测**
- **资源分配**
- **统计**
- **保护 & 安全**

## 操作系统的用户界面

**命令解释程序 Command Line Interpreters, CLI**:

- 命令解释程序的作用是, 获取并执行用户指定的下一条命令;
- 执行命令有两种常用方式:
  1. 命令解释程序本身包含能够执行这些命令的程序的代码;
  2. 命令解释程序通过命令名, 来识别保存在磁盘中的对应的程序文件, 然后加载到内存中执行;

**图形用户界面 Graphical User Interfaces, GUI**

- GUI 允许提供可视化交互界面;

## 系统调用

通过 『 **系统调用 System Call** 』可以让用户编写的应用, 去使用操作系统提供的功能.

- 通常用 C 或 C++ 编写;
- 对于很底层的操作也会以汇编语言编写;

下图 👇 展示了 "从一个文件复制内容到另一个文件" 程序所用到的系统调用:

- System Cll Sequnece 中的每一行都有一个或一组对应系统调用;

![2020-06-10-16-53-23](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-06-10-16-53-23.png)

一般编写应用程序时, 不会直接调用 System Call, 而是会使用封装了 System Call 的 API.

## 系统调用类型

系统调用大致可以分为如下 5 类:

![2020-06-10-17-39-25](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-06-10-17-39-25.png)

## 系统程序

系统程序为开发/执行应用程序, 提供了一个方便的环境.

- 其位于操作系统之上, 应用程序之下;
- 除了系统程序之外, 很多操作系统还会提供一些常用的应用程序.
  - 🌰 例如, 浏览器, 文本编辑器, C 语言编译器, etc.
- 对于用户而言, 他们所接触到的操作系统, 就是各种应用程序和系统程序. 更底层的内容接触不到.

![2020-06-10-17-28-07](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-06-10-17-28-07.png)

系统程序, 按照功能大致可以分为如下几类:

- **文件管理**: 创建, 删除, 复制, 重命名, 列出, 等等;
- **状态信息**: 展示各种系统级的信息 ( 日期, 事件, 可用内存空间, 磁盘空间, 用户信息, 性能检测, 系统配置信息, etc. )
- **文件修改**: 对保存在磁盘上, 或其他储存设备上的文件内容进行操作;
- **程序语言支持**: 常用程序设计语言的编译程序, 汇编程序, 调试程序, 解释器程序, 等等;
- **程序装入和执行**: 程序汇编或编译完成后, 将其装入内存执行所需的一系列程序;
- **通信**: 进程间通信, 计算机之间的通信;

## 操作系统结构

## 虚拟机

## 系统生成

## 系统启动

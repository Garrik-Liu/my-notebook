# å¤–è§‚æ¨¡å¼

å¤–è§‚æ¨¡å¼ï¼ˆFacadeï¼‰ï¼š**ä¸ºä¸€ç»„å¤æ‚çš„å­ç³»ç»Ÿæ¥å£æä¾›ä¸€ä¸ªæ›´é«˜çº§çš„ç»Ÿä¸€æ¥å£ï¼Œé€šè¿‡è¿™ä¸ªæ¥å£ä½¿å¾—å¯¹å­ç³»ç»Ÿæ¥å£çš„è®¿é—®æ›´å®¹æ˜“**ã€‚

ç±»æ¯”çš„è¯, å°±åƒå»é¤å…ç‚¹å¥—é¤, ä¸ºäº†èŠ‚çº¦æ—¶é—´, æˆ‘ä»¬å¯ä»¥é€‰æ‹©ç‚¹å¥—é¤.  æ¯”å¦‚é±¼é¦™è‚‰ä¸é¥­å¥—é¤ï¼Œä¼šä¸ºæˆ‘ä»¬æä¾›ç±³é¥­ã€èœï¼Œç”šè‡³é¥®æ–™ç­‰ã€‚è¿™æ ·æˆ‘ä»¬å°±ä¸ç”¨å†æµè§ˆéå†æ¯ä¸€ç§èœï¼Œä¸»é£Ÿè¦ç‚¹ä»€ä¹ˆï¼Œé¥®æ–™è¦ä¹°å“ªç§ç­‰ï¼Œå› ä¸ºå¥—é¤å·²ç»ä¸ºæˆ‘ä»¬å®šåˆ¶å¥½äº†ï¼Œé‚£ä¹ˆåœ¨JavaScriptä¸­ä¹Ÿå¯ä»¥é€šè¿‡ä¸€ä¸ªâ€˜å¥—é¤â€™æ¥ç®€åŒ–å¤æ‚çš„éœ€æ±‚ã€‚

ğŸŒ° å°±æ‹¿ä¸ºä¸€ä¸ª DOM å…ƒç´ æ·»åŠ äº‹ä»¶ä¸¾ä¾‹:

``` js
// å¤–è§‚æ¨¡å¼å®ç°
function addEvent(dom, type, fn){
    // å¯¹äºæ”¯æŒDOM2çº§äº‹ä»¶å¤„ç†ç¨‹åºaddEventListeneræ–¹æ³•çš„æµè§ˆå™¨
    if(dom.addEventListener){
        dom.addEventListener(type, fn, false);
    // å¯¹äºä¸æ”¯æŒaddEventListeneræ–¹æ³•ä½†æ”¯æŒattachEventæ–¹æ³•çš„æµè§ˆå™¨
    }else if(dom.attachEvent){
        dom.attachEvent('on' + type, fn);
    // å¯¹äºä¸æ”¯æŒaddEventListeneræ–¹æ³•ä¹Ÿä¸æ”¯æŒattachEventæ–¹æ³•ï¼Œä½†æ”¯æŒon+'äº‹ä»¶å'çš„æµè§ˆå™¨
    }else{
        dom['on' + type] = fn;
    }
}

var myInput = document.getElementById('myinput');
addEvent(myInput, 'click', function(){
    console.log("ç»‘å®šç¬¬ä¸€ä¸ªäº‹ä»¶")
})
addEvent(myInput, 'click', function(){
    console.log("ç»‘å®šç¬¬äºŒä¸ªäº‹ä»¶")
})
addEvent(myInput, 'click', function(){
    console.log("ç»‘å®šç¬¬ä¸‰ä¸ªäº‹ä»¶")
})
```

ä½¿ç”¨ã€ å¤–è§‚æ¨¡å¼ ã€æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸€ä¸ªæ¥å£å»å…¼é¡¾å¤šç§æƒ…å†µ.

ğŸŒ° æ¯”å¦‚å°†å¤šä¸ªåŠŸèƒ½å°è£…åˆ°ä¸€ä¸ªå¯¹è±¡ä¸­å»:

``` js
// ç®€çº¦ç‰ˆå±æ€§æ ·å¼æ–¹æ³•åº“
var A = {
    // é€šè¿‡idè·å–å…ƒç´ 
    g : function(id){
        return document.getElementById(id);
    },
    // è®¾ç½®å…ƒç´ csså±æ€§
    css : function(id, key, value){
        document.getElementById(id).style[key] = value;
    },
    // è®¾ç½®å…ƒç´ çš„å±æ€§
    attr : function(id, key, value){
        document.getElementById(id)[key] = value;
    },
    html : function(id, html){
        document.getElementById(id).innerHTML = html;
    },
    // ä¸ºå…ƒç´ ç»‘å®šäº‹ä»¶
    on : function(id, type, fn){
        document.getElementById(id)['on' + type] = fn;
    }
};

A.css('box', 'background', 'red'); // è®¾ç½®cssæ ·å¼
A.attr('box', 'className', 'box'); // è®¾ç½®class
A.html('box', 'è¿™æ˜¯æ–°æ·»åŠ çš„å†…å®¹');  // è®¾ç½®å†…å®¹
A.on('box', 'click', function(){  // ç»‘å®šäº‹ä»¶
    A.css('box', 'width', '500px');
});
```
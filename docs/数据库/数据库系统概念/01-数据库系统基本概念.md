# 数据库系统基本概念

## 初步认识数据库系统

#### 什么是数据库

✏️ **数据库 Database**: 相互之间有关联关系的数据表集合;

✏️ **表 Table**: 由纵向的列和横向的行组成的二维表格, 表中的一行代表了一组值之间的++联系++, 表就是这种联系的++集合++;

下面 👇 的图就是一张数据表:

![2020-05-24-09-36-44](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-24-09-36-44.png)

数据表中各部分都有很多不同的术语:

- **行**, 可以被称作 "**记录**";
- **列**, 可以被称作 "**字段**"

- 在数学的『 **关系模式** 』概念中:
  - **关系** relation -> 表;
  - **元组** tuple -> 行;
  - **属性** attribute -> 列;

#### 什么是数据库系统

✏️ **数据库系统**: 运行在计算机上应用数据库管理数据的系统;

一般由以下内容构成:

- 数据库: 相互之间有关联关系的数据表集合;
- 数据库管理系统: 用户管理数据库的一种系统软件;
- 数据库应用: 提供给数据库系统使用者的具体应用程序;
- 数据库管理员: 管理数据库, 并编写提供给用户的各种程序;
- 计算机系统: 提供基础的数据库系统运行环境;

![2020-05-24-08-46-26](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-24-08-46-26.png)

#### 什么是数据库管理系统

✏️ **数据库管理系统 DBMS**:

- 全称 Database Management System;
- 是用于管理数据库的系统软件, 例如 MySQL, Oracle, 等;

✏️ **数据库管理系统 DBMS 提供的功能** (用户角度):

- **数据定义功能**:
  - DBMS 提供数据定义语言 DDL（Data Definition Language）
  - 用户通过它对数据库中的数据对象进行定义;
  - DBMS 会依照用户的定义, 创建数据库及其中的数据表;
- **数据操纵功能**:
  - DBMS 提供数据操纵语言 DML（Data Manipulation Language）
  - 用户可以使用 DML 操纵数据，实现对数据库的基本操作，如查询、插入、删除和修改等;
- **数据控制功能**:
  - DBMS 提供数据控制语言 DCL（Data Control Language）
  - 用户使用 DCL 定义数据库相关的安全, 权限设置;
- **数据维护功能**:
  - DBMS 提供一系类程序让用户能够对数据库进行维护;
  - 转储/恢复/重组/性能检测/分析/等...

✏️ **数据库管理系统 DBMS 的功能** (系统角度):

![2020-05-24-09-03-35](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-24-09-03-35.png)

![2020-05-24-09-04-29](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-24-09-04-29.png)

- **语言编译器**: 将用数据库语言编写的内容, 翻译成 DBMS 可执行的命令;
- **查询优化**: 提高数据检索速度;
- **数据存取 & 索引**: 提供数据在存储设备上的高效存取手段;
- **通信控制**: 提供网络环境下数据库操作与数据传输的手段;
- **事务管理**: 提供提高可靠性并避免并发操作错误的手段;
- **故障恢复**: 使数据库自动恢复到故障发生前正确状态的手段;
- **安全性控制**: 提供合法性检验, 避免无授权用户非法访问数据库的手段;
- **完整性控制**: 提供数据及数据操作正确性检查的手段;
- **数据字典管理**: 提供用户已经定义的信息;
- **应用程序接口 API**: 提供应用程序使用 DBMS 特定功能的手段;
- **数据库数据装载, 重组等实用程序**
- **数据库性能分析**: 统计在运行过程中数据库的各种性能数据, 便于优化运行;

#### 什么是 SQL

✏️ **SQL**: 结构化查询语言 Structured Query Language;

- ++用户使用 SQL 语言操作 DBMS++;
- 由 "数据定义语言 DDL", "数据操纵语言 DML", "数据控制语言 DCL" 组成;
- 由 ANSI（American National Standards Institute 美国国家标准化组织）制定标准的计算机语言;
- 不同的 DBMS 会有不同的 SQL 语言实现, 但都依照统一的 SQL 标准, 所以大体上都相同;
- 平时说的学习 MySQL 语言, 指的是学习名字叫做 MySQL 的 DBMS 数据库管理系统支持的 SQL 语言;

## 数据库系统的标准结构

#### 三个层次

下图表示的一个数据库系统, 我们把 DBMS 管理的数据抽象成++三个层次++:

- **外部层次** External Level:
  - 用户能够看到与处理的数据, 是全局数据中的某一部分;
  - 也称. 用户层次 User Level
- **概念层次** Conceptual Level:
  - 从全局角度管理的数据, 包含相关的关联约束;
  - 也称, 全局层次, 逻辑层次 Logic Level;
- **内部层次** Internal Level:
  - 存储在介质上的数据;
  - 也称, 物理层次 Physical Level;

![2020-05-24-14-08-23](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-24-14-08-23.png)

#### 模式 & 视图

✏️ **模式 Schema**: 对数据库中数据的一种结构性描述;

✏️ **视图 View**: 某一种表现形式下表现出来的数据库中的数据;

模式是对数据的抽象, 视图是对数据的展示;

![2020-05-24-14-19-20](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-24-14-19-20.png)

::: warning Tip
『 模式 』就像是写作文时用的 "总分总" 的结构, 它只是定义了文章的结构, 而不管文章的具体内容.

我们在作文纸上按照总分总的结构写完一篇完整的作文, 展示给老师看时, 展示的就是『 视图 』
:::

#### 三层模式 & 三层视图

- DBMS 管理数据的三个层次分别有各自对应的模式 Schema 和视图 View;
-  模式是对层次上的数据的结构描述;
- 视图是对层次上的数据的具体展现;

![2020-05-24-14-33-31](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-24-14-33-31.png)

#### 两层映像

- 映像: 将一种模式映射为另一种结构;
- ✏️ **E-C Mapping**: 将外模式映射为概念模式, 从而实现概念视图向外部视图的转换;
- 用以向用户展示数据;
- ✏️ **C-I Mapping**: 将概念模式映射为内模式, 从而实现概念视图向内部视图的转换;
- 用以存储和处理数据;

![2020-05-24-14-37-46](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-24-14-37-46.png)

#### 两个独立性

✏️ **逻辑数据独立性**: 当概念模式发生变化, 可以不改变外部模式, 只需更改 E-C Mapping 映射, 从而用户察觉不到概念模式的变化;

✏️ **物理数据独立性**: 当内部模式发生变化, 可以不改变概念模式, 只需改变 C-I Mapping 映射, 用户同样察觉不到变化;

![2020-05-24-14-47-06](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-24-14-47-06.png)

## 数据模型

#### 什么是数据模型

✏️ **数据模型**:

- 规定模式统一描述方式的模型;
- 定义模式的数据结构, 支持的操作和约束;
- 数据模型是对模式本身结构的抽象, 模式是对数据本身结构的抽象;

🌰 例如, 下图展示是『 关系模型 』:

- 依照关系模型定义出来的模式都用 Table 表的数据结构存储数据, 而每个具体模式都是拥有不同字段的和表名称的具体的表;
- 关系模型同时还定义了表中存储的数据所支持的操作, 和带有那些约束;

![2020-05-24-14-55-32](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-24-14-55-32.png)

#### 关系模型

- 关系模型用『 **表** 』的形式组织数据;
- 关系模型定义了一个抽象的表;
- 关系模型的模型定义了一个具体表的结构;
- 关系模型的数据是符合表结构的具体数据;

![2020-05-24-15-05-29](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-24-15-05-29.png)

#### 层次模型

- 层次模型用『 **树** 』的形式组织数据;
- 层次模型中, 每个记录种类被称为 "实体型", 实体型之间连接的指针叫 "系型";

![2020-05-24-15-08-07](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-24-15-08-07.png)

#### 网状模型

- 网状模型用『 **图** 』的形式组织数据;

![2020-05-24-15-13-26](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-24-15-13-26.png)

# 统计学 (01)

[豆瓣 - 统计学 - William Mendenhal](https://book.douban.com/subject/4076214/)

![2020-05-30-14-13-04](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-30-14-13-04.png)

## 基本概念

✏️ **统计学是对数据进行收集, 分类, 分析以及解释的科学**

统计学主要有两个分支:

- 『 **描述性统计** 』:
  - 对数据进行整理, 概括, 以及描述;
  - 🌰 记录一个工厂过去一年中二氧化碳的每日排放量;
- 『 **推断统计** 』:
  - 利用样本数据对一个很大的数据集的性质做出推断;
  - 🌰 利用一个湖中不同位置采集的水样本, 去推断出整体湖水的性质;

#### 统计学的基本要素

在统计学术语中:

- 把想要描述的整体数据集合称为『 **总体** 』
- 把总体中的一个数据子集称为『 **样本** 』
- 作为数据来源的测量对象, 称为『 **试验单位** 』
- 在研究总体和样本的过程中, 我们所关注的试验单位的一个或多个特征或性质, 称为『 **变量** 』

::: details-open 🌰 例子：
工程师们监测了过去一年中, 50 个没有左转弯车道的交叉路口的所有通行车辆, 并记录了因为左转弯而发生事故的车辆总数. 目的是研究这些交叉路口的事故比例. 结论用以作为为交叉路口设置左转车道的数据支持. 在这个例子中:

- 『 试验单位 』是没有左转弯车道的交叉路口;
- 『 变量 』是每个路口发生事故的左转弯汽车的数量;
- 『 总体 』是所有的交叉路口;
- 『 样本 』是工程师检测的 50 个交叉路口, 及其子集;

:::

#### 数据类型

从试验单位身上测量来的数据可以分为如下两种类型:

- 『 **定量数据** 』: 可以用数值标度度量的数据;
  - 🌰 高度, 重量, 压强, 信号频率;
- 『 **定性数据** 』: 不可量化的, 通常是一组表示事物某个性质的类别;
  - 🌰 性别, 颜色, 型号, 国家;

## 描述性统计

在收集到了数据集之后, 我们需要一些方法, 去整理和描述这些数据. 下面介绍几种描述数据的基本统计工具:

### 描述定性数据

在描述定性数据时, 我们认为每一个测量值都能够落入一个或一组类别:

- 对于给定的类别, 数据集中落入这个类别的测量值个数, 称为『 **频数** 』
- 对于给定的类别, 数据集中落入这个类别的测量值个数, 相对于所有测量值的占比, 称为『 **相对频率** 』

定性数据的图形描述, 常用条形图和饼状图:

- 『 **条形图** 』表示出每一类别的频数, 或相对频率;
- 『 **饼图** 』表示出类别的频数在整体中的占比;

::: details-open 🌰 例子：

![2020-05-30-16-29-13](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-30-16-29-13.png)

研究人员收集了自 1977 年以来, 全世界的 45 起与能源相关的死亡事故的数据. 从中将 "死亡原因" 作为『 定性变量 』将 45 起事故数据分成了 6 类.

上表 👆 汇总出了每类原因的『 频数 』和『 相对频率 』

下面 👇 分别用『 条形图 』和『 饼图 』来描述了这份数据:

![2020-05-30-16-28-58](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-30-16-28-58.png)

:::

### 描述定量数据 - 图形法

对于定量数据的描述, 我们可以采用三种图形法:

- 点图;
- 茎叶图;
- 直方图;

#### 点图

- 水平轴表示定量变量的值的刻度;
- 数据集中每个测量值的数值在水平轴上用点表示, 如果对应位置已经有点存在, 则在此点的基础上进行堆叠;
- 当有多个测量值都具有相同的数值, 它们都落在了水平轴上的同一个位置, 这些点堆叠起来称为一个柱形图案;

::: details-open 🌰 例子：

下图 👇 展现了 100 个对新车里程等级的测量值, 及其『 点图 』表示:

![2020-05-30-16-38-19](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-30-16-38-19.png)

![2020-05-30-16-38-08](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-30-16-38-08.png)

:::

#### 茎叶图

- 构造茎叶图时, 先把数据集中的每一个测量值分为 "茎" 和 "叶" 两个部分.
  - 🌰 例如, `1.32` 和 `2.45` 可以分成 `1 - 32` 和 `2 - 45`
- 将 "茎" 按照数值大小依次排列成一列;
- 之后处理整个数据集, 把每个测量值的 "叶" 放到恰当的 "茎" 的后面, 同一行上的 "叶" 可以按照大小顺序排列;

::: details-open 🌰 例子：

下图 👇 是对上面 100 个新车里程等级的测量值的『 茎叶图 』表示:

![2020-05-30-16-47-14](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-30-16-47-14.png)

:::

#### 直方图

- 直方图的水平轴上, 将定量变量的可能数值分成了很多个区间, 每个区间都有相同的宽度;
- 每个区间上有一个垂直的长方形, 它的高度表示测量值分别落入各个区间的频数, 或者相对频率;
- 直方图本质上就是条形图, 它的类别就是一个个的区间;

::: details-open 🌰 例子：

下图 👇 就展示出了上面数据集的直方图表示:

![2020-05-30-16-54-40](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-30-16-54-40.png)

:::

### 描述定量数据 - 数值法

『 **数值描述性度量** 』是由数据集计算得到的数值:

- 由样本数据计算而得到的数值描述性度量, 称为『 **统计量** 』
- 由总体数据计算而得到的数值描述性度量, 称为『 **参数** 』

#### 中心趋势的度量

- 中心趋势度量, 用以帮助确定图形中测量值分布的中心位置;
- 最常用的有三种类型的度量:
  - 算术平均;
  - 中位数;
  - 众数;

『 **算术平均** 』是所有测量值的平均值;

- 用符号 $\bar y$ 表示『 **样本均值** 』
- 用符号 $μ$ 表示『 **总体均值** 』

『 **中位数** 』是测量值按照大小顺序排列后, 位于中间位置的值;

- 用符号 $m$ 表示『 **样本中位数** 』
- 用符号 $τ$ 表示『 **总体中位数** 』

![2020-05-30-17-22-01](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-30-17-22-01.png)

『 **众数** 』是在数据集中出现次数最多的测量值;

#### 变异性的度量

- 数据变异性度量, 用以描述围绕中心位置波动的测量值;
- 最常用的度量有:
  - 极差;
  - 方差;
  - 标准差;

『 **极差** 』等于一个数据集合中最大测量值减去最小测量值的差;

『 **方差** 』所有测量值与数据集的平均值之差的平方值的平均值;

- 表示数据偏离平均值的程度;
- 用符号 $s^2$ 表示『 **样本方差** 』
- 用符号 $σ^2$ 表示『 **总体方差** 』

![2020-05-30-17-48-26](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-30-17-48-26.png)

『 **标准差** 』等于方差的平方根;

- 用符号 $s$ 表示『 **样本标准差** 』
- 用符号 $σ$ 表示『 **总体标准差** 』

![2020-05-30-17-49-26](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-30-17-49-26.png)

- 解释标准差有两个有用的法则, 分别是:
  - 『 **经验法则** 』由科学家通过观察真实数据集得到出的实际经验准则;
  - 『 **切比雪夫法则** 』由俄国科学家 Chebyshev 证明的结论;

![2020-05-30-18-03-53](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-30-18-03-53.png)

::: details-open 🌰 例子：

![2020-05-30-18-13-04](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-30-18-13-04.png)

:::

#### 相对位置的度量

- 相对位置度量, 用以述数据集中一个观测值的相对位置;
- 描述观测值相对位置的两个度量是:
  - 百分位数;
  - $z$ 得分;

『 **百分位数** 』数据集的第 $100p$ 百分位数是这样一个 $y$ 值, 在数据集的相对频率分布中, 有 $100p\%$ 的面积位于它的左边, 有 $100(1-p)\%$ 的面积位于它的右边 ( $0 \le p \le 1$ )

- 对于一个数据集而言:
  - 第 25 百分位数, 称为『 **下四分位数** 』
  - 第 50 百分位数, 称为『 **中四分位数** 』, 也是数据集的中位数
  - 第 70 百分位数, 称为『 **上四分位数** 』

![2020-05-30-18-25-29](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-30-18-25-29.png)

![2020-05-30-18-32-48](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-30-18-32-48.png)

『 **$z$ 得分** 』描述了以标准差为单位, 测量值 $y$ 相对于均值的位置;

- 负的 $z$ 得分表示测量值位于均值的左边;
- 正的 $z$ 得分表示测量值位于均值的右边;
- 『 **样本 $z$ 得分** 』: $z=\frac{y-\bar y}{s}$

- 『 **总体 $z$ 得分** 』: $z=\frac{y-\bar μ}{σ}$

#### 检测异常值的方法

- 一个数据集中有时会包含一些不规则的测量值, 我们可能并不希望数据集中包含这样的测量值;
- 对于这些位于我们想要描述的数据范围之外的不规则的测量值, 称为『 **异常值** 』, 用符号 $γ$ 表示;

- 一般异常值出现的原因有:
  - 在观测或记录测量值时出现了错误;
  - 测量值来自于不同的总体;
  - 测量值是正确的, 其代表一个偶然事件;

---

确定一个值是否是异常值可以通过计算它的『 **$z$ 得分** 』

::: details-open 🌰 例子：

![2020-05-30-18-45-55](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-30-18-45-55.png)

:::

另一个确定测量值是否是异常值的方法是, 构造样本数据的『 **盒子图** 』

![2020-05-30-18-55-48](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-30-18-55-48.png)

![2020-05-30-18-55-32](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-30-18-55-32.png)

::: details-open 🌰 例子：

![2020-05-30-19-00-20](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-30-19-00-20.png)

![2020-05-30-19-03-19](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-30-19-03-19.png)

:::

## 概率

- 基于样本数据对总体做出的推断是存在一定程度的误差的;
- 而误差有多大是不确定的;
- 通过『 **概率** 』可以量化这种不确定性;
  - 🌰 天气预报说, 明天会下雨的可能性为 20%. 这种说法指出明天是否下雨是不确定的, 有 20% 的可能性会下雨;

### 事件, 样本空间, 概率

下面介绍一些在讨论概率时, 会用到的概念:

- 假设抛一枚硬币, 记录正面朝上的结果, 这被称为一次『 **观测/测量** 』
- 记录下来的值称为『 **观测值/测量值** 』
- 获得一个测量值的过程, 称为『 **试验** 』
- 一个试验得出一个基本结果, 被称为『 **简单事件** 』
  - 基本结果, 就是不能够再分解成任何其他结果的结果;
- 试验的所有简单事件的集合, 称为『 **样本空间** 』

![2020-05-31-14-55-03](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-31-14-55-03.png)

- 可以通过『 **文氏图** ( Venn 图, 维恩图 ) 』来用图示来描述样本空间及其简单事件;
  - 样本空间呈现为一个封闭的图形, 记为 $S$
  - 其内部包含称为『 **样本点** 』的点集, 每个点代表一个简单事件;

![2020-05-31-14-57-27](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-31-14-57-27.png)

- 一个简单事件的『 **概率** 』就是度量这个事件在进行试验时会发生的可能性的一个数值;
  - 也就是事件发生的次数, 在
  - 对于一个简单事件 $E$, 我们记 $E$ 的概率为 $P(E)$

一个试验的简单事件的概率遵循下面 👇 的两条法则:

![2020-05-31-15-00-17](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-31-15-00-17.png)

- 一个指定的简单事件集合, 称为『 **事件** 』
  - 事件的概率是事件中包含的所有简单事件概率之和;

::: details-open 🌰 例子：

![2020-05-31-15-02-20](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-31-15-02-20.png)

:::

**计算任意事件的概率, 可以概括为如下 👇 的步骤**:

1. 定义试验, 即描述获得观测值的过程, 以及观测值的类型;
2. 定义并列举出来简单事件;
3. 计算出简单事件的概率;
4. 确定感兴趣的事件所包含的简单事件集合;
5. 对简单事件的概率求和, 计算出事件的概率;

::: details-open 🌰 例子：

![2020-05-31-15-05-11](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-31-15-05-11.png)
![2020-05-31-15-05-33](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-31-15-05-33.png)

:::

---

一个事件有时可以看成是多个事件的组合, 这种事件被称为『 **复合事件** 』

![2020-05-31-15-08-34](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-31-15-08-34.png)

::: details-open 🌰 例子：

![2020-05-31-15-09-29](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-31-15-09-29.png)
![2020-05-31-15-10-11](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-31-15-10-11.png)

:::

### 补事件

- 事件 A 的『 **补** 』是指 A 不发生的事件, 即所有不在事件 A 中的简单事件组成的事件;
- 记作 $A^c$;
- $A \cup A^c = S$, $S$ 是样本空间;
- $P(A) + P(A^c) = 1$

::: details-open 🌰 例子：

![2020-05-31-15-14-00](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-31-15-14-00.png)

:::

### 条件概率

- 上面 👆 所谈的事件, 并没有对它们的出现假定任何特殊条件. 那么计算出来的事件概率, 被称为『 **无条件概率** 』
- 如果加上了某些会改变事件概率的前置条件时, 那么计算出的事件概率, 称为『 **条件概率** 』
  - 🌰 假如, 我们投掷一个骰子, 观测到偶数 (事件 A) 的概率为 1/2. 但是当加上 "某次投掷出的结果小于等于 3" (事件 B) 这个条件, 对于事件 A 的概率就不能按照 1/2 算了;
- 加上前置事件后, 原本的样本空间只剩下前置事件内包含的简单事件了, 缩减后的样本空间称为『 **缩减样本空间** 』
- 在给定事件 B 发生的条件下, 事件 A 发生的概率用 $P(A|B)$ 表示;

![2020-05-31-15-30-01](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-31-15-30-01.png)

🌰 继续拿投骰子举例:

![2020-05-31-15-28-39](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-31-15-28-39.png)

### 交 & 并的概率法则

当某些事件的概率是已知的时, 利用『 **加法法则** 』和 『 **乘法法则** 』可以快速计算事件『 **交** 』和『 **并** 』的概率:

#### 加法法则

![2020-05-31-15-32-31](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-31-15-32-31.png)

::: details-open 🌰 例子：

![2020-05-31-15-35-28](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-31-15-35-28.png)

:::

---

- 当 $A \cap B$ 不包含简单事件时, 这时称事件 A 和 事件 B 是『 **互斥事件** 』
- $A \cap B$ 永远不可能发生, $P(A \cap B) = 0$

![2020-05-31-15-32-44](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-31-15-32-44.png)

![2020-05-31-15-37-02](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-31-15-37-02.png)

::: details-open 🌰 例子：

![2020-05-31-15-37-53](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-31-15-37-53.png)

:::

#### 乘法法则

通过如下 👇 这个公式可以得出概率的乘法法则:

![2020-05-31-15-40-22](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-31-15-40-22.png)

![2020-05-31-15-33-13](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-31-15-33-13.png)

::: details-open 🌰 例子：

![2020-05-31-15-41-05](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-31-15-41-05.png)

:::

---

- 如果事件 $B$ 的发生, 不改变事件 $A$ 发生的概率, 我们称事件 A 和事件 B 是『 **独立的** 』
- 不独立的事件称为『 **相关的** 』
- 两个互斥事件中, 事件 B 发生, 事件 A 就不可能发生, 所以『 **互斥事件是相关事件** 』

![2020-05-31-15-34-25](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-31-15-34-25.png)

::: details-open 🌰 例子：

![2020-05-31-15-47-36](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-31-15-47-36.png)

![2020-05-31-15-48-14](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-31-15-48-14.png)

:::

### 贝叶斯法则

![2020-05-31-15-48-49](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-31-15-48-49.png)

- 『 **完备事件组 Collectively Exhaustive Events** 』
  - 设 $S$ 为试验 $E$ 的样本空间，$B_1，B_2，…，B_n$ 为 $E$ 的一组事件。若
    - $B_i ∩ B_j=∅$ （$i≠j$ 且 $i、j=1，2，…，n$）；
    - $B_1∪B_2∪…∪B_n=S$，
  - 则称 $B_1，B_2，…，B_n$ 为样本空间 $S$ 的一个完备事件组;

::: details-open 🌰 例子：

![2020-05-31-15-57-02](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-31-15-57-02.png)
![2020-05-31-15-57-32](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-31-15-57-32.png)
![2020-05-31-15-57-43](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-31-15-57-43.png)

:::

### 计数法则

有时候试验包含太多的简单事件, 以至于不太可能把他们全部列举出来, 这时用『 **计数法则** 』可以数清楚简单事件的个数.

根据不同的情况, 可以应用一下几种法则进行简单事件的计数:

- 乘法法则;
- 排列法则;
- 分割法则;
- 组合法则;

#### 乘法法则

![2020-05-31-16-01-31](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-31-16-01-31.png)

::: details-open 🌰 例子：

![2020-05-31-16-01-57](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-31-16-01-57.png)

:::

#### 排列法则

![2020-05-31-16-03-30](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-31-16-03-30.png)

::: details-open 🌰 例子：

![2020-05-31-16-03-38](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-31-16-03-38.png)

:::

#### 分割法则

![2020-05-31-16-08-43](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-31-16-08-43.png)

::: details-open 🌰 例子：

![2020-05-31-16-12-11](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-31-16-12-11.png)

:::

#### 组合法则

![2020-05-31-16-13-30](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-31-16-13-30.png)

::: details-open 🌰 例子：

![2020-05-31-16-14-20](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-31-16-14-20.png)

:::

### 概率和统计的示例

在概率和统计间建立起一个清晰的连接是非常重要的, 下面做一个例题来帮助深化理解:

![2020-05-31-16-17-47](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-31-16-17-47.png)
![2020-05-31-16-18-01](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-31-16-18-01.png)

### 随机样本

如果能以一种方法从总体中选取 $n$ 个元素, 使得总体中每个 包含 $n$ 个元素的集合都能够以等概率被选中, 那这个 $n$ 个元素的集合被称为『 **随机样本** 』

::: details-open 🌰 例子：

![2020-05-31-16-23-02](https://garrik-default-imgs.oss-accelerate.aliyuncs.com/imgs/2020-05-31-16-23-02.png)

:::

## 离散随机变量

## 概念

从概念上讲，中间件是一种功能的封装方式。具体来说就是封装在程序中处理 HTTP 请求的功能。

在使用上讲，中间件只是一个有 3 个参数的函数: 一个 请求对象、一个 响应对象 和一个 next 函数。
(还有一种 4 个参数的形式，用来做错误处理）

可以把中间件想象成 水管。水从一端入，在到达出水口的过程中，会经历各种 仪表 和 阀门。而这个过程中最重要的就是顺序。在其中一个阀门中注入一种原料，流过这个阀门之后的水都会含有这种原料。

在 Express 程序中，通过调用 `app.use` 向管道中插入中间件。

